(function(We,Et){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=We.document?Et(We,!0):function(St){if(!St.document)throw new Error("jQuery requires a window with a document");return Et(St)}:Et(We)})(typeof window<"u"?window:this,function(We,Et){"use strict";var St=[],et=Object.getPrototypeOf,q=St.slice,H=St.flat?function(r){return St.flat.call(r)}:function(r){return St.concat.apply([],r)},p=St.push,E=St.indexOf,f={},b=f.toString,N=f.hasOwnProperty,W=N.toString,v=W.call(Object),C={},R=function(r){return"function"==typeof r&&"number"!=typeof r.nodeType&&"function"!=typeof r.item},ge=function(r){return null!=r&&r===r.window},ee=We.document,re={type:!0,src:!0,nonce:!0,noModule:!0};function pe(r,a,m){var w,L,z=(m=m||ee).createElement("script");if(z.text=r,a)for(w in re)(L=a[w]||a.getAttribute&&a.getAttribute(w))&&z.setAttribute(w,L);m.head.appendChild(z).parentNode.removeChild(z)}function Me(r){return null==r?r+"":"object"==typeof r||"function"==typeof r?f[b.call(r)]||"object":typeof r}var Be=/HTML$/i,g=function(r,a){return new g.fn.init(r,a)};function gt(r){var a=!!r&&"length"in r&&r.length,m=Me(r);return!R(r)&&!ge(r)&&("array"===m||0===a||"number"==typeof a&&0<a&&a-1 in r)}function ct(r,a){return r.nodeName&&r.nodeName.toLowerCase()===a.toLowerCase()}g.fn=g.prototype={jquery:"3.7.0",constructor:g,length:0,toArray:function(){return q.call(this)},get:function(r){return null==r?q.call(this):r<0?this[r+this.length]:this[r]},pushStack:function(r){var a=g.merge(this.constructor(),r);return a.prevObject=this,a},each:function(r){return g.each(this,r)},map:function(r){return this.pushStack(g.map(this,function(a,m){return r.call(a,m,a)}))},slice:function(){return this.pushStack(q.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(g.grep(this,function(r,a){return(a+1)%2}))},odd:function(){return this.pushStack(g.grep(this,function(r,a){return a%2}))},eq:function(r){var a=this.length,m=+r+(r<0?a:0);return this.pushStack(0<=m&&m<a?[this[m]]:[])},end:function(){return this.prevObject||this.constructor()},push:p,sort:St.sort,splice:St.splice},g.extend=g.fn.extend=function(){var r,a,m,w,L,z,J=arguments[0]||{},oe=1,ne=arguments.length,he=!1;for("boolean"==typeof J&&(he=J,J=arguments[oe]||{},oe++),"object"==typeof J||R(J)||(J={}),oe===ne&&(J=this,oe--);oe<ne;oe++)if(null!=(r=arguments[oe]))for(a in r)w=r[a],"__proto__"!==a&&J!==w&&(he&&w&&(g.isPlainObject(w)||(L=Array.isArray(w)))?(m=J[a],z=L&&!Array.isArray(m)?[]:L||g.isPlainObject(m)?m:{},L=!1,J[a]=g.extend(he,z,w)):void 0!==w&&(J[a]=w));return J},g.extend({expando:"jQuery"+("3.7.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(r){throw new Error(r)},noop:function(){},isPlainObject:function(r){var a,m;return!(!r||"[object Object]"!==b.call(r)||(a=et(r))&&("function"!=typeof(m=N.call(a,"constructor")&&a.constructor)||W.call(m)!==v))},isEmptyObject:function(r){var a;for(a in r)return!1;return!0},globalEval:function(r,a,m){pe(r,{nonce:a&&a.nonce},m)},each:function(r,a){var m,w=0;if(gt(r))for(m=r.length;w<m&&!1!==a.call(r[w],w,r[w]);w++);else for(w in r)if(!1===a.call(r[w],w,r[w]))break;return r},text:function(r){var a,m="",w=0,L=r.nodeType;if(L){if(1===L||9===L||11===L)return r.textContent;if(3===L||4===L)return r.nodeValue}else for(;a=r[w++];)m+=g.text(a);return m},makeArray:function(r,a){var m=a||[];return null!=r&&(gt(Object(r))?g.merge(m,"string"==typeof r?[r]:r):p.call(m,r)),m},inArray:function(r,a,m){return null==a?-1:E.call(a,r,m)},isXMLDoc:function(r){var m=r&&(r.ownerDocument||r).documentElement;return!Be.test(r&&r.namespaceURI||m&&m.nodeName||"HTML")},merge:function(r,a){for(var m=+a.length,w=0,L=r.length;w<m;w++)r[L++]=a[w];return r.length=L,r},grep:function(r,a,m){for(var w=[],L=0,z=r.length,J=!m;L<z;L++)!a(r[L],L)!==J&&w.push(r[L]);return w},map:function(r,a,m){var w,L,z=0,J=[];if(gt(r))for(w=r.length;z<w;z++)null!=(L=a(r[z],z,m))&&J.push(L);else for(z in r)null!=(L=a(r[z],z,m))&&J.push(L);return H(J)},guid:1,support:C}),"function"==typeof Symbol&&(g.fn[Symbol.iterator]=St[Symbol.iterator]),g.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(r,a){f["[object "+a+"]"]=a.toLowerCase()});var mn=St.pop,be=St.sort,it=St.splice,st="[\\x20\\t\\r\\n\\f]",yt=new RegExp("^"+st+"+|((?:^|[^\\\\])(?:\\\\.)*)"+st+"+$","g");g.contains=function(r,a){var m=a&&a.parentNode;return r===m||!(!m||1!==m.nodeType||!(r.contains?r.contains(m):r.compareDocumentPosition&&16&r.compareDocumentPosition(m)))};var xt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function Ht(r,a){return a?"\0"===r?"\ufffd":r.slice(0,-1)+"\\"+r.charCodeAt(r.length-1).toString(16)+" ":"\\"+r}g.escapeSelector=function(r){return(r+"").replace(xt,Ht)};var At=ee,sn=p;!function(){var r,a,m,w,L,z,J,oe,ne,he,_e=sn,Ie=g.expando,ye=0,Re=0,ut=kn(),De=kn(),Rt=kn(),In=kn(),ht=function(te,ue){return te===ue&&(L=!0),0},Ee="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Ae="(?:\\\\[\\da-fA-F]{1,6}"+st+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",xe="\\["+st+"*("+Ae+")(?:"+st+"*([*^$|!~]?=)"+st+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Ae+"))|)"+st+"*\\]",Ge=":("+Ae+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+xe+")*)|.*)\\)|)",tt=new RegExp(st+"+","g"),wt=new RegExp("^"+st+"*,"+st+"*"),Pn=new RegExp("^"+st+"*([>+~]|"+st+")"+st+"*"),zr=new RegExp(st+"|>"),tn=new RegExp(Ge),Ei=new RegExp("^"+Ae+"$"),Or={ID:new RegExp("^#("+Ae+")"),CLASS:new RegExp("^\\.("+Ae+")"),TAG:new RegExp("^("+Ae+"|[*])"),ATTR:new RegExp("^"+xe),PSEUDO:new RegExp("^"+Ge),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+st+"*(even|odd|(([+-]|)(\\d*)n|)"+st+"*(?:([+-]|)"+st+"*(\\d+)|))"+st+"*\\)|)","i"),bool:new RegExp("^(?:"+Ee+")$","i"),needsContext:new RegExp("^"+st+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+st+"*((?:-\\d)?\\d*)"+st+"*\\)|)(?=[^-]|$)","i")},Xn=/^(?:input|select|textarea|button)$/i,wi=/^h\d$/i,yr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,On=/[+~]/,Rn=new RegExp("\\\\[\\da-fA-F]{1,6}"+st+"?|\\\\([^\\r\\n\\f])","g"),An=function(te,ue){var Te="0x"+te.slice(1)-65536;return ue||(Te<0?String.fromCharCode(Te+65536):String.fromCharCode(Te>>10|55296,1023&Te|56320))},Qt=function(){Ar()},dr=Ci(function(te){return!0===te.disabled&&ct(te,"fieldset")},{dir:"parentNode",next:"legend"});try{_e.apply(St=q.call(At.childNodes),At.childNodes)}catch{_e={apply:function(ue,Te){sn.apply(ue,q.call(Te))},call:function(ue){sn.apply(ue,q.call(arguments,1))}}}function kt(te,ue,Te,ke){var Ne,dt,pt,nt,Ke,nn,Ft,jt=ue&&ue.ownerDocument,rn=ue?ue.nodeType:9;if(Te=Te||[],"string"!=typeof te||!te||1!==rn&&9!==rn&&11!==rn)return Te;if(!ke&&(Ar(ue),ue=ue||z,oe)){if(11!==rn&&(Ke=yr.exec(te)))if(Ne=Ke[1]){if(9===rn){if(!(pt=ue.getElementById(Ne)))return Te;if(pt.id===Ne)return _e.call(Te,pt),Te}else if(jt&&(pt=jt.getElementById(Ne))&&kt.contains(ue,pt)&&pt.id===Ne)return _e.call(Te,pt),Te}else{if(Ke[2])return _e.apply(Te,ue.getElementsByTagName(te)),Te;if((Ne=Ke[3])&&ue.getElementsByClassName)return _e.apply(Te,ue.getElementsByClassName(Ne)),Te}if(!(In[te+" "]||ne&&ne.test(te))){if(Ft=te,jt=ue,1===rn&&(zr.test(te)||Pn.test(te))){for((jt=On.test(te)&&Ds(ue.parentNode)||ue)==ue&&C.scope||((nt=ue.getAttribute("id"))?nt=g.escapeSelector(nt):ue.setAttribute("id",nt=Ie)),dt=(nn=Qi(te)).length;dt--;)nn[dt]=(nt?"#"+nt:":scope")+" "+bt(nn[dt]);Ft=nn.join(",")}try{return _e.apply(Te,jt.querySelectorAll(Ft)),Te}catch{In(te,!0)}finally{nt===Ie&&ue.removeAttribute("id")}}}return es(te.replace(yt,"$1"),ue,Te,ke)}function kn(){var te=[];return function ue(Te,ke){return te.push(Te+" ")>a.cacheLength&&delete ue[te.shift()],ue[Te+" "]=ke}}function wn(te){return te[Ie]=!0,te}function Cn(te){var ue=z.createElement("fieldset");try{return!!te(ue)}catch{return!1}finally{ue.parentNode&&ue.parentNode.removeChild(ue),ue=null}}function Xr(te){return function(ue){return ct(ue,"input")&&ue.type===te}}function Yr(te){return function(ue){return(ct(ue,"input")||ct(ue,"button"))&&ue.type===te}}function Hr(te){return function(ue){return"form"in ue?ue.parentNode&&!1===ue.disabled?"label"in ue?"label"in ue.parentNode?ue.parentNode.disabled===te:ue.disabled===te:ue.isDisabled===te||ue.isDisabled!==!te&&dr(ue)===te:ue.disabled===te:"label"in ue&&ue.disabled===te}}function Rr(te){return wn(function(ue){return ue=+ue,wn(function(Te,ke){for(var Ne,dt=te([],Te.length,ue),pt=dt.length;pt--;)Te[Ne=dt[pt]]&&(Te[Ne]=!(ke[Ne]=Te[Ne]))})})}function Ds(te){return te&&typeof te.getElementsByTagName<"u"&&te}function Ar(te){var ue,Te=te?te.ownerDocument||te:At;return Te!=z&&9===Te.nodeType&&Te.documentElement&&(J=(z=Te).documentElement,oe=!g.isXMLDoc(z),he=J.matches||J.webkitMatchesSelector||J.msMatchesSelector,At!=z&&(ue=z.defaultView)&&ue.top!==ue&&ue.addEventListener("unload",Qt),C.getById=Cn(function(ke){return J.appendChild(ke).id=g.expando,!z.getElementsByName||!z.getElementsByName(g.expando).length}),C.disconnectedMatch=Cn(function(ke){return he.call(ke,"*")}),C.scope=Cn(function(){return z.querySelectorAll(":scope")}),C.cssHas=Cn(function(){try{return z.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),C.getById?(a.filter.ID=function(ke){var Ne=ke.replace(Rn,An);return function(dt){return dt.getAttribute("id")===Ne}},a.find.ID=function(ke,Ne){if(typeof Ne.getElementById<"u"&&oe){var dt=Ne.getElementById(ke);return dt?[dt]:[]}}):(a.filter.ID=function(ke){var Ne=ke.replace(Rn,An);return function(dt){var pt=typeof dt.getAttributeNode<"u"&&dt.getAttributeNode("id");return pt&&pt.value===Ne}},a.find.ID=function(ke,Ne){if(typeof Ne.getElementById<"u"&&oe){var dt,pt,nt,Ke=Ne.getElementById(ke);if(Ke){if((dt=Ke.getAttributeNode("id"))&&dt.value===ke)return[Ke];for(nt=Ne.getElementsByName(ke),pt=0;Ke=nt[pt++];)if((dt=Ke.getAttributeNode("id"))&&dt.value===ke)return[Ke]}return[]}}),a.find.TAG=function(ke,Ne){return typeof Ne.getElementsByTagName<"u"?Ne.getElementsByTagName(ke):Ne.querySelectorAll(ke)},a.find.CLASS=function(ke,Ne){if(typeof Ne.getElementsByClassName<"u"&&oe)return Ne.getElementsByClassName(ke)},ne=[],Cn(function(ke){var Ne;J.appendChild(ke).innerHTML="<a id='"+Ie+"' href='' disabled='disabled'></a><select id='"+Ie+"-\r\\' disabled='disabled'><option selected=''></option></select>",ke.querySelectorAll("[selected]").length||ne.push("\\["+st+"*(?:value|"+Ee+")"),ke.querySelectorAll("[id~="+Ie+"-]").length||ne.push("~="),ke.querySelectorAll("a#"+Ie+"+*").length||ne.push(".#.+[+~]"),ke.querySelectorAll(":checked").length||ne.push(":checked"),(Ne=z.createElement("input")).setAttribute("type","hidden"),ke.appendChild(Ne).setAttribute("name","D"),J.appendChild(ke).disabled=!0,2!==ke.querySelectorAll(":disabled").length&&ne.push(":enabled",":disabled"),(Ne=z.createElement("input")).setAttribute("name",""),ke.appendChild(Ne),ke.querySelectorAll("[name='']").length||ne.push("\\["+st+"*name"+st+"*="+st+"*(?:''|\"\")")}),C.cssHas||ne.push(":has"),ne=ne.length&&new RegExp(ne.join("|")),ht=function(ke,Ne){if(ke===Ne)return L=!0,0;var dt=!ke.compareDocumentPosition-!Ne.compareDocumentPosition;return dt||(1&(dt=(ke.ownerDocument||ke)==(Ne.ownerDocument||Ne)?ke.compareDocumentPosition(Ne):1)||!C.sortDetached&&Ne.compareDocumentPosition(ke)===dt?ke===z||ke.ownerDocument==At&&kt.contains(At,ke)?-1:Ne===z||Ne.ownerDocument==At&&kt.contains(At,Ne)?1:w?E.call(w,ke)-E.call(w,Ne):0:4&dt?-1:1)}),z}for(r in kt.matches=function(te,ue){return kt(te,null,null,ue)},kt.matchesSelector=function(te,ue){if(Ar(te),oe&&!In[ue+" "]&&(!ne||!ne.test(ue)))try{var Te=he.call(te,ue);if(Te||C.disconnectedMatch||te.document&&11!==te.document.nodeType)return Te}catch{In(ue,!0)}return 0<kt(ue,z,null,[te]).length},kt.contains=function(te,ue){return(te.ownerDocument||te)!=z&&Ar(te),g.contains(te,ue)},kt.attr=function(te,ue){(te.ownerDocument||te)!=z&&Ar(te);var Te=a.attrHandle[ue.toLowerCase()],ke=Te&&N.call(a.attrHandle,ue.toLowerCase())?Te(te,ue,!oe):void 0;return void 0!==ke?ke:te.getAttribute(ue)},kt.error=function(te){throw new Error("Syntax error, unrecognized expression: "+te)},g.uniqueSort=function(te){var ue,Te=[],ke=0,Ne=0;if(L=!C.sortStable,w=!C.sortStable&&q.call(te,0),be.call(te,ht),L){for(;ue=te[Ne++];)ue===te[Ne]&&(ke=Te.push(Ne));for(;ke--;)it.call(te,Te[ke],1)}return w=null,te},g.fn.uniqueSort=function(){return this.pushStack(g.uniqueSort(q.apply(this)))},(a=g.expr={cacheLength:50,createPseudo:wn,match:Or,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(te){return te[1]=te[1].replace(Rn,An),te[3]=(te[3]||te[4]||te[5]||"").replace(Rn,An),"~="===te[2]&&(te[3]=" "+te[3]+" "),te.slice(0,4)},CHILD:function(te){return te[1]=te[1].toLowerCase(),"nth"===te[1].slice(0,3)?(te[3]||kt.error(te[0]),te[4]=+(te[4]?te[5]+(te[6]||1):2*("even"===te[3]||"odd"===te[3])),te[5]=+(te[7]+te[8]||"odd"===te[3])):te[3]&&kt.error(te[0]),te},PSEUDO:function(te){var ue,Te=!te[6]&&te[2];return Or.CHILD.test(te[0])?null:(te[3]?te[2]=te[4]||te[5]||"":Te&&tn.test(Te)&&(ue=Qi(Te,!0))&&(ue=Te.indexOf(")",Te.length-ue)-Te.length)&&(te[0]=te[0].slice(0,ue),te[2]=Te.slice(0,ue)),te.slice(0,3))}},filter:{TAG:function(te){var ue=te.replace(Rn,An).toLowerCase();return"*"===te?function(){return!0}:function(Te){return ct(Te,ue)}},CLASS:function(te){var ue=ut[te+" "];return ue||(ue=new RegExp("(^|"+st+")"+te+"("+st+"|$)"))&&ut(te,function(Te){return ue.test("string"==typeof Te.className&&Te.className||typeof Te.getAttribute<"u"&&Te.getAttribute("class")||"")})},ATTR:function(te,ue,Te){return function(ke){var Ne=kt.attr(ke,te);return null==Ne?"!="===ue:!ue||(Ne+="","="===ue?Ne===Te:"!="===ue?Ne!==Te:"^="===ue?Te&&0===Ne.indexOf(Te):"*="===ue?Te&&-1<Ne.indexOf(Te):"$="===ue?Te&&Ne.slice(-Te.length)===Te:"~="===ue?-1<(" "+Ne.replace(tt," ")+" ").indexOf(Te):"|="===ue&&(Ne===Te||Ne.slice(0,Te.length+1)===Te+"-"))}},CHILD:function(te,ue,Te,ke,Ne){var dt="nth"!==te.slice(0,3),pt="last"!==te.slice(-4),nt="of-type"===ue;return 1===ke&&0===Ne?function(Ke){return!!Ke.parentNode}:function(Ke,nn,Ft){var jt,rn,rt,bn,cn,ln=dt!==pt?"nextSibling":"previousSibling",Ln=Ke.parentNode,$t=nt&&Ke.nodeName.toLowerCase(),jn=!Ft&&!nt,hn=!1;if(Ln){if(dt){for(;ln;){for(rt=Ke;rt=rt[ln];)if(nt?ct(rt,$t):1===rt.nodeType)return!1;cn=ln="only"===te&&!cn&&"nextSibling"}return!0}if(cn=[pt?Ln.firstChild:Ln.lastChild],pt&&jn){for(hn=(bn=(jt=(rn=Ln[Ie]||(Ln[Ie]={}))[te]||[])[0]===ye&&jt[1])&&jt[2],rt=bn&&Ln.childNodes[bn];rt=++bn&&rt&&rt[ln]||(hn=bn=0)||cn.pop();)if(1===rt.nodeType&&++hn&&rt===Ke){rn[te]=[ye,bn,hn];break}}else if(jn&&(hn=bn=(jt=(rn=Ke[Ie]||(Ke[Ie]={}))[te]||[])[0]===ye&&jt[1]),!1===hn)for(;(rt=++bn&&rt&&rt[ln]||(hn=bn=0)||cn.pop())&&(!(nt?ct(rt,$t):1===rt.nodeType)||!++hn||(jn&&((rn=rt[Ie]||(rt[Ie]={}))[te]=[ye,hn]),rt!==Ke)););return(hn-=Ne)===ke||hn%ke==0&&0<=hn/ke}}},PSEUDO:function(te,ue){var Te,ke=a.pseudos[te]||a.setFilters[te.toLowerCase()]||kt.error("unsupported pseudo: "+te);return ke[Ie]?ke(ue):1<ke.length?(Te=[te,te,"",ue],a.setFilters.hasOwnProperty(te.toLowerCase())?wn(function(Ne,dt){for(var pt,nt=ke(Ne,ue),Ke=nt.length;Ke--;)Ne[pt=E.call(Ne,nt[Ke])]=!(dt[pt]=nt[Ke])}):function(Ne){return ke(Ne,0,Te)}):ke}},pseudos:{not:wn(function(te){var ue=[],Te=[],ke=Ks(te.replace(yt,"$1"));return ke[Ie]?wn(function(Ne,dt,pt,nt){for(var Ke,nn=ke(Ne,null,nt,[]),Ft=Ne.length;Ft--;)(Ke=nn[Ft])&&(Ne[Ft]=!(dt[Ft]=Ke))}):function(Ne,dt,pt){return ue[0]=Ne,ke(ue,null,pt,Te),ue[0]=null,!Te.pop()}}),has:wn(function(te){return function(ue){return 0<kt(te,ue).length}}),contains:wn(function(te){return te=te.replace(Rn,An),function(ue){return-1<(ue.textContent||g.text(ue)).indexOf(te)}}),lang:wn(function(te){return Ei.test(te||"")||kt.error("unsupported lang: "+te),te=te.replace(Rn,An).toLowerCase(),function(ue){var Te;do{if(Te=oe?ue.lang:ue.getAttribute("xml:lang")||ue.getAttribute("lang"))return(Te=Te.toLowerCase())===te||0===Te.indexOf(te+"-")}while((ue=ue.parentNode)&&1===ue.nodeType);return!1}}),target:function(te){var ue=We.location&&We.location.hash;return ue&&ue.slice(1)===te.id},root:function(te){return te===J},focus:function(te){return te===function(){try{return z.activeElement}catch{}}()&&z.hasFocus()&&!!(te.type||te.href||~te.tabIndex)},enabled:Hr(!1),disabled:Hr(!0),checked:function(te){return ct(te,"input")&&!!te.checked||ct(te,"option")&&!!te.selected},selected:function(te){return!0===te.selected},empty:function(te){for(te=te.firstChild;te;te=te.nextSibling)if(te.nodeType<6)return!1;return!0},parent:function(te){return!a.pseudos.empty(te)},header:function(te){return wi.test(te.nodeName)},input:function(te){return Xn.test(te.nodeName)},button:function(te){return ct(te,"input")&&"button"===te.type||ct(te,"button")},text:function(te){var ue;return ct(te,"input")&&"text"===te.type&&(null==(ue=te.getAttribute("type"))||"text"===ue.toLowerCase())},first:Rr(function(){return[0]}),last:Rr(function(te,ue){return[ue-1]}),eq:Rr(function(te,ue,Te){return[Te<0?Te+ue:Te]}),even:Rr(function(te,ue){for(var Te=0;Te<ue;Te+=2)te.push(Te);return te}),odd:Rr(function(te,ue){for(var Te=1;Te<ue;Te+=2)te.push(Te);return te}),lt:Rr(function(te,ue,Te){var ke;for(ke=Te<0?Te+ue:ue<Te?ue:Te;0<=--ke;)te.push(ke);return te}),gt:Rr(function(te,ue,Te){for(var ke=Te<0?Te+ue:Te;++ke<ue;)te.push(ke);return te})}}).pseudos.nth=a.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})a.pseudos[r]=Xr(r);for(r in{submit:!0,reset:!0})a.pseudos[r]=Yr(r);function Ns(){}function Qi(te,ue){var Te,ke,Ne,dt,pt,nt,Ke,nn=De[te+" "];if(nn)return ue?0:nn.slice(0);for(pt=te,nt=[],Ke=a.preFilter;pt;){for(dt in Te&&!(ke=wt.exec(pt))||(ke&&(pt=pt.slice(ke[0].length)||pt),nt.push(Ne=[])),Te=!1,(ke=Pn.exec(pt))&&(Te=ke.shift(),Ne.push({value:Te,type:ke[0].replace(yt," ")}),pt=pt.slice(Te.length)),a.filter)!(ke=Or[dt].exec(pt))||Ke[dt]&&!(ke=Ke[dt](ke))||(Te=ke.shift(),Ne.push({value:Te,type:dt,matches:ke}),pt=pt.slice(Te.length));if(!Te)break}return ue?pt.length:pt?kt.error(te):De(te,nt).slice(0)}function bt(te){for(var ue=0,Te=te.length,ke="";ue<Te;ue++)ke+=te[ue].value;return ke}function Ci(te,ue,Te){var ke=ue.dir,Ne=ue.next,dt=Ne||ke,pt=Te&&"parentNode"===dt,nt=Re++;return ue.first?function(Ke,nn,Ft){for(;Ke=Ke[ke];)if(1===Ke.nodeType||pt)return te(Ke,nn,Ft);return!1}:function(Ke,nn,Ft){var jt,rn,rt=[ye,nt];if(Ft){for(;Ke=Ke[ke];)if((1===Ke.nodeType||pt)&&te(Ke,nn,Ft))return!0}else for(;Ke=Ke[ke];)if(1===Ke.nodeType||pt)if(rn=Ke[Ie]||(Ke[Ie]={}),Ne&&ct(Ke,Ne))Ke=Ke[ke]||Ke;else{if((jt=rn[dt])&&jt[0]===ye&&jt[1]===nt)return rt[2]=jt[2];if((rn[dt]=rt)[2]=te(Ke,nn,Ft))return!0}return!1}}function zn(te){return 1<te.length?function(ue,Te,ke){for(var Ne=te.length;Ne--;)if(!te[Ne](ue,Te,ke))return!1;return!0}:te[0]}function ci(te,ue,Te,ke,Ne){for(var dt,pt=[],nt=0,Ke=te.length,nn=null!=ue;nt<Ke;nt++)(dt=te[nt])&&(Te&&!Te(dt,ke,Ne)||(pt.push(dt),nn&&ue.push(nt)));return pt}function Zi(te,ue,Te,ke,Ne,dt){return ke&&!ke[Ie]&&(ke=Zi(ke)),Ne&&!Ne[Ie]&&(Ne=Zi(Ne,dt)),wn(function(pt,nt,Ke,nn){var Ft,jt,rn,rt,bn=[],cn=[],ln=nt.length,Ln=pt||function(jn,hn,li){for(var br=0,ts=hn.length;br<ts;br++)kt(jn,hn[br],li);return li}(ue||"*",Ke.nodeType?[Ke]:Ke,[]),$t=!te||!pt&&ue?Ln:ci(Ln,bn,te,Ke,nn);if(Te?Te($t,rt=Ne||(pt?te:ln||ke)?[]:nt,Ke,nn):rt=$t,ke)for(Ft=ci(rt,cn),ke(Ft,[],Ke,nn),jt=Ft.length;jt--;)(rn=Ft[jt])&&(rt[cn[jt]]=!($t[cn[jt]]=rn));if(pt){if(Ne||te){if(Ne){for(Ft=[],jt=rt.length;jt--;)(rn=rt[jt])&&Ft.push($t[jt]=rn);Ne(null,rt=[],Ft,nn)}for(jt=rt.length;jt--;)(rn=rt[jt])&&-1<(Ft=Ne?E.call(pt,rn):bn[jt])&&(pt[Ft]=!(nt[Ft]=rn))}}else rt=ci(rt===nt?rt.splice(ln,rt.length):rt),Ne?Ne(null,nt,rt,nn):_e.apply(nt,rt)})}function Js(te){for(var ue,Te,ke,Ne=te.length,dt=a.relative[te[0].type],pt=dt||a.relative[" "],nt=dt?1:0,Ke=Ci(function(jt){return jt===ue},pt,!0),nn=Ci(function(jt){return-1<E.call(ue,jt)},pt,!0),Ft=[function(jt,rn,rt){var bn=!dt&&(rt||rn!=m)||((ue=rn).nodeType?Ke(jt,rn,rt):nn(jt,rn,rt));return ue=null,bn}];nt<Ne;nt++)if(Te=a.relative[te[nt].type])Ft=[Ci(zn(Ft),Te)];else{if((Te=a.filter[te[nt].type].apply(null,te[nt].matches))[Ie]){for(ke=++nt;ke<Ne&&!a.relative[te[ke].type];ke++);return Zi(1<nt&&zn(Ft),1<nt&&bt(te.slice(0,nt-1).concat({value:" "===te[nt-2].type?"*":""})).replace(yt,"$1"),Te,nt<ke&&Js(te.slice(nt,ke)),ke<Ne&&Js(te=te.slice(ke)),ke<Ne&&bt(te))}Ft.push(Te)}return zn(Ft)}function Ks(te,ue){var Te,ke,Ne,dt,pt,nt,Ke=[],nn=[],Ft=Rt[te+" "];if(!Ft){for(ue||(ue=Qi(te)),Te=ue.length;Te--;)(Ft=Js(ue[Te]))[Ie]?Ke.push(Ft):nn.push(Ft);(Ft=Rt(te,(ke=nn,dt=0<(Ne=Ke).length,pt=0<ke.length,nt=function(jt,rn,rt,bn,cn){var ln,Ln,$t,jn=0,hn="0",li=jt&&[],br=[],ts=m,ms=jt||pt&&a.find.TAG("*",cn),pa=ye+=null==ts?1:Math.random()||.1,Pi=ms.length;for(cn&&(m=rn==z||rn||cn);hn!==Pi&&null!=(ln=ms[hn]);hn++){if(pt&&ln){for(Ln=0,rn||ln.ownerDocument==z||(Ar(ln),rt=!oe);$t=ke[Ln++];)if($t(ln,rn||z,rt)){_e.call(bn,ln);break}cn&&(ye=pa)}dt&&((ln=!$t&&ln)&&jn--,jt&&li.push(ln))}if(jn+=hn,dt&&hn!==jn){for(Ln=0;$t=Ne[Ln++];)$t(li,br,rn,rt);if(jt){if(0<jn)for(;hn--;)li[hn]||br[hn]||(br[hn]=mn.call(bn));br=ci(br)}_e.apply(bn,br),cn&&!jt&&0<br.length&&1<jn+Ne.length&&g.uniqueSort(bn)}return cn&&(ye=pa,m=ts),li},dt?wn(nt):nt))).selector=te}return Ft}function es(te,ue,Te,ke){var Ne,dt,pt,nt,Ke,nn="function"==typeof te&&te,Ft=!ke&&Qi(te=nn.selector||te);if(Te=Te||[],1===Ft.length){if(2<(dt=Ft[0]=Ft[0].slice(0)).length&&"ID"===(pt=dt[0]).type&&9===ue.nodeType&&oe&&a.relative[dt[1].type]){if(!(ue=(a.find.ID(pt.matches[0].replace(Rn,An),ue)||[])[0]))return Te;nn&&(ue=ue.parentNode),te=te.slice(dt.shift().value.length)}for(Ne=Or.needsContext.test(te)?0:dt.length;Ne--&&!a.relative[nt=(pt=dt[Ne]).type];)if((Ke=a.find[nt])&&(ke=Ke(pt.matches[0].replace(Rn,An),On.test(dt[0].type)&&Ds(ue.parentNode)||ue))){if(dt.splice(Ne,1),!(te=ke.length&&bt(dt)))return _e.apply(Te,ke),Te;break}}return(nn||Ks(te,Ft))(ke,ue,!oe,Te,!ue||On.test(te)&&Ds(ue.parentNode)||ue),Te}Ns.prototype=a.filters=a.pseudos,a.setFilters=new Ns,C.sortStable=Ie.split("").sort(ht).join("")===Ie,Ar(),C.sortDetached=Cn(function(te){return 1&te.compareDocumentPosition(z.createElement("fieldset"))}),g.find=kt,g.expr[":"]=g.expr.pseudos,g.unique=g.uniqueSort,kt.compile=Ks,kt.select=es,kt.setDocument=Ar,kt.escape=g.escapeSelector,kt.getText=g.text,kt.isXML=g.isXMLDoc,kt.selectors=g.expr,kt.support=g.support,kt.uniqueSort=g.uniqueSort}();var Kt=function(r,a,m){for(var w=[],L=void 0!==m;(r=r[a])&&9!==r.nodeType;)if(1===r.nodeType){if(L&&g(r).is(m))break;w.push(r)}return w},$n=function(r,a){for(var m=[];r;r=r.nextSibling)1===r.nodeType&&r!==a&&m.push(r);return m},ir=g.expr.match.needsContext,cr=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function fr(r,a,m){return R(a)?g.grep(r,function(w,L){return!!a.call(w,L,w)!==m}):a.nodeType?g.grep(r,function(w){return w===a!==m}):"string"!=typeof a?g.grep(r,function(w){return-1<E.call(a,w)!==m}):g.filter(a,r,m)}g.filter=function(r,a,m){var w=a[0];return m&&(r=":not("+r+")"),1===a.length&&1===w.nodeType?g.find.matchesSelector(w,r)?[w]:[]:g.find.matches(r,g.grep(a,function(L){return 1===L.nodeType}))},g.fn.extend({find:function(r){var a,m,w=this.length,L=this;if("string"!=typeof r)return this.pushStack(g(r).filter(function(){for(a=0;a<w;a++)if(g.contains(L[a],this))return!0}));for(m=this.pushStack([]),a=0;a<w;a++)g.find(r,L[a],m);return 1<w?g.uniqueSort(m):m},filter:function(r){return this.pushStack(fr(this,r||[],!1))},not:function(r){return this.pushStack(fr(this,r||[],!0))},is:function(r){return!!fr(this,"string"==typeof r&&ir.test(r)?g(r):r||[],!1).length}});var qn,Lr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(g.fn.init=function(r,a,m){var w,L;if(!r)return this;if(m=m||qn,"string"==typeof r){if(!(w="<"===r[0]&&">"===r[r.length-1]&&3<=r.length?[null,r,null]:Lr.exec(r))||!w[1]&&a)return!a||a.jquery?(a||m).find(r):this.constructor(a).find(r);if(w[1]){if(g.merge(this,g.parseHTML(w[1],(a=a instanceof g?a[0]:a)&&a.nodeType?a.ownerDocument||a:ee,!0)),cr.test(w[1])&&g.isPlainObject(a))for(w in a)R(this[w])?this[w](a[w]):this.attr(w,a[w]);return this}return(L=ee.getElementById(w[2]))&&(this[0]=L,this.length=1),this}return r.nodeType?(this[0]=r,this.length=1,this):R(r)?void 0!==m.ready?m.ready(r):r(g):g.makeArray(r,this)}).prototype=g.fn,qn=g(ee);var mr=/^(?:parents|prev(?:Until|All))/,gr={children:!0,contents:!0,next:!0,prev:!0};function _r(r,a){for(;(r=r[a])&&1!==r.nodeType;);return r}g.fn.extend({has:function(r){var a=g(r,this),m=a.length;return this.filter(function(){for(var w=0;w<m;w++)if(g.contains(this,a[w]))return!0})},closest:function(r,a){var m,w=0,L=this.length,z=[],J="string"!=typeof r&&g(r);if(!ir.test(r))for(;w<L;w++)for(m=this[w];m&&m!==a;m=m.parentNode)if(m.nodeType<11&&(J?-1<J.index(m):1===m.nodeType&&g.find.matchesSelector(m,r))){z.push(m);break}return this.pushStack(1<z.length?g.uniqueSort(z):z)},index:function(r){return r?"string"==typeof r?E.call(g(r),this[0]):E.call(this,r.jquery?r[0]:r):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(r,a){return this.pushStack(g.uniqueSort(g.merge(this.get(),g(r,a))))},addBack:function(r){return this.add(null==r?this.prevObject:this.prevObject.filter(r))}}),g.each({parent:function(r){var a=r.parentNode;return a&&11!==a.nodeType?a:null},parents:function(r){return Kt(r,"parentNode")},parentsUntil:function(r,a,m){return Kt(r,"parentNode",m)},next:function(r){return _r(r,"nextSibling")},prev:function(r){return _r(r,"previousSibling")},nextAll:function(r){return Kt(r,"nextSibling")},prevAll:function(r){return Kt(r,"previousSibling")},nextUntil:function(r,a,m){return Kt(r,"nextSibling",m)},prevUntil:function(r,a,m){return Kt(r,"previousSibling",m)},siblings:function(r){return $n((r.parentNode||{}).firstChild,r)},children:function(r){return $n(r.firstChild)},contents:function(r){return null!=r.contentDocument&&et(r.contentDocument)?r.contentDocument:(ct(r,"template")&&(r=r.content||r),g.merge([],r.childNodes))}},function(r,a){g.fn[r]=function(m,w){var L=g.map(this,a,m);return"Until"!==r.slice(-5)&&(w=m),w&&"string"==typeof w&&(L=g.filter(w,L)),1<this.length&&(gr[r]||g.uniqueSort(L),mr.test(r)&&L.reverse()),this.pushStack(L)}});var Fn=/[^\x20\t\r\n\f]+/g;function Jn(r){return r}function Vn(r){throw r}function En(r,a,m,w){var L;try{r&&R(L=r.promise)?L.call(r).done(a).fail(m):r&&R(L=r.then)?L.call(r,a,m):a.apply(void 0,[r].slice(w))}catch(z){m.apply(void 0,[z])}}g.Callbacks=function(r){var m;r="string"==typeof r?(m={},g.each(r.match(Fn)||[],function(ye,Re){m[Re]=!0}),m):g.extend({},r);var w,L,z,J,oe=[],ne=[],he=-1,_e=function(){for(J=J||r.once,z=w=!0;ne.length;he=-1)for(L=ne.shift();++he<oe.length;)!1===oe[he].apply(L[0],L[1])&&r.stopOnFalse&&(he=oe.length,L=!1);r.memory||(L=!1),w=!1,J&&(oe=L?[]:"")},Ie={add:function(){return oe&&(L&&!w&&(he=oe.length-1,ne.push(L)),function ye(Re){g.each(Re,function(ut,De){R(De)?r.unique&&Ie.has(De)||oe.push(De):De&&De.length&&"string"!==Me(De)&&ye(De)})}(arguments),L&&!w&&_e()),this},remove:function(){return g.each(arguments,function(ye,Re){for(var ut;-1<(ut=g.inArray(Re,oe,ut));)oe.splice(ut,1),ut<=he&&he--}),this},has:function(ye){return ye?-1<g.inArray(ye,oe):0<oe.length},empty:function(){return oe&&(oe=[]),this},disable:function(){return J=ne=[],oe=L="",this},disabled:function(){return!oe},lock:function(){return J=ne=[],L||w||(oe=L=""),this},locked:function(){return!!J},fireWith:function(ye,Re){return J||(Re=[ye,(Re=Re||[]).slice?Re.slice():Re],ne.push(Re),w||_e()),this},fire:function(){return Ie.fireWith(this,arguments),this},fired:function(){return!!z}};return Ie},g.extend({Deferred:function(r){var a=[["notify","progress",g.Callbacks("memory"),g.Callbacks("memory"),2],["resolve","done",g.Callbacks("once memory"),g.Callbacks("once memory"),0,"resolved"],["reject","fail",g.Callbacks("once memory"),g.Callbacks("once memory"),1,"rejected"]],m="pending",w={state:function(){return m},always:function(){return L.done(arguments).fail(arguments),this},catch:function(z){return w.then(null,z)},pipe:function(){var z=arguments;return g.Deferred(function(J){g.each(a,function(oe,ne){var he=R(z[ne[4]])&&z[ne[4]];L[ne[1]](function(){var _e=he&&he.apply(this,arguments);_e&&R(_e.promise)?_e.promise().progress(J.notify).done(J.resolve).fail(J.reject):J[ne[0]+"With"](this,he?[_e]:arguments)})}),z=null}).promise()},then:function(z,J,oe){var ne=0;function he(_e,Ie,ye,Re){return function(){var ut=this,De=arguments,Rt=function(){var ht,Ee;if(!(_e<ne)){if((ht=ye.apply(ut,De))===Ie.promise())throw new TypeError("Thenable self-resolution");R(Ee=ht&&("object"==typeof ht||"function"==typeof ht)&&ht.then)?Re?Ee.call(ht,he(ne,Ie,Jn,Re),he(ne,Ie,Vn,Re)):(ne++,Ee.call(ht,he(ne,Ie,Jn,Re),he(ne,Ie,Vn,Re),he(ne,Ie,Jn,Ie.notifyWith))):(ye!==Jn&&(ut=void 0,De=[ht]),(Re||Ie.resolveWith)(ut,De))}},In=Re?Rt:function(){try{Rt()}catch(ht){g.Deferred.exceptionHook&&g.Deferred.exceptionHook(ht,In.error),ne<=_e+1&&(ye!==Vn&&(ut=void 0,De=[ht]),Ie.rejectWith(ut,De))}};_e?In():(g.Deferred.getErrorHook?In.error=g.Deferred.getErrorHook():g.Deferred.getStackHook&&(In.error=g.Deferred.getStackHook()),We.setTimeout(In))}}return g.Deferred(function(_e){a[0][3].add(he(0,_e,R(oe)?oe:Jn,_e.notifyWith)),a[1][3].add(he(0,_e,R(z)?z:Jn)),a[2][3].add(he(0,_e,R(J)?J:Vn))}).promise()},promise:function(z){return null!=z?g.extend(z,w):w}},L={};return g.each(a,function(z,J){var oe=J[2],ne=J[5];w[J[1]]=oe.add,ne&&oe.add(function(){m=ne},a[3-z][2].disable,a[3-z][3].disable,a[0][2].lock,a[0][3].lock),oe.add(J[3].fire),L[J[0]]=function(){return L[J[0]+"With"](this===L?void 0:this,arguments),this},L[J[0]+"With"]=oe.fireWith}),w.promise(L),r&&r.call(L,L),L},when:function(r){var a=arguments.length,m=a,w=Array(m),L=q.call(arguments),z=g.Deferred(),J=function(oe){return function(ne){w[oe]=this,L[oe]=1<arguments.length?q.call(arguments):ne,--a||z.resolveWith(w,L)}};if(a<=1&&(En(r,z.done(J(m)).resolve,z.reject,!a),"pending"===z.state()||R(L[m]&&L[m].then)))return z.then();for(;m--;)En(L[m],J(m),z.reject);return z.promise()}});var dn=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;g.Deferred.exceptionHook=function(r,a){We.console&&We.console.warn&&r&&dn.test(r.name)&&We.console.warn("jQuery.Deferred exception: "+r.message,r.stack,a)},g.readyException=function(r){We.setTimeout(function(){throw r})};var _n=g.Deferred();function jr(){ee.removeEventListener("DOMContentLoaded",jr),We.removeEventListener("load",jr),g.ready()}g.fn.ready=function(r){return _n.then(r).catch(function(a){g.readyException(a)}),this},g.extend({isReady:!1,readyWait:1,ready:function(r){(!0===r?--g.readyWait:g.isReady)||(g.isReady=!0)!==r&&0<--g.readyWait||_n.resolveWith(ee,[g])}}),g.ready.then=_n.then,"complete"===ee.readyState||"loading"!==ee.readyState&&!ee.documentElement.doScroll?We.setTimeout(g.ready):(ee.addEventListener("DOMContentLoaded",jr),We.addEventListener("load",jr));var en=function(r,a,m,w,L,z,J){var oe=0,ne=r.length,he=null==m;if("object"===Me(m))for(oe in L=!0,m)en(r,a,oe,m[oe],!0,z,J);else if(void 0!==w&&(L=!0,R(w)||(J=!0),he&&(J?(a.call(r,w),a=null):(he=a,a=function(_e,Ie,ye){return he.call(g(_e),ye)})),a))for(;oe<ne;oe++)a(r[oe],m,J?w:w.call(r[oe],oe,a(r[oe],m)));return L?r:he?a.call(r):ne?a(r[0],m):z},ri=/^-ms-/,Qe=/-([a-z])/g;function lt(r,a){return a.toUpperCase()}function ft(r){return r.replace(ri,"ms-").replace(Qe,lt)}var Wt=function(r){return 1===r.nodeType||9===r.nodeType||!+r.nodeType};function an(){this.expando=g.expando+an.uid++}an.uid=1,an.prototype={cache:function(r){var a=r[this.expando];return a||(a={},Wt(r)&&(r.nodeType?r[this.expando]=a:Object.defineProperty(r,this.expando,{value:a,configurable:!0}))),a},set:function(r,a,m){var w,L=this.cache(r);if("string"==typeof a)L[ft(a)]=m;else for(w in a)L[ft(w)]=a[w];return L},get:function(r,a){return void 0===a?this.cache(r):r[this.expando]&&r[this.expando][ft(a)]},access:function(r,a,m){return void 0===a||a&&"string"==typeof a&&void 0===m?this.get(r,a):(this.set(r,a,m),void 0!==m?m:a)},remove:function(r,a){var m,w=r[this.expando];if(void 0!==w){if(void 0!==a)for((m=(a=Array.isArray(a)?a.map(ft):(a=ft(a))in w?[a]:a.match(Fn)||[]).length);m--;)delete w[a[m]];(void 0===a||g.isEmptyObject(w))&&(r.nodeType?r[this.expando]=void 0:delete r[this.expando])}},hasData:function(r){var a=r[this.expando];return void 0!==a&&!g.isEmptyObject(a)}};var Xe=new an,fn=new an,d=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,t=/[A-Z]/g;function o(r,a,m){var w,L;if(void 0===m&&1===r.nodeType)if(w="data-"+a.replace(t,"-$&").toLowerCase(),"string"==typeof(m=r.getAttribute(w))){try{m="true"===(L=m)||"false"!==L&&("null"===L?null:L===+L+""?+L:d.test(L)?JSON.parse(L):L)}catch{}fn.set(r,a,m)}else m=void 0;return m}g.extend({hasData:function(r){return fn.hasData(r)||Xe.hasData(r)},data:function(r,a,m){return fn.access(r,a,m)},removeData:function(r,a){fn.remove(r,a)},_data:function(r,a,m){return Xe.access(r,a,m)},_removeData:function(r,a){Xe.remove(r,a)}}),g.fn.extend({data:function(r,a){var m,w,L,z=this[0],J=z&&z.attributes;if(void 0===r){if(this.length&&(L=fn.get(z),1===z.nodeType&&!Xe.get(z,"hasDataAttrs"))){for(m=J.length;m--;)J[m]&&0===(w=J[m].name).indexOf("data-")&&(w=ft(w.slice(5)),o(z,w,L[w]));Xe.set(z,"hasDataAttrs",!0)}return L}return"object"==typeof r?this.each(function(){fn.set(this,r)}):en(this,function(oe){var ne;if(z&&void 0===oe)return void 0!==(ne=fn.get(z,r))||void 0!==(ne=o(z,r))?ne:void 0;this.each(function(){fn.set(this,r,oe)})},null,a,1<arguments.length,null,!0)},removeData:function(r){return this.each(function(){fn.remove(this,r)})}}),g.extend({queue:function(r,a,m){var w;if(r)return w=Xe.get(r,a=(a||"fx")+"queue"),m&&(!w||Array.isArray(m)?w=Xe.access(r,a,g.makeArray(m)):w.push(m)),w||[]},dequeue:function(r,a){var m=g.queue(r,a=a||"fx"),w=m.length,L=m.shift(),z=g._queueHooks(r,a);"inprogress"===L&&(L=m.shift(),w--),L&&("fx"===a&&m.unshift("inprogress"),delete z.stop,L.call(r,function(){g.dequeue(r,a)},z)),!w&&z&&z.empty.fire()},_queueHooks:function(r,a){var m=a+"queueHooks";return Xe.get(r,m)||Xe.access(r,m,{empty:g.Callbacks("once memory").add(function(){Xe.remove(r,[a+"queue",m])})})}}),g.fn.extend({queue:function(r,a){var m=2;return"string"!=typeof r&&(a=r,r="fx",m--),arguments.length<m?g.queue(this[0],r):void 0===a?this:this.each(function(){var w=g.queue(this,r,a);g._queueHooks(this,r),"fx"===r&&"inprogress"!==w[0]&&g.dequeue(this,r)})},dequeue:function(r){return this.each(function(){g.dequeue(this,r)})},clearQueue:function(r){return this.queue(r||"fx",[])},promise:function(r,a){var m,w=1,L=g.Deferred(),z=this,J=this.length,oe=function(){--w||L.resolveWith(z,[z])};for("string"!=typeof r&&(a=r,r=void 0),r=r||"fx";J--;)(m=Xe.get(z[J],r+"queueHooks"))&&m.empty&&(w++,m.empty.add(oe));return oe(),L.promise(a)}});var h=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,P=new RegExp("^(?:([+-])=|)("+h+")([a-z%]*)$","i"),S=["Top","Right","Bottom","Left"],A=ee.documentElement,$=function(r){return g.contains(r.ownerDocument,r)},j={composed:!0};A.getRootNode&&($=function(r){return g.contains(r.ownerDocument,r)||r.getRootNode(j)===r.ownerDocument});var G=function(r,a){return"none"===(r=a||r).style.display||""===r.style.display&&$(r)&&"none"===g.css(r,"display")};function V(r,a,m,w){var L,z,J=20,oe=w?function(){return w.cur()}:function(){return g.css(r,a,"")},ne=oe(),he=m&&m[3]||(g.cssNumber[a]?"":"px"),_e=r.nodeType&&(g.cssNumber[a]||"px"!==he&&+ne)&&P.exec(g.css(r,a));if(_e&&_e[3]!==he){for(he=he||_e[3],_e=+(ne/=2)||1;J--;)g.style(r,a,_e+he),(1-z)*(1-(z=oe()/ne||.5))<=0&&(J=0),_e/=z;g.style(r,a,(_e*=2)+he),m=m||[]}return m&&(_e=+_e||+ne||0,L=m[1]?_e+(m[1]+1)*m[2]:+m[2],w&&(w.unit=he,w.start=_e,w.end=L)),L}var y={};function _(r,a){for(var m,w,L,z,J,oe,ne,he=[],_e=0,Ie=r.length;_e<Ie;_e++)(w=r[_e]).style&&(m=w.style.display,a?("none"===m&&(he[_e]=Xe.get(w,"display")||null,he[_e]||(w.style.display="")),""===w.style.display&&G(w)&&(he[_e]=(ne=J=z=void 0,J=(L=w).ownerDocument,(ne=y[oe=L.nodeName])||(z=J.body.appendChild(J.createElement(oe)),ne=g.css(z,"display"),z.parentNode.removeChild(z),"none"===ne&&(ne="block"),y[oe]=ne)))):"none"!==m&&(he[_e]="none",Xe.set(w,"display",m)));for(_e=0;_e<Ie;_e++)null!=he[_e]&&(r[_e].style.display=he[_e]);return r}g.fn.extend({show:function(){return _(this,!0)},hide:function(){return _(this)},toggle:function(r){return"boolean"==typeof r?r?this.show():this.hide():this.each(function(){G(this)?g(this).show():g(this).hide()})}});var F,Q,Y=/^(?:checkbox|radio)$/i,Z=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,fe=/^$|^module$|\/(?:java|ecma)script/i;F=ee.createDocumentFragment().appendChild(ee.createElement("div")),(Q=ee.createElement("input")).setAttribute("type","radio"),Q.setAttribute("checked","checked"),Q.setAttribute("name","t"),F.appendChild(Q),C.checkClone=F.cloneNode(!0).cloneNode(!0).lastChild.checked,F.innerHTML="<textarea>x</textarea>",C.noCloneChecked=!!F.cloneNode(!0).lastChild.defaultValue,F.innerHTML="<option></option>",C.option=!!F.lastChild;var le={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function se(r,a){var m;return m=typeof r.getElementsByTagName<"u"?r.getElementsByTagName(a||"*"):typeof r.querySelectorAll<"u"?r.querySelectorAll(a||"*"):[],void 0===a||a&&ct(r,a)?g.merge([r],m):m}function ae(r,a){for(var m=0,w=r.length;m<w;m++)Xe.set(r[m],"globalEval",!a||Xe.get(a[m],"globalEval"))}le.tbody=le.tfoot=le.colgroup=le.caption=le.thead,le.th=le.td,C.option||(le.optgroup=le.option=[1,"<select multiple='multiple'>","</select>"]);var ve=/<|&#?\w+;/;function Le(r,a,m,w,L){for(var z,J,oe,ne,he,_e,Ie=a.createDocumentFragment(),ye=[],Re=0,ut=r.length;Re<ut;Re++)if((z=r[Re])||0===z)if("object"===Me(z))g.merge(ye,z.nodeType?[z]:z);else if(ve.test(z)){for(J=J||Ie.appendChild(a.createElement("div")),oe=(Z.exec(z)||["",""])[1].toLowerCase(),J.innerHTML=(ne=le[oe]||le._default)[1]+g.htmlPrefilter(z)+ne[2],_e=ne[0];_e--;)J=J.lastChild;g.merge(ye,J.childNodes),(J=Ie.firstChild).textContent=""}else ye.push(a.createTextNode(z));for(Ie.textContent="",Re=0;z=ye[Re++];)if(w&&-1<g.inArray(z,w))L&&L.push(z);else if(he=$(z),J=se(Ie.appendChild(z),"script"),he&&ae(J),m)for(_e=0;z=J[_e++];)fe.test(z.type||"")&&m.push(z);return Ie}var Je=/^([^.]*)(?:\.(.+)|)/;function Oe(){return!0}function Ye(){return!1}function we(r,a,m,w,L,z){var J,oe;if("object"==typeof a){for(oe in"string"!=typeof m&&(w=w||m,m=void 0),a)we(r,oe,m,w,a[oe],z);return r}if(null==w&&null==L?(L=m,w=m=void 0):null==L&&("string"==typeof m?(L=w,w=void 0):(L=w,w=m,m=void 0)),!1===L)L=Ye;else if(!L)return r;return 1===z&&(J=L,(L=function(ne){return g().off(ne),J.apply(this,arguments)}).guid=J.guid||(J.guid=g.guid++)),r.each(function(){g.event.add(this,a,L,w,m)})}function Pe(r,a,m){m?(Xe.set(r,a,!1),g.event.add(r,a,{namespace:!1,handler:function(w){var L,z=Xe.get(this,a);if(1&w.isTrigger&&this[a]){if(z)(g.event.special[a]||{}).delegateType&&w.stopPropagation();else if(z=q.call(arguments),Xe.set(this,a,z),this[a](),L=Xe.get(this,a),Xe.set(this,a,!1),z!==L)return w.stopImmediatePropagation(),w.preventDefault(),L}else z&&(Xe.set(this,a,g.event.trigger(z[0],z.slice(1),this)),w.stopPropagation(),w.isImmediatePropagationStopped=Oe)}})):void 0===Xe.get(r,a)&&g.event.add(r,a,Oe)}g.event={global:{},add:function(r,a,m,w,L){var z,J,oe,ne,he,_e,Ie,ye,Re,ut,De,Rt=Xe.get(r);if(Wt(r))for(m.handler&&(m=(z=m).handler,L=z.selector),L&&g.find.matchesSelector(A,L),m.guid||(m.guid=g.guid++),(ne=Rt.events)||(ne=Rt.events=Object.create(null)),(J=Rt.handle)||(J=Rt.handle=function(In){return typeof g<"u"&&g.event.triggered!==In.type?g.event.dispatch.apply(r,arguments):void 0}),he=(a=(a||"").match(Fn)||[""]).length;he--;)Re=De=(oe=Je.exec(a[he])||[])[1],ut=(oe[2]||"").split(".").sort(),Re&&(Ie=g.event.special[Re]||{},Ie=g.event.special[Re=(L?Ie.delegateType:Ie.bindType)||Re]||{},_e=g.extend({type:Re,origType:De,data:w,handler:m,guid:m.guid,selector:L,needsContext:L&&g.expr.match.needsContext.test(L),namespace:ut.join(".")},z),(ye=ne[Re])||((ye=ne[Re]=[]).delegateCount=0,Ie.setup&&!1!==Ie.setup.call(r,w,ut,J)||r.addEventListener&&r.addEventListener(Re,J)),Ie.add&&(Ie.add.call(r,_e),_e.handler.guid||(_e.handler.guid=m.guid)),L?ye.splice(ye.delegateCount++,0,_e):ye.push(_e),g.event.global[Re]=!0)},remove:function(r,a,m,w,L){var z,J,oe,ne,he,_e,Ie,ye,Re,ut,De,Rt=Xe.hasData(r)&&Xe.get(r);if(Rt&&(ne=Rt.events)){for(he=(a=(a||"").match(Fn)||[""]).length;he--;)if(Re=De=(oe=Je.exec(a[he])||[])[1],ut=(oe[2]||"").split(".").sort(),Re){for(Ie=g.event.special[Re]||{},ye=ne[Re=(w?Ie.delegateType:Ie.bindType)||Re]||[],oe=oe[2]&&new RegExp("(^|\\.)"+ut.join("\\.(?:.*\\.|)")+"(\\.|$)"),J=z=ye.length;z--;)_e=ye[z],!L&&De!==_e.origType||m&&m.guid!==_e.guid||oe&&!oe.test(_e.namespace)||w&&w!==_e.selector&&("**"!==w||!_e.selector)||(ye.splice(z,1),_e.selector&&ye.delegateCount--,Ie.remove&&Ie.remove.call(r,_e));J&&!ye.length&&(Ie.teardown&&!1!==Ie.teardown.call(r,ut,Rt.handle)||g.removeEvent(r,Re,Rt.handle),delete ne[Re])}else for(Re in ne)g.event.remove(r,Re+a[he],m,w,!0);g.isEmptyObject(ne)&&Xe.remove(r,"handle events")}},dispatch:function(r){var a,m,w,L,z,J,oe=new Array(arguments.length),ne=g.event.fix(r),he=(Xe.get(this,"events")||Object.create(null))[ne.type]||[],_e=g.event.special[ne.type]||{};for(oe[0]=ne,a=1;a<arguments.length;a++)oe[a]=arguments[a];if(ne.delegateTarget=this,!_e.preDispatch||!1!==_e.preDispatch.call(this,ne)){for(J=g.event.handlers.call(this,ne,he),a=0;(L=J[a++])&&!ne.isPropagationStopped();)for(ne.currentTarget=L.elem,m=0;(z=L.handlers[m++])&&!ne.isImmediatePropagationStopped();)ne.rnamespace&&!1!==z.namespace&&!ne.rnamespace.test(z.namespace)||(ne.handleObj=z,ne.data=z.data,void 0!==(w=((g.event.special[z.origType]||{}).handle||z.handler).apply(L.elem,oe))&&!1===(ne.result=w)&&(ne.preventDefault(),ne.stopPropagation()));return _e.postDispatch&&_e.postDispatch.call(this,ne),ne.result}},handlers:function(r,a){var m,w,L,z,J,oe=[],ne=a.delegateCount,he=r.target;if(ne&&he.nodeType&&!("click"===r.type&&1<=r.button))for(;he!==this;he=he.parentNode||this)if(1===he.nodeType&&("click"!==r.type||!0!==he.disabled)){for(z=[],J={},m=0;m<ne;m++)void 0===J[L=(w=a[m]).selector+" "]&&(J[L]=w.needsContext?-1<g(L,this).index(he):g.find(L,this,null,[he]).length),J[L]&&z.push(w);z.length&&oe.push({elem:he,handlers:z})}return he=this,ne<a.length&&oe.push({elem:he,handlers:a.slice(ne)}),oe},addProp:function(r,a){Object.defineProperty(g.Event.prototype,r,{enumerable:!0,configurable:!0,get:R(a)?function(){if(this.originalEvent)return a(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[r]},set:function(m){Object.defineProperty(this,r,{enumerable:!0,configurable:!0,writable:!0,value:m})}})},fix:function(r){return r[g.expando]?r:new g.Event(r)},special:{load:{noBubble:!0},click:{setup:function(r){var a=this||r;return Y.test(a.type)&&a.click&&ct(a,"input")&&Pe(a,"click",!0),!1},trigger:function(r){var a=this||r;return Y.test(a.type)&&a.click&&ct(a,"input")&&Pe(a,"click"),!0},_default:function(r){var a=r.target;return Y.test(a.type)&&a.click&&ct(a,"input")&&Xe.get(a,"click")||ct(a,"a")}},beforeunload:{postDispatch:function(r){void 0!==r.result&&r.originalEvent&&(r.originalEvent.returnValue=r.result)}}}},g.removeEvent=function(r,a,m){r.removeEventListener&&r.removeEventListener(a,m)},g.Event=function(r,a){if(!(this instanceof g.Event))return new g.Event(r,a);r&&r.type?(this.originalEvent=r,this.type=r.type,this.isDefaultPrevented=r.defaultPrevented||void 0===r.defaultPrevented&&!1===r.returnValue?Oe:Ye,this.target=r.target&&3===r.target.nodeType?r.target.parentNode:r.target,this.currentTarget=r.currentTarget,this.relatedTarget=r.relatedTarget):this.type=r,a&&g.extend(this,a),this.timeStamp=r&&r.timeStamp||Date.now(),this[g.expando]=!0},g.Event.prototype={constructor:g.Event,isDefaultPrevented:Ye,isPropagationStopped:Ye,isImmediatePropagationStopped:Ye,isSimulated:!1,preventDefault:function(){var r=this.originalEvent;this.isDefaultPrevented=Oe,r&&!this.isSimulated&&r.preventDefault()},stopPropagation:function(){var r=this.originalEvent;this.isPropagationStopped=Oe,r&&!this.isSimulated&&r.stopPropagation()},stopImmediatePropagation:function(){var r=this.originalEvent;this.isImmediatePropagationStopped=Oe,r&&!this.isSimulated&&r.stopImmediatePropagation(),this.stopPropagation()}},g.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},g.event.addProp),g.each({focus:"focusin",blur:"focusout"},function(r,a){function m(w){if(ee.documentMode){var L=Xe.get(this,"handle"),z=g.event.fix(w);z.type="focusin"===w.type?"focus":"blur",z.isSimulated=!0,L(w),z.target===z.currentTarget&&L(z)}else g.event.simulate(a,w.target,g.event.fix(w))}g.event.special[r]={setup:function(){var w;if(Pe(this,r,!0),!ee.documentMode)return!1;(w=Xe.get(this,a))||this.addEventListener(a,m),Xe.set(this,a,(w||0)+1)},trigger:function(){return Pe(this,r),!0},teardown:function(){var w;if(!ee.documentMode)return!1;(w=Xe.get(this,a)-1)?Xe.set(this,a,w):(this.removeEventListener(a,m),Xe.remove(this,a))},_default:function(w){return Xe.get(w.target,r)},delegateType:a},g.event.special[a]={setup:function(){var w=this.ownerDocument||this.document||this,L=ee.documentMode?this:w,z=Xe.get(L,a);z||(ee.documentMode?this.addEventListener(a,m):w.addEventListener(r,m,!0)),Xe.set(L,a,(z||0)+1)},teardown:function(){var w=this.ownerDocument||this.document||this,L=ee.documentMode?this:w,z=Xe.get(L,a)-1;z?Xe.set(L,a,z):(ee.documentMode?this.removeEventListener(a,m):w.removeEventListener(r,m,!0),Xe.remove(L,a))}}}),g.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(r,a){g.event.special[r]={delegateType:a,bindType:a,handle:function(m){var w,L=m.relatedTarget,z=m.handleObj;return L&&(L===this||g.contains(this,L))||(m.type=z.origType,w=z.handler.apply(this,arguments),m.type=a),w}}}),g.fn.extend({on:function(r,a,m,w){return we(this,r,a,m,w)},one:function(r,a,m,w){return we(this,r,a,m,w,1)},off:function(r,a,m){var w,L;if(r&&r.preventDefault&&r.handleObj)return w=r.handleObj,g(r.delegateTarget).off(w.namespace?w.origType+"."+w.namespace:w.origType,w.selector,w.handler),this;if("object"==typeof r){for(L in r)this.off(L,a,r[L]);return this}return!1!==a&&"function"!=typeof a||(m=a,a=void 0),!1===m&&(m=Ye),this.each(function(){g.event.remove(this,r,m,a)})}});var je=/<script|<style|<link/i,qe=/checked\s*(?:[^=]|=\s*.checked.)/i,Nt=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function He(r,a){return ct(r,"table")&&ct(11!==a.nodeType?a:a.firstChild,"tr")&&g(r).children("tbody")[0]||r}function Tt(r){return r.type=(null!==r.getAttribute("type"))+"/"+r.type,r}function mt(r){return"true/"===(r.type||"").slice(0,5)?r.type=r.type.slice(5):r.removeAttribute("type"),r}function Lt(r,a){var m,w,L,z,J,oe;if(1===a.nodeType){if(Xe.hasData(r)&&(oe=Xe.get(r).events))for(L in Xe.remove(a,"handle events"),oe)for(m=0,w=oe[L].length;m<w;m++)g.event.add(a,L,oe[L][m]);fn.hasData(r)&&(z=fn.access(r),J=g.extend({},z),fn.set(a,J))}}function Vt(r,a,m,w){a=H(a);var L,z,J,oe,ne,he,_e=0,Ie=r.length,ye=Ie-1,Re=a[0],ut=R(Re);if(ut||1<Ie&&"string"==typeof Re&&!C.checkClone&&qe.test(Re))return r.each(function(De){var Rt=r.eq(De);ut&&(a[0]=Re.call(this,De,Rt.html())),Vt(Rt,a,m,w)});if(Ie&&(z=(L=Le(a,r[0].ownerDocument,!1,r,w)).firstChild,1===L.childNodes.length&&(L=z),z||w)){for(oe=(J=g.map(se(L,"script"),Tt)).length;_e<Ie;_e++)ne=L,_e!==ye&&(ne=g.clone(ne,!0,!0),oe&&g.merge(J,se(ne,"script"))),m.call(r[_e],ne,_e);if(oe)for(he=J[J.length-1].ownerDocument,g.map(J,mt),_e=0;_e<oe;_e++)fe.test((ne=J[_e]).type||"")&&!Xe.access(ne,"globalEval")&&g.contains(he,ne)&&(ne.src&&"module"!==(ne.type||"").toLowerCase()?g._evalUrl&&!ne.noModule&&g._evalUrl(ne.src,{nonce:ne.nonce||ne.getAttribute("nonce")},he):pe(ne.textContent.replace(Nt,""),ne,he))}return r}function $r(r,a,m){for(var w,L=a?g.filter(a,r):r,z=0;null!=(w=L[z]);z++)m||1!==w.nodeType||g.cleanData(se(w)),w.parentNode&&(m&&$(w)&&ae(se(w,"script")),w.parentNode.removeChild(w));return r}g.extend({htmlPrefilter:function(r){return r},clone:function(r,a,m){var w,L,z,J,oe,ne,he,_e=r.cloneNode(!0),Ie=$(r);if(!(C.noCloneChecked||1!==r.nodeType&&11!==r.nodeType||g.isXMLDoc(r)))for(J=se(_e),w=0,L=(z=se(r)).length;w<L;w++)oe=z[w],"input"===(he=(ne=J[w]).nodeName.toLowerCase())&&Y.test(oe.type)?ne.checked=oe.checked:"input"!==he&&"textarea"!==he||(ne.defaultValue=oe.defaultValue);if(a)if(m)for(z=z||se(r),J=J||se(_e),w=0,L=z.length;w<L;w++)Lt(z[w],J[w]);else Lt(r,_e);return 0<(J=se(_e,"script")).length&&ae(J,!Ie&&se(r,"script")),_e},cleanData:function(r){for(var a,m,w,L=g.event.special,z=0;void 0!==(m=r[z]);z++)if(Wt(m)){if(a=m[Xe.expando]){if(a.events)for(w in a.events)L[w]?g.event.remove(m,w):g.removeEvent(m,w,a.handle);m[Xe.expando]=void 0}m[fn.expando]&&(m[fn.expando]=void 0)}}}),g.fn.extend({detach:function(r){return $r(this,r,!0)},remove:function(r){return $r(this,r)},text:function(r){return en(this,function(a){return void 0===a?g.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,r,arguments.length)},append:function(){return Vt(this,arguments,function(r){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||He(this,r).appendChild(r)})},prepend:function(){return Vt(this,arguments,function(r){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var a=He(this,r);a.insertBefore(r,a.firstChild)}})},before:function(){return Vt(this,arguments,function(r){this.parentNode&&this.parentNode.insertBefore(r,this)})},after:function(){return Vt(this,arguments,function(r){this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling)})},empty:function(){for(var r,a=0;null!=(r=this[a]);a++)1===r.nodeType&&(g.cleanData(se(r,!1)),r.textContent="");return this},clone:function(r,a){return r=null!=r&&r,a=a??r,this.map(function(){return g.clone(this,r,a)})},html:function(r){return en(this,function(a){var m=this[0]||{},w=0,L=this.length;if(void 0===a&&1===m.nodeType)return m.innerHTML;if("string"==typeof a&&!je.test(a)&&!le[(Z.exec(a)||["",""])[1].toLowerCase()]){a=g.htmlPrefilter(a);try{for(;w<L;w++)1===(m=this[w]||{}).nodeType&&(g.cleanData(se(m,!1)),m.innerHTML=a);m=0}catch{}}m&&this.empty().append(a)},null,r,arguments.length)},replaceWith:function(){var r=[];return Vt(this,arguments,function(a){var m=this.parentNode;g.inArray(this,r)<0&&(g.cleanData(se(this)),m&&m.replaceChild(a,this))},r)}}),g.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(r,a){g.fn[r]=function(m){for(var w,L=[],z=g(m),J=z.length-1,oe=0;oe<=J;oe++)w=oe===J?this:this.clone(!0),g(z[oe])[a](w),p.apply(L,w.get());return this.pushStack(L)}});var vr=new RegExp("^("+h+")(?!px)[a-z%]+$","i"),Br=/^--/,xr=function(r){var a=r.ownerDocument.defaultView;return a&&a.opener||(a=We),a.getComputedStyle(r)},lr=function(r,a,m){var w,L,z={};for(L in a)z[L]=r.style[L],r.style[L]=a[L];for(L in w=m.call(r),a)r.style[L]=z[L];return w},er=new RegExp(S.join("|"),"i");function Vr(r,a,m){var w,L,z,J,oe=Br.test(a),ne=r.style;return(m=m||xr(r))&&(J=m.getPropertyValue(a)||m[a],oe&&J&&(J=J.replace(yt,"$1")||void 0),""!==J||$(r)||(J=g.style(r,a)),!C.pixelBoxStyles()&&vr.test(J)&&er.test(a)&&(w=ne.width,L=ne.minWidth,z=ne.maxWidth,ne.minWidth=ne.maxWidth=ne.width=J,J=m.width,ne.width=w,ne.minWidth=L,ne.maxWidth=z)),void 0!==J?J+"":J}function Gi(r,a){return{get:function(){if(!r())return(this.get=a).apply(this,arguments);delete this.get}}}!function(){function r(){if(he){ne.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",he.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",A.appendChild(ne).appendChild(he);var _e=We.getComputedStyle(he);m="1%"!==_e.top,oe=12===a(_e.marginLeft),he.style.right="60%",z=36===a(_e.right),w=36===a(_e.width),he.style.position="absolute",L=12===a(he.offsetWidth/3),A.removeChild(ne),he=null}}function a(_e){return Math.round(parseFloat(_e))}var m,w,L,z,J,oe,ne=ee.createElement("div"),he=ee.createElement("div");he.style&&(he.style.backgroundClip="content-box",he.cloneNode(!0).style.backgroundClip="",C.clearCloneStyle="content-box"===he.style.backgroundClip,g.extend(C,{boxSizingReliable:function(){return r(),w},pixelBoxStyles:function(){return r(),z},pixelPosition:function(){return r(),m},reliableMarginLeft:function(){return r(),oe},scrollboxSize:function(){return r(),L},reliableTrDimensions:function(){var _e,Ie,ye,Re;return null==J&&(_e=ee.createElement("table"),Ie=ee.createElement("tr"),ye=ee.createElement("div"),_e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Ie.style.cssText="border:1px solid",Ie.style.height="1px",ye.style.height="9px",ye.style.display="block",A.appendChild(_e).appendChild(Ie).appendChild(ye),Re=We.getComputedStyle(Ie),J=parseInt(Re.height,10)+parseInt(Re.borderTopWidth,10)+parseInt(Re.borderBottomWidth,10)===Ie.offsetHeight,A.removeChild(_e)),J}}))}();var fi=["Webkit","Moz","ms"],ii=ee.createElement("div").style,Ur={};function kr(r){return g.cssProps[r]||Ur[r]||(r in ii?r:Ur[r]=function(m){for(var w=m[0].toUpperCase()+m.slice(1),L=fi.length;L--;)if((m=fi[L]+w)in ii)return m}(r)||r)}var si=/^(none|table(?!-c[ea]).+)/,mi={position:"absolute",visibility:"hidden",display:"block"},gi={letterSpacing:"0",fontWeight:"400"};function vi(r,a,m){var w=P.exec(a);return w?Math.max(0,w[2]-(m||0))+(w[3]||"px"):a}function us(r,a,m,w,L,z){var J="width"===a?1:0,oe=0,ne=0,he=0;if(m===(w?"border":"content"))return 0;for(;J<4;J+=2)"margin"===m&&(he+=g.css(r,m+S[J],!0,L)),w?("content"===m&&(ne-=g.css(r,"padding"+S[J],!0,L)),"margin"!==m&&(ne-=g.css(r,"border"+S[J]+"Width",!0,L))):(ne+=g.css(r,"padding"+S[J],!0,L),"padding"!==m?ne+=g.css(r,"border"+S[J]+"Width",!0,L):oe+=g.css(r,"border"+S[J]+"Width",!0,L));return!w&&0<=z&&(ne+=Math.max(0,Math.ceil(r["offset"+a[0].toUpperCase()+a.slice(1)]-z-ne-oe-.5))||0),ne+he}function Ir(r,a,m){var w=xr(r),L=(!C.boxSizingReliable()||m)&&"border-box"===g.css(r,"boxSizing",!1,w),z=L,J=Vr(r,a,w),oe="offset"+a[0].toUpperCase()+a.slice(1);if(vr.test(J)){if(!m)return J;J="auto"}return(!C.boxSizingReliable()&&L||!C.reliableTrDimensions()&&ct(r,"tr")||"auto"===J||!parseFloat(J)&&"inline"===g.css(r,"display",!1,w))&&r.getClientRects().length&&(L="border-box"===g.css(r,"boxSizing",!1,w),(z=oe in r)&&(J=r[oe])),(J=parseFloat(J)||0)+us(r,a,m||(L?"border":"content"),z,w,J)+"px"}function Dn(r,a,m,w,L){return new Dn.prototype.init(r,a,m,w,L)}g.extend({cssHooks:{opacity:{get:function(r,a){if(a){var m=Vr(r,"opacity");return""===m?"1":m}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(r,a,m,w){if(r&&3!==r.nodeType&&8!==r.nodeType&&r.style){var L,z,J,oe=ft(a),ne=Br.test(a),he=r.style;if(ne||(a=kr(oe)),J=g.cssHooks[a]||g.cssHooks[oe],void 0===m)return J&&"get"in J&&void 0!==(L=J.get(r,!1,w))?L:he[a];"string"==(z=typeof m)&&(L=P.exec(m))&&L[1]&&(m=V(r,a,L),z="number"),null!=m&&m==m&&("number"!==z||ne||(m+=L&&L[3]||(g.cssNumber[oe]?"":"px")),C.clearCloneStyle||""!==m||0!==a.indexOf("background")||(he[a]="inherit"),J&&"set"in J&&void 0===(m=J.set(r,m,w))||(ne?he.setProperty(a,m):he[a]=m))}},css:function(r,a,m,w){var L,z,J,oe=ft(a);return Br.test(a)||(a=kr(oe)),(J=g.cssHooks[a]||g.cssHooks[oe])&&"get"in J&&(L=J.get(r,!0,m)),void 0===L&&(L=Vr(r,a,w)),"normal"===L&&a in gi&&(L=gi[a]),""===m||m?(z=parseFloat(L),!0===m||isFinite(z)?z||0:L):L}}),g.each(["height","width"],function(r,a){g.cssHooks[a]={get:function(m,w,L){if(w)return!si.test(g.css(m,"display"))||m.getClientRects().length&&m.getBoundingClientRect().width?Ir(m,a,L):lr(m,mi,function(){return Ir(m,a,L)})},set:function(m,w,L){var z,J=xr(m),oe=!C.scrollboxSize()&&"absolute"===J.position,ne=(oe||L)&&"border-box"===g.css(m,"boxSizing",!1,J),he=L?us(m,a,L,ne,J):0;return ne&&oe&&(he-=Math.ceil(m["offset"+a[0].toUpperCase()+a.slice(1)]-parseFloat(J[a])-us(m,a,"border",!1,J)-.5)),he&&(z=P.exec(w))&&"px"!==(z[3]||"px")&&(m.style[a]=w,w=g.css(m,a)),vi(0,w,he)}}}),g.cssHooks.marginLeft=Gi(C.reliableMarginLeft,function(r,a){if(a)return(parseFloat(Vr(r,"marginLeft"))||r.getBoundingClientRect().left-lr(r,{marginLeft:0},function(){return r.getBoundingClientRect().left}))+"px"}),g.each({margin:"",padding:"",border:"Width"},function(r,a){g.cssHooks[r+a]={expand:function(m){for(var w=0,L={},z="string"==typeof m?m.split(" "):[m];w<4;w++)L[r+S[w]+a]=z[w]||z[w-2]||z[0];return L}},"margin"!==r&&(g.cssHooks[r+a].set=vi)}),g.fn.extend({css:function(r,a){return en(this,function(m,w,L){var z,J,oe={},ne=0;if(Array.isArray(w)){for(z=xr(m),J=w.length;ne<J;ne++)oe[w[ne]]=g.css(m,w[ne],!1,z);return oe}return void 0!==L?g.style(m,w,L):g.css(m,w)},r,a,1<arguments.length)}}),((g.Tween=Dn).prototype={constructor:Dn,init:function(r,a,m,w,L,z){this.elem=r,this.prop=m,this.easing=L||g.easing._default,this.options=a,this.start=this.now=this.cur(),this.end=w,this.unit=z||(g.cssNumber[m]?"":"px")},cur:function(){var r=Dn.propHooks[this.prop];return r&&r.get?r.get(this):Dn.propHooks._default.get(this)},run:function(r){var a,m=Dn.propHooks[this.prop];return this.pos=a=this.options.duration?g.easing[this.easing](r,this.options.duration*r,0,1,this.options.duration):r,this.now=(this.end-this.start)*a+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),m&&m.set?m.set(this):Dn.propHooks._default.set(this),this}}).init.prototype=Dn.prototype,(Dn.propHooks={_default:{get:function(r){var a;return 1!==r.elem.nodeType||null!=r.elem[r.prop]&&null==r.elem.style[r.prop]?r.elem[r.prop]:(a=g.css(r.elem,r.prop,""))&&"auto"!==a?a:0},set:function(r){g.fx.step[r.prop]?g.fx.step[r.prop](r):1!==r.elem.nodeType||!g.cssHooks[r.prop]&&null==r.elem.style[kr(r.prop)]?r.elem[r.prop]=r.now:g.style(r.elem,r.prop,r.now+r.unit)}}}).scrollTop=Dn.propHooks.scrollLeft={set:function(r){r.elem.nodeType&&r.elem.parentNode&&(r.elem[r.prop]=r.now)}},g.easing={linear:function(r){return r},swing:function(r){return.5-Math.cos(r*Math.PI)/2},_default:"swing"},g.fx=Dn.prototype.init,g.fx.step={};var yi,ds,qi,Vi,zs=/^(?:toggle|show|hide)$/,yn=/queueHooks$/;function pn(){ds&&(!1===ee.hidden&&We.requestAnimationFrame?We.requestAnimationFrame(pn):We.setTimeout(pn,g.fx.interval),g.fx.tick())}function _s(){return We.setTimeout(function(){yi=void 0}),yi=Date.now()}function Xi(r,a){var m,w=0,L={height:r};for(a=a?1:0;w<4;w+=2-a)L["margin"+(m=S[w])]=L["padding"+m]=r;return a&&(L.opacity=L.width=r),L}function xs(r,a,m){for(var w,L=(Pr.tweeners[a]||[]).concat(Pr.tweeners["*"]),z=0,J=L.length;z<J;z++)if(w=L[z].call(m,a,r))return w}function Pr(r,a,m){var w,L,z=0,J=Pr.prefilters.length,oe=g.Deferred().always(function(){delete ne.elem}),ne=function(){if(L)return!1;for(var Ie=yi||_s(),ye=Math.max(0,he.startTime+he.duration-Ie),Re=1-(ye/he.duration||0),ut=0,De=he.tweens.length;ut<De;ut++)he.tweens[ut].run(Re);return oe.notifyWith(r,[he,Re,ye]),Re<1&&De?ye:(De||oe.notifyWith(r,[he,1,0]),oe.resolveWith(r,[he]),!1)},he=oe.promise({elem:r,props:g.extend({},a),opts:g.extend(!0,{specialEasing:{},easing:g.easing._default},m),originalProperties:a,originalOptions:m,startTime:yi||_s(),duration:m.duration,tweens:[],createTween:function(Ie,ye){var Re=g.Tween(r,he.opts,Ie,ye,he.opts.specialEasing[Ie]||he.opts.easing);return he.tweens.push(Re),Re},stop:function(Ie){var ye=0,Re=Ie?he.tweens.length:0;if(L)return this;for(L=!0;ye<Re;ye++)he.tweens[ye].run(1);return Ie?(oe.notifyWith(r,[he,1,0]),oe.resolveWith(r,[he,Ie])):oe.rejectWith(r,[he,Ie]),this}}),_e=he.props;for(function(Ie,ye){var Re,ut,De,Rt,In;for(Re in Ie)if(De=ye[ut=ft(Re)],Rt=Ie[Re],Array.isArray(Rt)&&(De=Rt[1],Rt=Ie[Re]=Rt[0]),Re!==ut&&(Ie[ut]=Rt,delete Ie[Re]),(In=g.cssHooks[ut])&&"expand"in In)for(Re in Rt=In.expand(Rt),delete Ie[ut],Rt)Re in Ie||(Ie[Re]=Rt[Re],ye[Re]=De);else ye[ut]=De}(_e,he.opts.specialEasing);z<J;z++)if(w=Pr.prefilters[z].call(he,r,_e,he.opts))return R(w.stop)&&(g._queueHooks(he.elem,he.opts.queue).stop=w.stop.bind(w)),w;return g.map(_e,xs,he),R(he.opts.start)&&he.opts.start.call(r,he),he.progress(he.opts.progress).done(he.opts.done,he.opts.complete).fail(he.opts.fail).always(he.opts.always),g.fx.timer(g.extend(ne,{elem:r,anim:he,queue:he.opts.queue})),he}g.Animation=g.extend(Pr,{tweeners:{"*":[function(r,a){var m=this.createTween(r,a);return V(m.elem,r,P.exec(a),m),m}]},tweener:function(r,a){R(r)?(a=r,r=["*"]):r=r.match(Fn);for(var m,w=0,L=r.length;w<L;w++)(Pr.tweeners[m=r[w]]=Pr.tweeners[m]||[]).unshift(a)},prefilters:[function(r,a,m){var w,L,z,J,oe,ne,he,_e,Ie="width"in a||"height"in a,ye=this,Re={},ut=r.style,De=r.nodeType&&G(r),Rt=Xe.get(r,"fxshow");for(w in m.queue||(null==(J=g._queueHooks(r,"fx")).unqueued&&(J.unqueued=0,oe=J.empty.fire,J.empty.fire=function(){J.unqueued||oe()}),J.unqueued++,ye.always(function(){ye.always(function(){J.unqueued--,g.queue(r,"fx").length||J.empty.fire()})})),a)if(zs.test(L=a[w])){if(delete a[w],z=z||"toggle"===L,L===(De?"hide":"show")){if("show"!==L||!Rt||void 0===Rt[w])continue;De=!0}Re[w]=Rt&&Rt[w]||g.style(r,w)}if((ne=!g.isEmptyObject(a))||!g.isEmptyObject(Re))for(w in Ie&&1===r.nodeType&&(m.overflow=[ut.overflow,ut.overflowX,ut.overflowY],null==(he=Rt&&Rt.display)&&(he=Xe.get(r,"display")),"none"===(_e=g.css(r,"display"))&&(he?_e=he:(_([r],!0),he=r.style.display||he,_e=g.css(r,"display"),_([r]))),("inline"===_e||"inline-block"===_e&&null!=he)&&"none"===g.css(r,"float")&&(ne||(ye.done(function(){ut.display=he}),null==he&&(he="none"===(_e=ut.display)?"":_e)),ut.display="inline-block")),m.overflow&&(ut.overflow="hidden",ye.always(function(){ut.overflow=m.overflow[0],ut.overflowX=m.overflow[1],ut.overflowY=m.overflow[2]})),ne=!1,Re)ne||(Rt?"hidden"in Rt&&(De=Rt.hidden):Rt=Xe.access(r,"fxshow",{display:he}),z&&(Rt.hidden=!De),De&&_([r],!0),ye.done(function(){for(w in De||_([r]),Xe.remove(r,"fxshow"),Re)g.style(r,w,Re[w])})),ne=xs(De?Rt[w]:0,w,ye),w in Rt||(Rt[w]=ne.start,De&&(ne.end=ne.start,ne.start=0))}],prefilter:function(r,a){a?Pr.prefilters.unshift(r):Pr.prefilters.push(r)}}),g.speed=function(r,a,m){var w=r&&"object"==typeof r?g.extend({},r):{complete:m||!m&&a||R(r)&&r,duration:r,easing:m&&a||a&&!R(a)&&a};return g.fx.off?w.duration=0:"number"!=typeof w.duration&&(w.duration=w.duration in g.fx.speeds?g.fx.speeds[w.duration]:g.fx.speeds._default),null!=w.queue&&!0!==w.queue||(w.queue="fx"),w.old=w.complete,w.complete=function(){R(w.old)&&w.old.call(this),w.queue&&g.dequeue(this,w.queue)},w},g.fn.extend({fadeTo:function(r,a,m,w){return this.filter(G).css("opacity",0).show().end().animate({opacity:a},r,m,w)},animate:function(r,a,m,w){var L=g.isEmptyObject(r),z=g.speed(a,m,w),J=function(){var oe=Pr(this,g.extend({},r),z);(L||Xe.get(this,"finish"))&&oe.stop(!0)};return J.finish=J,L||!1===z.queue?this.each(J):this.queue(z.queue,J)},stop:function(r,a,m){var w=function(L){var z=L.stop;delete L.stop,z(m)};return"string"!=typeof r&&(m=a,a=r,r=void 0),a&&this.queue(r||"fx",[]),this.each(function(){var L=!0,z=null!=r&&r+"queueHooks",J=g.timers,oe=Xe.get(this);if(z)oe[z]&&oe[z].stop&&w(oe[z]);else for(z in oe)oe[z]&&oe[z].stop&&yn.test(z)&&w(oe[z]);for(z=J.length;z--;)J[z].elem!==this||null!=r&&J[z].queue!==r||(J[z].anim.stop(m),L=!1,J.splice(z,1));!L&&m||g.dequeue(this,r)})},finish:function(r){return!1!==r&&(r=r||"fx"),this.each(function(){var a,m=Xe.get(this),w=m[r+"queue"],L=m[r+"queueHooks"],z=g.timers,J=w?w.length:0;for(m.finish=!0,g.queue(this,r,[]),L&&L.stop&&L.stop.call(this,!0),a=z.length;a--;)z[a].elem===this&&z[a].queue===r&&(z[a].anim.stop(!0),z.splice(a,1));for(a=0;a<J;a++)w[a]&&w[a].finish&&w[a].finish.call(this);delete m.finish})}}),g.each(["toggle","show","hide"],function(r,a){var m=g.fn[a];g.fn[a]=function(w,L,z){return null==w||"boolean"==typeof w?m.apply(this,arguments):this.animate(Xi(a,!0),w,L,z)}}),g.each({slideDown:Xi("show"),slideUp:Xi("hide"),slideToggle:Xi("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(r,a){g.fn[r]=function(m,w,L){return this.animate(a,m,w,L)}}),g.timers=[],g.fx.tick=function(){var r,a=0,m=g.timers;for(yi=Date.now();a<m.length;a++)(r=m[a])()||m[a]!==r||m.splice(a--,1);m.length||g.fx.stop(),yi=void 0},g.fx.timer=function(r){g.timers.push(r),g.fx.start()},g.fx.interval=13,g.fx.start=function(){ds||(ds=!0,pn())},g.fx.stop=function(){ds=null},g.fx.speeds={slow:600,fast:200,_default:400},g.fn.delay=function(r,a){return r=g.fx&&g.fx.speeds[r]||r,this.queue(a=a||"fx",function(m,w){var L=We.setTimeout(m,r);w.stop=function(){We.clearTimeout(L)}})},qi=ee.createElement("input"),Vi=ee.createElement("select").appendChild(ee.createElement("option")),qi.type="checkbox",C.checkOn=""!==qi.value,C.optSelected=Vi.selected,(qi=ee.createElement("input")).value="t",qi.type="radio",C.radioValue="t"===qi.value;var Hs,It=g.expr.attrHandle;g.fn.extend({attr:function(r,a){return en(this,g.attr,r,a,1<arguments.length)},removeAttr:function(r){return this.each(function(){g.removeAttr(this,r)})}}),g.extend({attr:function(r,a,m){var w,L,z=r.nodeType;if(3!==z&&8!==z&&2!==z)return typeof r.getAttribute>"u"?g.prop(r,a,m):(1===z&&g.isXMLDoc(r)||(L=g.attrHooks[a.toLowerCase()]||(g.expr.match.bool.test(a)?Hs:void 0)),void 0!==m?null===m?void g.removeAttr(r,a):L&&"set"in L&&void 0!==(w=L.set(r,m,a))?w:(r.setAttribute(a,m+""),m):L&&"get"in L&&null!==(w=L.get(r,a))?w:null==(w=g.find.attr(r,a))?void 0:w)},attrHooks:{type:{set:function(r,a){if(!C.radioValue&&"radio"===a&&ct(r,"input")){var m=r.value;return r.setAttribute("type",a),m&&(r.value=m),a}}}},removeAttr:function(r,a){var m,w=0,L=a&&a.match(Fn);if(L&&1===r.nodeType)for(;m=L[w++];)r.removeAttribute(m)}}),Hs={set:function(r,a,m){return!1===a?g.removeAttr(r,m):r.setAttribute(m,m),m}},g.each(g.expr.match.bool.source.match(/\w+/g),function(r,a){var m=It[a]||g.find.attr;It[a]=function(w,L,z){var J,oe,ne=L.toLowerCase();return z||(oe=It[ne],It[ne]=J,J=null!=m(w,L,z)?ne:null,It[ne]=oe),J}});var Yi=/^(?:input|select|textarea|button)$/i,Di=/^(?:a|area)$/i;function ai(r){return(r.match(Fn)||[]).join(" ")}function bi(r){return r.getAttribute&&r.getAttribute("class")||""}function Kn(r){return Array.isArray(r)?r:"string"==typeof r&&r.match(Fn)||[]}g.fn.extend({prop:function(r,a){return en(this,g.prop,r,a,1<arguments.length)},removeProp:function(r){return this.each(function(){delete this[g.propFix[r]||r]})}}),g.extend({prop:function(r,a,m){var w,L,z=r.nodeType;if(3!==z&&8!==z&&2!==z)return 1===z&&g.isXMLDoc(r)||(L=g.propHooks[a=g.propFix[a]||a]),void 0!==m?L&&"set"in L&&void 0!==(w=L.set(r,m,a))?w:r[a]=m:L&&"get"in L&&null!==(w=L.get(r,a))?w:r[a]},propHooks:{tabIndex:{get:function(r){var a=g.find.attr(r,"tabindex");return a?parseInt(a,10):Yi.test(r.nodeName)||Di.test(r.nodeName)&&r.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),C.optSelected||(g.propHooks.selected={get:function(r){return null},set:function(r){}}),g.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){g.propFix[this.toLowerCase()]=this}),g.fn.extend({addClass:function(r){var a,m,w,L,z,J;return R(r)?this.each(function(oe){g(this).addClass(r.call(this,oe,bi(this)))}):(a=Kn(r)).length?this.each(function(){if(w=bi(this),m=1===this.nodeType&&" "+ai(w)+" "){for(z=0;z<a.length;z++)m.indexOf(" "+(L=a[z])+" ")<0&&(m+=L+" ");J=ai(m),w!==J&&this.setAttribute("class",J)}}):this},removeClass:function(r){var a,m,w,L,z,J;return R(r)?this.each(function(oe){g(this).removeClass(r.call(this,oe,bi(this)))}):arguments.length?(a=Kn(r)).length?this.each(function(){if(w=bi(this),m=1===this.nodeType&&" "+ai(w)+" "){for(z=0;z<a.length;z++)for(L=a[z];-1<m.indexOf(" "+L+" ");)m=m.replace(" "+L+" "," ");J=ai(m),w!==J&&this.setAttribute("class",J)}}):this:this.attr("class","")},toggleClass:function(r,a){var m,w,L,z,J=typeof r,oe="string"===J||Array.isArray(r);return R(r)?this.each(function(ne){g(this).toggleClass(r.call(this,ne,bi(this),a),a)}):"boolean"==typeof a&&oe?a?this.addClass(r):this.removeClass(r):(m=Kn(r),this.each(function(){if(oe)for(z=g(this),L=0;L<m.length;L++)z.hasClass(w=m[L])?z.removeClass(w):z.addClass(w);else void 0!==r&&"boolean"!==J||((w=bi(this))&&Xe.set(this,"__className__",w),this.setAttribute&&this.setAttribute("class",w||!1===r?"":Xe.get(this,"__className__")||""))}))},hasClass:function(r){var a,m,w=0;for(a=" "+r+" ";m=this[w++];)if(1===m.nodeType&&-1<(" "+ai(bi(m))+" ").indexOf(a))return!0;return!1}});var ua=/\r/g;g.fn.extend({val:function(r){var a,m,w,L=this[0];return arguments.length?(w=R(r),this.each(function(z){var J;1===this.nodeType&&(null==(J=w?r.call(this,z,g(this).val()):r)?J="":"number"==typeof J?J+="":Array.isArray(J)&&(J=g.map(J,function(oe){return null==oe?"":oe+""})),(a=g.valHooks[this.type]||g.valHooks[this.nodeName.toLowerCase()])&&"set"in a&&void 0!==a.set(this,J,"value")||(this.value=J))})):L?(a=g.valHooks[L.type]||g.valHooks[L.nodeName.toLowerCase()])&&"get"in a&&void 0!==(m=a.get(L,"value"))?m:"string"==typeof(m=L.value)?m.replace(ua,""):m??"":void 0}}),g.extend({valHooks:{option:{get:function(r){return g.find.attr(r,"value")??ai(g.text(r))}},select:{get:function(r){var a,m,w,L=r.options,z=r.selectedIndex,J="select-one"===r.type,oe=J?null:[],ne=J?z+1:L.length;for(w=z<0?ne:J?z:0;w<ne;w++)if(((m=L[w]).selected||w===z)&&!m.disabled&&(!m.parentNode.disabled||!ct(m.parentNode,"optgroup"))){if(a=g(m).val(),J)return a;oe.push(a)}return oe},set:function(r,a){for(var m,w,L=r.options,z=g.makeArray(a),J=L.length;J--;)((w=L[J]).selected=-1<g.inArray(g.valHooks.option.get(w),z))&&(m=!0);return m||(r.selectedIndex=-1),z}}}}),g.each(["radio","checkbox"],function(){g.valHooks[this]={set:function(r,a){if(Array.isArray(a))return r.checked=-1<g.inArray(g(r).val(),a)}},C.checkOn||(g.valHooks[this].get=function(r){return null===r.getAttribute("value")?"on":r.value})});var oi=We.location,ks={guid:Date.now()},Ni=/\?/;g.parseXML=function(r){var a,m;if(!r||"string"!=typeof r)return null;try{a=(new We.DOMParser).parseFromString(r,"text/xml")}catch{}return m=a&&a.getElementsByTagName("parsererror")[0],a&&!m||g.error("Invalid XML: "+(m?g.map(m.childNodes,function(w){return w.textContent}).join("\n"):r)),a};var Li=/^(?:focusinfocus|focusoutblur)$/,on=function(r){r.stopPropagation()};g.extend(g.event,{trigger:function(r,a,m,w){var L,z,J,oe,ne,he,_e,Ie,ye=[m||ee],Re=N.call(r,"type")?r.type:r,ut=N.call(r,"namespace")?r.namespace.split("."):[];if(z=Ie=J=m=m||ee,3!==m.nodeType&&8!==m.nodeType&&!Li.test(Re+g.event.triggered)&&(-1<Re.indexOf(".")&&(Re=(ut=Re.split(".")).shift(),ut.sort()),ne=Re.indexOf(":")<0&&"on"+Re,(r=r[g.expando]?r:new g.Event(Re,"object"==typeof r&&r)).isTrigger=w?2:3,r.namespace=ut.join("."),r.rnamespace=r.namespace?new RegExp("(^|\\.)"+ut.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,r.result=void 0,r.target||(r.target=m),a=null==a?[r]:g.makeArray(a,[r]),_e=g.event.special[Re]||{},w||!_e.trigger||!1!==_e.trigger.apply(m,a))){if(!w&&!_e.noBubble&&!ge(m)){for(Li.test((oe=_e.delegateType||Re)+Re)||(z=z.parentNode);z;z=z.parentNode)ye.push(z),J=z;J===(m.ownerDocument||ee)&&ye.push(J.defaultView||J.parentWindow||We)}for(L=0;(z=ye[L++])&&!r.isPropagationStopped();)Ie=z,r.type=1<L?oe:_e.bindType||Re,(he=(Xe.get(z,"events")||Object.create(null))[r.type]&&Xe.get(z,"handle"))&&he.apply(z,a),(he=ne&&z[ne])&&he.apply&&Wt(z)&&(r.result=he.apply(z,a),!1===r.result&&r.preventDefault());return r.type=Re,w||r.isDefaultPrevented()||_e._default&&!1!==_e._default.apply(ye.pop(),a)||!Wt(m)||ne&&R(m[Re])&&!ge(m)&&((J=m[ne])&&(m[ne]=null),g.event.triggered=Re,r.isPropagationStopped()&&Ie.addEventListener(Re,on),m[Re](),r.isPropagationStopped()&&Ie.removeEventListener(Re,on),g.event.triggered=void 0,J&&(m[ne]=J)),r.result}},simulate:function(r,a,m){var w=g.extend(new g.Event,m,{type:r,isSimulated:!0});g.event.trigger(w,null,a)}}),g.fn.extend({trigger:function(r,a){return this.each(function(){g.event.trigger(r,a,this)})},triggerHandler:function(r,a){var m=this[0];if(m)return g.event.trigger(r,a,m,!0)}});var ur=/\[\]$/,Ws=/\r?\n/g,Fr=/^(?:submit|button|image|reset|file)$/i,Pa=/^(?:input|select|textarea|keygen)/i;function ps(r,a,m,w){var L;if(Array.isArray(a))g.each(a,function(z,J){m||ur.test(r)?w(r,J):ps(r+"["+("object"==typeof J&&null!=J?z:"")+"]",J,m,w)});else if(m||"object"!==Me(a))w(r,a);else for(L in a)ps(r+"["+L+"]",a[L],m,w)}g.param=function(r,a){var m,w=[],L=function(z,J){var oe=R(J)?J():J;w[w.length]=encodeURIComponent(z)+"="+encodeURIComponent(oe??"")};if(null==r)return"";if(Array.isArray(r)||r.jquery&&!g.isPlainObject(r))g.each(r,function(){L(this.name,this.value)});else for(m in r)ps(m,r[m],a,L);return w.join("&")},g.fn.extend({serialize:function(){return g.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var r=g.prop(this,"elements");return r?g.makeArray(r):this}).filter(function(){var r=this.type;return this.name&&!g(this).is(":disabled")&&Pa.test(this.nodeName)&&!Fr.test(r)&&(this.checked||!Y.test(r))}).map(function(r,a){var m=g(this).val();return null==m?null:Array.isArray(m)?g.map(m,function(w){return{name:a.name,value:w.replace(Ws,"\r\n")}}):{name:a.name,value:m.replace(Ws,"\r\n")}}).get()}});var Zt=/%20/g,Is=/#.*$/,Gs=/([?&])_=[^&]*/,xn=/^(.*?):[ \t]*([^\r\n]*)$/gm,Si=/^(?:GET|HEAD)$/,Ps=/^\/\//,qs={},hs={},da="*/".concat("*"),Os=ee.createElement("a");function Ji(r){return function(a,m){"string"!=typeof a&&(m=a,a="*");var w,L=0,z=a.toLowerCase().match(Fn)||[];if(R(m))for(;w=z[L++];)"+"===w[0]?(w=w.slice(1)||"*",(r[w]=r[w]||[]).unshift(m)):(r[w]=r[w]||[]).push(m)}}function Ii(r,a,m,w){var L={},z=r===hs;function J(oe){var ne;return L[oe]=!0,g.each(r[oe]||[],function(he,_e){var Ie=_e(a,m,w);return"string"!=typeof Ie||z||L[Ie]?z?!(ne=Ie):void 0:(a.dataTypes.unshift(Ie),J(Ie),!1)}),ne}return J(a.dataTypes[0])||!L["*"]&&J("*")}function Rs(r,a){var m,w,L=g.ajaxSettings.flatOptions||{};for(m in a)void 0!==a[m]&&((L[m]?r:w||(w={}))[m]=a[m]);return w&&g.extend(!0,r,w),r}Os.href=oi.href,g.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:oi.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(oi.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":da,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":g.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(r,a){return a?Rs(Rs(r,g.ajaxSettings),a):Rs(g.ajaxSettings,r)},ajaxPrefilter:Ji(qs),ajaxTransport:Ji(hs),ajax:function(r,a){"object"==typeof r&&(a=r,r=void 0);var m,w,L,z,J,oe,ne,he,_e,Ie,ye=g.ajaxSetup({},a=a||{}),Re=ye.context||ye,ut=ye.context&&(Re.nodeType||Re.jquery)?g(Re):g.event,De=g.Deferred(),Rt=g.Callbacks("once memory"),In=ye.statusCode||{},ht={},Ee={},Ae="canceled",xe={readyState:0,getResponseHeader:function(tt){var wt;if(ne){if(!z)for(z={};wt=xn.exec(L);)z[wt[1].toLowerCase()+" "]=(z[wt[1].toLowerCase()+" "]||[]).concat(wt[2]);wt=z[tt.toLowerCase()+" "]}return null==wt?null:wt.join(", ")},getAllResponseHeaders:function(){return ne?L:null},setRequestHeader:function(tt,wt){return null==ne&&(tt=Ee[tt.toLowerCase()]=Ee[tt.toLowerCase()]||tt,ht[tt]=wt),this},overrideMimeType:function(tt){return null==ne&&(ye.mimeType=tt),this},statusCode:function(tt){var wt;if(tt)if(ne)xe.always(tt[xe.status]);else for(wt in tt)In[wt]=[In[wt],tt[wt]];return this},abort:function(tt){var wt=tt||Ae;return m&&m.abort(wt),Ge(0,wt),this}};if(De.promise(xe),ye.url=((r||ye.url||oi.href)+"").replace(Ps,oi.protocol+"//"),ye.type=a.method||a.type||ye.method||ye.type,ye.dataTypes=(ye.dataType||"*").toLowerCase().match(Fn)||[""],null==ye.crossDomain){oe=ee.createElement("a");try{oe.href=ye.url,oe.href=oe.href,ye.crossDomain=Os.protocol+"//"+Os.host!=oe.protocol+"//"+oe.host}catch{ye.crossDomain=!0}}if(ye.data&&ye.processData&&"string"!=typeof ye.data&&(ye.data=g.param(ye.data,ye.traditional)),Ii(qs,ye,a,xe),ne)return xe;for(_e in(he=g.event&&ye.global)&&0==g.active++&&g.event.trigger("ajaxStart"),ye.type=ye.type.toUpperCase(),ye.hasContent=!Si.test(ye.type),w=ye.url.replace(Is,""),ye.hasContent?ye.data&&ye.processData&&0===(ye.contentType||"").indexOf("application/x-www-form-urlencoded")&&(ye.data=ye.data.replace(Zt,"+")):(Ie=ye.url.slice(w.length),ye.data&&(ye.processData||"string"==typeof ye.data)&&(w+=(Ni.test(w)?"&":"?")+ye.data,delete ye.data),!1===ye.cache&&(w=w.replace(Gs,"$1"),Ie=(Ni.test(w)?"&":"?")+"_="+ks.guid+++Ie),ye.url=w+Ie),ye.ifModified&&(g.lastModified[w]&&xe.setRequestHeader("If-Modified-Since",g.lastModified[w]),g.etag[w]&&xe.setRequestHeader("If-None-Match",g.etag[w])),(ye.data&&ye.hasContent&&!1!==ye.contentType||a.contentType)&&xe.setRequestHeader("Content-Type",ye.contentType),xe.setRequestHeader("Accept",ye.dataTypes[0]&&ye.accepts[ye.dataTypes[0]]?ye.accepts[ye.dataTypes[0]]+("*"!==ye.dataTypes[0]?", "+da+"; q=0.01":""):ye.accepts["*"]),ye.headers)xe.setRequestHeader(_e,ye.headers[_e]);if(ye.beforeSend&&(!1===ye.beforeSend.call(Re,xe,ye)||ne))return xe.abort();if(Ae="abort",Rt.add(ye.complete),xe.done(ye.success),xe.fail(ye.error),m=Ii(hs,ye,a,xe)){if(xe.readyState=1,he&&ut.trigger("ajaxSend",[xe,ye]),ne)return xe;ye.async&&0<ye.timeout&&(J=We.setTimeout(function(){xe.abort("timeout")},ye.timeout));try{ne=!1,m.send(ht,Ge)}catch(tt){if(ne)throw tt;Ge(-1,tt)}}else Ge(-1,"No Transport");function Ge(tt,wt,Pn,zr){var tn,Ei,Or,Xn,wi,yr=wt;ne||(ne=!0,J&&We.clearTimeout(J),m=void 0,L=zr||"",xe.readyState=0<tt?4:0,tn=200<=tt&&tt<300||304===tt,Pn&&(Xn=function(On,Rn,An){for(var Qt,dr,kt,kn,wn=On.contents,Cn=On.dataTypes;"*"===Cn[0];)Cn.shift(),void 0===Qt&&(Qt=On.mimeType||Rn.getResponseHeader("Content-Type"));if(Qt)for(dr in wn)if(wn[dr]&&wn[dr].test(Qt)){Cn.unshift(dr);break}if(Cn[0]in An)kt=Cn[0];else{for(dr in An){if(!Cn[0]||On.converters[dr+" "+Cn[0]]){kt=dr;break}kn||(kn=dr)}kt=kt||kn}if(kt)return kt!==Cn[0]&&Cn.unshift(kt),An[kt]}(ye,xe,Pn)),!tn&&-1<g.inArray("script",ye.dataTypes)&&g.inArray("json",ye.dataTypes)<0&&(ye.converters["text script"]=function(){}),Xn=function(On,Rn,An,Qt){var dr,kt,kn,wn,Cn,Xr={},Yr=On.dataTypes.slice();if(Yr[1])for(kn in On.converters)Xr[kn.toLowerCase()]=On.converters[kn];for(kt=Yr.shift();kt;)if(On.responseFields[kt]&&(An[On.responseFields[kt]]=Rn),!Cn&&Qt&&On.dataFilter&&(Rn=On.dataFilter(Rn,On.dataType)),Cn=kt,kt=Yr.shift())if("*"===kt)kt=Cn;else if("*"!==Cn&&Cn!==kt){if(!(kn=Xr[Cn+" "+kt]||Xr["* "+kt]))for(dr in Xr)if((wn=dr.split(" "))[1]===kt&&(kn=Xr[Cn+" "+wn[0]]||Xr["* "+wn[0]])){!0===kn?kn=Xr[dr]:!0!==Xr[dr]&&(kt=wn[0],Yr.unshift(wn[1]));break}if(!0!==kn)if(kn&&On.throws)Rn=kn(Rn);else try{Rn=kn(Rn)}catch(Hr){return{state:"parsererror",error:kn?Hr:"No conversion from "+Cn+" to "+kt}}}return{state:"success",data:Rn}}(ye,Xn,xe,tn),tn?(ye.ifModified&&((wi=xe.getResponseHeader("Last-Modified"))&&(g.lastModified[w]=wi),(wi=xe.getResponseHeader("etag"))&&(g.etag[w]=wi)),204===tt||"HEAD"===ye.type?yr="nocontent":304===tt?yr="notmodified":(yr=Xn.state,Ei=Xn.data,tn=!(Or=Xn.error))):(Or=yr,!tt&&yr||(yr="error",tt<0&&(tt=0))),xe.status=tt,xe.statusText=(wt||yr)+"",tn?De.resolveWith(Re,[Ei,yr,xe]):De.rejectWith(Re,[xe,yr,Or]),xe.statusCode(In),In=void 0,he&&ut.trigger(tn?"ajaxSuccess":"ajaxError",[xe,ye,tn?Ei:Or]),Rt.fireWith(Re,[xe,yr]),he&&(ut.trigger("ajaxComplete",[xe,ye]),--g.active||g.event.trigger("ajaxStop")))}return xe},getJSON:function(r,a,m){return g.get(r,a,m,"json")},getScript:function(r,a){return g.get(r,void 0,a,"script")}}),g.each(["get","post"],function(r,a){g[a]=function(m,w,L,z){return R(w)&&(z=z||L,L=w,w=void 0),g.ajax(g.extend({url:m,type:a,dataType:z,data:w,success:L},g.isPlainObject(m)&&m))}}),g.ajaxPrefilter(function(r){var a;for(a in r.headers)"content-type"===a.toLowerCase()&&(r.contentType=r.headers[a]||"")}),g._evalUrl=function(r,a,m){return g.ajax({url:r,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(w){g.globalEval(w,a,m)}})},g.fn.extend({wrapAll:function(r){var a;return this[0]&&(R(r)&&(r=r.call(this[0])),a=g(r,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&a.insertBefore(this[0]),a.map(function(){for(var m=this;m.firstElementChild;)m=m.firstElementChild;return m}).append(this)),this},wrapInner:function(r){return R(r)?this.each(function(a){g(this).wrapInner(r.call(this,a))}):this.each(function(){var a=g(this),m=a.contents();m.length?m.wrapAll(r):a.append(r)})},wrap:function(r){var a=R(r);return this.each(function(m){g(this).wrapAll(a?r.call(this,m):r)})},unwrap:function(r){return this.parent(r).not("body").each(function(){g(this).replaceWith(this.childNodes)}),this}}),g.expr.pseudos.hidden=function(r){return!g.expr.pseudos.visible(r)},g.expr.pseudos.visible=function(r){return!!(r.offsetWidth||r.offsetHeight||r.getClientRects().length)},g.ajaxSettings.xhr=function(){try{return new We.XMLHttpRequest}catch{}};var Vs={0:200,1223:204},Ki=g.ajaxSettings.xhr();C.cors=!!Ki&&"withCredentials"in Ki,C.ajax=Ki=!!Ki,g.ajaxTransport(function(r){var a,m;if(C.cors||Ki&&!r.crossDomain)return{send:function(w,L){var z,J=r.xhr();if(J.open(r.type,r.url,r.async,r.username,r.password),r.xhrFields)for(z in r.xhrFields)J[z]=r.xhrFields[z];for(z in r.mimeType&&J.overrideMimeType&&J.overrideMimeType(r.mimeType),r.crossDomain||w["X-Requested-With"]||(w["X-Requested-With"]="XMLHttpRequest"),w)J.setRequestHeader(z,w[z]);a=function(oe){return function(){a&&(a=m=J.onload=J.onerror=J.onabort=J.ontimeout=J.onreadystatechange=null,"abort"===oe?J.abort():"error"===oe?"number"!=typeof J.status?L(0,"error"):L(J.status,J.statusText):L(Vs[J.status]||J.status,J.statusText,"text"!==(J.responseType||"text")||"string"!=typeof J.responseText?{binary:J.response}:{text:J.responseText},J.getAllResponseHeaders()))}},J.onload=a(),m=J.onerror=J.ontimeout=a("error"),void 0!==J.onabort?J.onabort=m:J.onreadystatechange=function(){4===J.readyState&&We.setTimeout(function(){a&&m()})},a=a("abort");try{J.send(r.hasContent&&r.data||null)}catch(oe){if(a)throw oe}},abort:function(){a&&a()}}}),g.ajaxPrefilter(function(r){r.crossDomain&&(r.contents.script=!1)}),g.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(r){return g.globalEval(r),r}}}),g.ajaxPrefilter("script",function(r){void 0===r.cache&&(r.cache=!1),r.crossDomain&&(r.type="GET")}),g.ajaxTransport("script",function(r){var a,m;if(r.crossDomain||r.scriptAttrs)return{send:function(w,L){a=g("<script>").attr(r.scriptAttrs||{}).prop({charset:r.scriptCharset,src:r.url}).on("load error",m=function(z){a.remove(),m=null,z&&L("error"===z.type?404:200,z.type)}),ee.head.appendChild(a[0])},abort:function(){m&&m()}}});var As,fs=[],Ms=/(=)\?(?=&|$)|\?\?/;g.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var r=fs.pop()||g.expando+"_"+ks.guid++;return this[r]=!0,r}}),g.ajaxPrefilter("json jsonp",function(r,a,m){var w,L,z,J=!1!==r.jsonp&&(Ms.test(r.url)?"url":"string"==typeof r.data&&0===(r.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ms.test(r.data)&&"data");if(J||"jsonp"===r.dataTypes[0])return w=r.jsonpCallback=R(r.jsonpCallback)?r.jsonpCallback():r.jsonpCallback,J?r[J]=r[J].replace(Ms,"$1"+w):!1!==r.jsonp&&(r.url+=(Ni.test(r.url)?"&":"?")+r.jsonp+"="+w),r.converters["script json"]=function(){return z||g.error(w+" was not called"),z[0]},r.dataTypes[0]="json",L=We[w],We[w]=function(){z=arguments},m.always(function(){void 0===L?g(We).removeProp(w):We[w]=L,r[w]&&(r.jsonpCallback=a.jsonpCallback,fs.push(w)),z&&R(L)&&L(z[0]),z=L=void 0}),"script"}),C.createHTMLDocument=((As=ee.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===As.childNodes.length),g.parseHTML=function(r,a,m){return"string"!=typeof r?[]:("boolean"==typeof a&&(m=a,a=!1),a||(C.createHTMLDocument?((w=(a=ee.implementation.createHTMLDocument("")).createElement("base")).href=ee.location.href,a.head.appendChild(w)):a=ee),z=!m&&[],(L=cr.exec(r))?[a.createElement(L[1])]:(L=Le([r],a,z),z&&z.length&&g(z).remove(),g.merge([],L.childNodes)));var w,L,z},g.fn.load=function(r,a,m){var w,L,z,J=this,oe=r.indexOf(" ");return-1<oe&&(w=ai(r.slice(oe)),r=r.slice(0,oe)),R(a)?(m=a,a=void 0):a&&"object"==typeof a&&(L="POST"),0<J.length&&g.ajax({url:r,type:L||"GET",dataType:"html",data:a}).done(function(ne){z=arguments,J.html(w?g("<div>").append(g.parseHTML(ne)).find(w):ne)}).always(m&&function(ne,he){J.each(function(){m.apply(this,z||[ne.responseText,he,ne])})}),this},g.expr.pseudos.animated=function(r){return g.grep(g.timers,function(a){return r===a.elem}).length},g.offset={setOffset:function(r,a,m){var w,L,z,J,oe,ne,he=g.css(r,"position"),_e=g(r),Ie={};"static"===he&&(r.style.position="relative"),oe=_e.offset(),z=g.css(r,"top"),ne=g.css(r,"left"),("absolute"===he||"fixed"===he)&&-1<(z+ne).indexOf("auto")?(J=(w=_e.position()).top,L=w.left):(J=parseFloat(z)||0,L=parseFloat(ne)||0),R(a)&&(a=a.call(r,m,g.extend({},oe))),null!=a.top&&(Ie.top=a.top-oe.top+J),null!=a.left&&(Ie.left=a.left-oe.left+L),"using"in a?a.using.call(r,Ie):_e.css(Ie)}},g.fn.extend({offset:function(r){if(arguments.length)return void 0===r?this:this.each(function(L){g.offset.setOffset(this,r,L)});var a,m,w=this[0];return w?w.getClientRects().length?{top:(a=w.getBoundingClientRect()).top+(m=w.ownerDocument.defaultView).pageYOffset,left:a.left+m.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var r,a,m,w=this[0],L={top:0,left:0};if("fixed"===g.css(w,"position"))a=w.getBoundingClientRect();else{for(a=this.offset(),m=w.ownerDocument,r=w.offsetParent||m.documentElement;r&&(r===m.body||r===m.documentElement)&&"static"===g.css(r,"position");)r=r.parentNode;r&&r!==w&&1===r.nodeType&&((L=g(r).offset()).top+=g.css(r,"borderTopWidth",!0),L.left+=g.css(r,"borderLeftWidth",!0))}return{top:a.top-L.top-g.css(w,"marginTop",!0),left:a.left-L.left-g.css(w,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var r=this.offsetParent;r&&"static"===g.css(r,"position");)r=r.offsetParent;return r||A})}}),g.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(r,a){var m="pageYOffset"===a;g.fn[r]=function(w){return en(this,function(L,z,J){var oe;if(ge(L)?oe=L:9===L.nodeType&&(oe=L.defaultView),void 0===J)return oe?oe[a]:L[z];oe?oe.scrollTo(m?oe.pageXOffset:J,m?J:oe.pageYOffset):L[z]=J},r,w,arguments.length)}}),g.each(["top","left"],function(r,a){g.cssHooks[a]=Gi(C.pixelPosition,function(m,w){if(w)return w=Vr(m,a),vr.test(w)?g(m).position()[a]+"px":w})}),g.each({Height:"height",Width:"width"},function(r,a){g.each({padding:"inner"+r,content:a,"":"outer"+r},function(m,w){g.fn[w]=function(L,z){var J=arguments.length&&(m||"boolean"!=typeof L),oe=m||(!0===L||!0===z?"margin":"border");return en(this,function(ne,he,_e){var Ie;return ge(ne)?0===w.indexOf("outer")?ne["inner"+r]:ne.document.documentElement["client"+r]:9===ne.nodeType?(Ie=ne.documentElement,Math.max(ne.body["scroll"+r],Ie["scroll"+r],ne.body["offset"+r],Ie["offset"+r],Ie["client"+r])):void 0===_e?g.css(ne,he,oe):g.style(ne,he,_e,oe)},a,J?L:void 0,J)}})}),g.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(r,a){g.fn[a]=function(m){return this.on(a,m)}}),g.fn.extend({bind:function(r,a,m){return this.on(r,null,a,m)},unbind:function(r,a){return this.off(r,null,a)},delegate:function(r,a,m,w){return this.on(a,r,m,w)},undelegate:function(r,a,m){return 1===arguments.length?this.off(r,"**"):this.off(a,r||"**",m)},hover:function(r,a){return this.mouseenter(r).mouseleave(a||r)}}),g.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(r,a){g.fn[a]=function(m,w){return 0<arguments.length?this.on(a,null,m,w):this.trigger(a)}});var Xs=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;g.proxy=function(r,a){var m,w,L;if("string"==typeof a&&(m=r[a],a=r,r=m),R(r))return w=q.call(arguments,2),(L=function(){return r.apply(a||this,w.concat(q.call(arguments)))}).guid=r.guid=r.guid||g.guid++,L},g.holdReady=function(r){r?g.readyWait++:g.ready(!0)},g.isArray=Array.isArray,g.parseJSON=JSON.parse,g.nodeName=ct,g.isFunction=R,g.isWindow=ge,g.camelCase=ft,g.type=Me,g.now=Date.now,g.isNumeric=function(r){var a=g.type(r);return("number"===a||"string"===a)&&!isNaN(r-parseFloat(r))},g.trim=function(r){return null==r?"":(r+"").replace(Xs,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return g});var Ys=We.jQuery,Nn=We.$;return g.noConflict=function(r){return We.$===g&&(We.$=Nn),r&&We.jQuery===g&&(We.jQuery=Ys),g},typeof Et>"u"&&(We.jQuery=We.$=g),g}),function(We,Et){"object"==typeof exports&&typeof module<"u"?module.exports=Et():"function"==typeof define&&define.amd?define(Et):(We=typeof globalThis<"u"?globalThis:We||self).Swiper=Et()}(this,function(){"use strict";function We(d){return null!==d&&"object"==typeof d&&"constructor"in d&&d.constructor===Object}function Et(d,t){void 0===d&&(d={}),void 0===t&&(t={}),Object.keys(t).forEach(o=>{void 0===d[o]?d[o]=t[o]:We(t[o])&&We(d[o])&&Object.keys(t[o]).length>0&&Et(d[o],t[o])})}const St={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function et(){const d=typeof document<"u"?document:{};return Et(d,St),d}const q={document:St,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:d=>typeof setTimeout>"u"?(d(),null):setTimeout(d,0),cancelAnimationFrame(d){typeof setTimeout<"u"&&clearTimeout(d)}};function H(){const d=typeof window<"u"?window:{};return Et(d,q),d}class p extends Array{constructor(t){"number"==typeof t?super(t):(super(...t||[]),function(o){const h=o.__proto__;Object.defineProperty(o,"__proto__",{get:()=>h,set(P){h.__proto__=P}})}(this))}}function E(d){void 0===d&&(d=[]);const t=[];return d.forEach(o=>{Array.isArray(o)?t.push(...E(o)):t.push(o)}),t}function f(d,t){return Array.prototype.filter.call(d,t)}function b(d,t){const o=H(),h=et();let P=[];if(!t&&d instanceof p)return d;if(!d)return new p(P);if("string"==typeof d){const S=d.trim();if(S.indexOf("<")>=0&&S.indexOf(">")>=0){let A="div";0===S.indexOf("<li")&&(A="ul"),0===S.indexOf("<tr")&&(A="tbody"),0!==S.indexOf("<td")&&0!==S.indexOf("<th")||(A="tr"),0===S.indexOf("<tbody")&&(A="table"),0===S.indexOf("<option")&&(A="select");const $=h.createElement(A);$.innerHTML=S;for(let j=0;j<$.childNodes.length;j+=1)P.push($.childNodes[j])}else P=function(A,$){if("string"!=typeof A)return[A];const j=[],G=$.querySelectorAll(A);for(let V=0;V<G.length;V+=1)j.push(G[V]);return j}(d.trim(),t||h)}else if(d.nodeType||d===o||d===h)P.push(d);else if(Array.isArray(d)){if(d instanceof p)return d;P=d}return new p(function(S){const A=[];for(let $=0;$<S.length;$+=1)-1===A.indexOf(S[$])&&A.push(S[$]);return A}(P))}b.fn=p.prototype;const N={addClass:function(){for(var d=arguments.length,t=new Array(d),o=0;o<d;o++)t[o]=arguments[o];const h=E(t.map(P=>P.split(" ")));return this.forEach(P=>{P.classList.add(...h)}),this},removeClass:function(){for(var d=arguments.length,t=new Array(d),o=0;o<d;o++)t[o]=arguments[o];const h=E(t.map(P=>P.split(" ")));return this.forEach(P=>{P.classList.remove(...h)}),this},hasClass:function(){for(var d=arguments.length,t=new Array(d),o=0;o<d;o++)t[o]=arguments[o];const h=E(t.map(P=>P.split(" ")));return f(this,P=>h.filter(S=>P.classList.contains(S)).length>0).length>0},toggleClass:function(){for(var d=arguments.length,t=new Array(d),o=0;o<d;o++)t[o]=arguments[o];const h=E(t.map(P=>P.split(" ")));this.forEach(P=>{h.forEach(S=>{P.classList.toggle(S)})})},attr:function(d,t){if(1===arguments.length&&"string"==typeof d)return this[0]?this[0].getAttribute(d):void 0;for(let o=0;o<this.length;o+=1)if(2===arguments.length)this[o].setAttribute(d,t);else for(const h in d)this[o][h]=d[h],this[o].setAttribute(h,d[h]);return this},removeAttr:function(d){for(let t=0;t<this.length;t+=1)this[t].removeAttribute(d);return this},transform:function(d){for(let t=0;t<this.length;t+=1)this[t].style.transform=d;return this},transition:function(d){for(let t=0;t<this.length;t+=1)this[t].style.transitionDuration="string"!=typeof d?`${d}ms`:d;return this},on:function(){for(var d=arguments.length,t=new Array(d),o=0;o<d;o++)t[o]=arguments[o];let[h,P,S,A]=t;function $(y){const _=y.target;if(!_)return;const F=y.target.dom7EventData||[];if(F.indexOf(y)<0&&F.unshift(y),b(_).is(P))S.apply(_,F);else{const Q=b(_).parents();for(let Y=0;Y<Q.length;Y+=1)b(Q[Y]).is(P)&&S.apply(Q[Y],F)}}function j(y){const _=y&&y.target&&y.target.dom7EventData||[];_.indexOf(y)<0&&_.unshift(y),S.apply(this,_)}"function"==typeof t[1]&&([h,S,A]=t,P=void 0),A||(A=!1);const G=h.split(" ");let V;for(let y=0;y<this.length;y+=1){const _=this[y];if(P)for(V=0;V<G.length;V+=1){const F=G[V];_.dom7LiveListeners||(_.dom7LiveListeners={}),_.dom7LiveListeners[F]||(_.dom7LiveListeners[F]=[]),_.dom7LiveListeners[F].push({listener:S,proxyListener:$}),_.addEventListener(F,$,A)}else for(V=0;V<G.length;V+=1){const F=G[V];_.dom7Listeners||(_.dom7Listeners={}),_.dom7Listeners[F]||(_.dom7Listeners[F]=[]),_.dom7Listeners[F].push({listener:S,proxyListener:j}),_.addEventListener(F,j,A)}}return this},off:function(){for(var d=arguments.length,t=new Array(d),o=0;o<d;o++)t[o]=arguments[o];let[h,P,S,A]=t;"function"==typeof t[1]&&([h,S,A]=t,P=void 0),A||(A=!1);const $=h.split(" ");for(let j=0;j<$.length;j+=1){const G=$[j];for(let V=0;V<this.length;V+=1){const y=this[V];let _;if(!P&&y.dom7Listeners?_=y.dom7Listeners[G]:P&&y.dom7LiveListeners&&(_=y.dom7LiveListeners[G]),_&&_.length)for(let F=_.length-1;F>=0;F-=1){const Q=_[F];S&&Q.listener===S||S&&Q.listener&&Q.listener.dom7proxy&&Q.listener.dom7proxy===S?(y.removeEventListener(G,Q.proxyListener,A),_.splice(F,1)):S||(y.removeEventListener(G,Q.proxyListener,A),_.splice(F,1))}}}return this},trigger:function(){const d=H();for(var t=arguments.length,o=new Array(t),h=0;h<t;h++)o[h]=arguments[h];const P=o[0].split(" "),S=o[1];for(let A=0;A<P.length;A+=1){const $=P[A];for(let j=0;j<this.length;j+=1){const G=this[j];if(d.CustomEvent){const V=new d.CustomEvent($,{detail:S,bubbles:!0,cancelable:!0});G.dom7EventData=o.filter((y,_)=>_>0),G.dispatchEvent(V),G.dom7EventData=[],delete G.dom7EventData}}}return this},transitionEnd:function(d){const t=this;return d&&t.on("transitionend",function o(h){h.target===this&&(d.call(this,h),t.off("transitionend",o))}),this},outerWidth:function(d){if(this.length>0){if(d){const t=this.styles();return this[0].offsetWidth+parseFloat(t.getPropertyValue("margin-right"))+parseFloat(t.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(d){if(this.length>0){if(d){const t=this.styles();return this[0].offsetHeight+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function(){const d=H();return this[0]?d.getComputedStyle(this[0],null):{}},offset:function(){if(this.length>0){const d=H(),t=et(),o=this[0],h=o.getBoundingClientRect(),P=t.body;return{top:h.top+(o===d?d.scrollY:o.scrollTop)-(o.clientTop||P.clientTop||0),left:h.left+(o===d?d.scrollX:o.scrollLeft)-(o.clientLeft||P.clientLeft||0)}}return null},css:function(d,t){const o=H();let h;if(1===arguments.length){if("string"!=typeof d){for(h=0;h<this.length;h+=1)for(const P in d)this[h].style[P]=d[P];return this}if(this[0])return o.getComputedStyle(this[0],null).getPropertyValue(d)}if(2===arguments.length&&"string"==typeof d){for(h=0;h<this.length;h+=1)this[h].style[d]=t;return this}return this},each:function(d){return d?(this.forEach((t,o)=>{d.apply(t,[t,o])}),this):this},html:function(d){if(void 0===d)return this[0]?this[0].innerHTML:null;for(let t=0;t<this.length;t+=1)this[t].innerHTML=d;return this},text:function(d){if(void 0===d)return this[0]?this[0].textContent.trim():null;for(let t=0;t<this.length;t+=1)this[t].textContent=d;return this},is:function(d){const t=H(),o=et(),h=this[0];let P,S;if(!h||void 0===d)return!1;if("string"==typeof d){if(h.matches)return h.matches(d);if(h.webkitMatchesSelector)return h.webkitMatchesSelector(d);if(h.msMatchesSelector)return h.msMatchesSelector(d);for(P=b(d),S=0;S<P.length;S+=1)if(P[S]===h)return!0;return!1}if(d===o)return h===o;if(d===t)return h===t;if(d.nodeType||d instanceof p){for(P=d.nodeType?[d]:d,S=0;S<P.length;S+=1)if(P[S]===h)return!0;return!1}return!1},index:function(){let d,t=this[0];if(t){for(d=0;null!==(t=t.previousSibling);)1===t.nodeType&&(d+=1);return d}},eq:function(d){if(void 0===d)return this;const t=this.length;if(d>t-1)return b([]);if(d<0){const o=t+d;return b(o<0?[]:[this[o]])}return b([this[d]])},append:function(){let d;const t=et();for(let o=0;o<arguments.length;o+=1){d=o<0||arguments.length<=o?void 0:arguments[o];for(let h=0;h<this.length;h+=1)if("string"==typeof d){const P=t.createElement("div");for(P.innerHTML=d;P.firstChild;)this[h].appendChild(P.firstChild)}else if(d instanceof p)for(let P=0;P<d.length;P+=1)this[h].appendChild(d[P]);else this[h].appendChild(d)}return this},prepend:function(d){const t=et();let o,h;for(o=0;o<this.length;o+=1)if("string"==typeof d){const P=t.createElement("div");for(P.innerHTML=d,h=P.childNodes.length-1;h>=0;h-=1)this[o].insertBefore(P.childNodes[h],this[o].childNodes[0])}else if(d instanceof p)for(h=0;h<d.length;h+=1)this[o].insertBefore(d[h],this[o].childNodes[0]);else this[o].insertBefore(d,this[o].childNodes[0]);return this},next:function(d){return this.length>0?d?this[0].nextElementSibling&&b(this[0].nextElementSibling).is(d)?b([this[0].nextElementSibling]):b([]):b(this[0].nextElementSibling?[this[0].nextElementSibling]:[]):b([])},nextAll:function(d){const t=[];let o=this[0];if(!o)return b([]);for(;o.nextElementSibling;){const h=o.nextElementSibling;d?b(h).is(d)&&t.push(h):t.push(h),o=h}return b(t)},prev:function(d){if(this.length>0){const t=this[0];return d?t.previousElementSibling&&b(t.previousElementSibling).is(d)?b([t.previousElementSibling]):b([]):b(t.previousElementSibling?[t.previousElementSibling]:[])}return b([])},prevAll:function(d){const t=[];let o=this[0];if(!o)return b([]);for(;o.previousElementSibling;){const h=o.previousElementSibling;d?b(h).is(d)&&t.push(h):t.push(h),o=h}return b(t)},parent:function(d){const t=[];for(let o=0;o<this.length;o+=1)null!==this[o].parentNode&&(d?b(this[o].parentNode).is(d)&&t.push(this[o].parentNode):t.push(this[o].parentNode));return b(t)},parents:function(d){const t=[];for(let o=0;o<this.length;o+=1){let h=this[o].parentNode;for(;h;)d?b(h).is(d)&&t.push(h):t.push(h),h=h.parentNode}return b(t)},closest:function(d){let t=this;return void 0===d?b([]):(t.is(d)||(t=t.parents(d).eq(0)),t)},find:function(d){const t=[];for(let o=0;o<this.length;o+=1){const h=this[o].querySelectorAll(d);for(let P=0;P<h.length;P+=1)t.push(h[P])}return b(t)},children:function(d){const t=[];for(let o=0;o<this.length;o+=1){const h=this[o].children;for(let P=0;P<h.length;P+=1)d&&!b(h[P]).is(d)||t.push(h[P])}return b(t)},filter:function(d){return b(f(this,d))},remove:function(){for(let d=0;d<this.length;d+=1)this[d].parentNode&&this[d].parentNode.removeChild(this[d]);return this}};function W(d,t){return void 0===t&&(t=0),setTimeout(d,t)}function v(){return Date.now()}function C(d,t){void 0===t&&(t="x");const o=H();let h,P,S;const A=function($){const j=H();let G;return j.getComputedStyle&&(G=j.getComputedStyle($,null)),!G&&$.currentStyle&&(G=$.currentStyle),G||(G=$.style),G}(d);return o.WebKitCSSMatrix?(P=A.transform||A.webkitTransform,P.split(",").length>6&&(P=P.split(", ").map($=>$.replace(",",".")).join(", ")),S=new o.WebKitCSSMatrix("none"===P?"":P)):(S=A.MozTransform||A.OTransform||A.MsTransform||A.msTransform||A.transform||A.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),h=S.toString().split(",")),"x"===t&&(P=o.WebKitCSSMatrix?S.m41:16===h.length?parseFloat(h[12]):parseFloat(h[4])),"y"===t&&(P=o.WebKitCSSMatrix?S.m42:16===h.length?parseFloat(h[13]):parseFloat(h[5])),P||0}function R(d){return"object"==typeof d&&null!==d&&d.constructor&&"Object"===Object.prototype.toString.call(d).slice(8,-1)}function ge(d){return typeof window<"u"&&void 0!==window.HTMLElement?d instanceof HTMLElement:d&&(1===d.nodeType||11===d.nodeType)}function ee(){const d=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let o=1;o<arguments.length;o+=1){const h=o<0||arguments.length<=o?void 0:arguments[o];if(null!=h&&!ge(h)){const P=Object.keys(Object(h)).filter(S=>t.indexOf(S)<0);for(let S=0,A=P.length;S<A;S+=1){const $=P[S],j=Object.getOwnPropertyDescriptor(h,$);void 0!==j&&j.enumerable&&(R(d[$])&&R(h[$])?h[$].__swiper__?d[$]=h[$]:ee(d[$],h[$]):!R(d[$])&&R(h[$])?(d[$]={},h[$].__swiper__?d[$]=h[$]:ee(d[$],h[$])):d[$]=h[$])}}}return d}function re(d,t,o){d.style.setProperty(t,o)}function pe(d){let{swiper:t,targetPosition:o,side:h}=d;const P=H(),S=-t.translate;let A,$=null;const j=t.params.speed;t.wrapperEl.style.scrollSnapType="none",P.cancelAnimationFrame(t.cssModeFrameID);const G=o>S?"next":"prev",V=(_,F)=>"next"===G&&_>=F||"prev"===G&&_<=F,y=()=>{A=(new Date).getTime(),null===$&&($=A);const _=Math.max(Math.min((A-$)/j,1),0),F=.5-Math.cos(_*Math.PI)/2;let Q=S+F*(o-S);if(V(Q,o)&&(Q=o),t.wrapperEl.scrollTo({[h]:Q}),V(Q,o))return t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[h]:Q})}),void P.cancelAnimationFrame(t.cssModeFrameID);t.cssModeFrameID=P.requestAnimationFrame(y)};y()}let Me,ze,Be;function g(){return Me||(Me=function(){const d=H(),t=et();return{smoothScroll:t.documentElement&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in d||d.DocumentTouch&&t instanceof d.DocumentTouch),passiveListener:function(){let o=!1;try{const h=Object.defineProperty({},"passive",{get(){o=!0}});d.addEventListener("testPassiveListener",null,h)}catch{}return o}(),gestures:"ongesturestart"in d}}()),Me}Object.keys(N).forEach(d=>{Object.defineProperty(b.fn,d,{value:N[d],writable:!0})});var mn={on(d,t,o){const h=this;if(!h.eventsListeners||h.destroyed||"function"!=typeof t)return h;const P=o?"unshift":"push";return d.split(" ").forEach(S=>{h.eventsListeners[S]||(h.eventsListeners[S]=[]),h.eventsListeners[S][P](t)}),h},once(d,t,o){const h=this;if(!h.eventsListeners||h.destroyed||"function"!=typeof t)return h;function P(){h.off(d,P),P.__emitterProxy&&delete P.__emitterProxy;for(var S=arguments.length,A=new Array(S),$=0;$<S;$++)A[$]=arguments[$];t.apply(h,A)}return P.__emitterProxy=t,h.on(d,P,o)},onAny(d,t){const o=this;if(!o.eventsListeners||o.destroyed||"function"!=typeof d)return o;const h=t?"unshift":"push";return o.eventsAnyListeners.indexOf(d)<0&&o.eventsAnyListeners[h](d),o},offAny(d){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsAnyListeners)return t;const o=t.eventsAnyListeners.indexOf(d);return o>=0&&t.eventsAnyListeners.splice(o,1),t},off(d,t){const o=this;return!o.eventsListeners||o.destroyed||o.eventsListeners&&d.split(" ").forEach(h=>{void 0===t?o.eventsListeners[h]=[]:o.eventsListeners[h]&&o.eventsListeners[h].forEach((P,S)=>{(P===t||P.__emitterProxy&&P.__emitterProxy===t)&&o.eventsListeners[h].splice(S,1)})}),o},emit(){const d=this;if(!d.eventsListeners||d.destroyed||!d.eventsListeners)return d;let t,o,h;for(var P=arguments.length,S=new Array(P),A=0;A<P;A++)S[A]=arguments[A];return"string"==typeof S[0]||Array.isArray(S[0])?(t=S[0],o=S.slice(1,S.length),h=d):(t=S[0].events,o=S[0].data,h=S[0].context||d),o.unshift(h),(Array.isArray(t)?t:t.split(" ")).forEach($=>{d.eventsAnyListeners&&d.eventsAnyListeners.length&&d.eventsAnyListeners.forEach(j=>{j.apply(h,[$,...o])}),d.eventsListeners&&d.eventsListeners[$]&&d.eventsListeners[$].forEach(j=>{j.apply(h,o)})}),d}};function st(d){let{swiper:t,runCallbacks:o,direction:h,step:P}=d;const{activeIndex:S,previousIndex:A}=t;let $=h;if($||($=S>A?"next":S<A?"prev":"reset"),t.emit(`transition${P}`),o&&S!==A){if("reset"===$)return void t.emit(`slideResetTransition${P}`);t.emit(`slideChangeTransition${P}`),t.emit("next"===$?`slideNextTransition${P}`:`slidePrevTransition${P}`)}}function Ht(d){const t=this,o=et(),h=H(),P=t.touchEventsData,{params:S,touches:A,enabled:$}=t;if(!$||t.animating&&S.preventInteractionOnTransition)return;!t.animating&&S.cssMode&&S.loop&&t.loopFix();let j=d;j.originalEvent&&(j=j.originalEvent);let G=b(j.target);if("wrapper"===S.touchEventsTarget&&!G.closest(t.wrapperEl).length||(P.isTouchEvent="touchstart"===j.type,!P.isTouchEvent&&"which"in j&&3===j.which)||!P.isTouchEvent&&"button"in j&&j.button>0||P.isTouched&&P.isMoved)return;S.noSwipingClass&&""!==S.noSwipingClass&&j.target&&j.target.shadowRoot&&d.path&&d.path[0]&&(G=b(d.path[0]));const V=S.noSwipingSelector?S.noSwipingSelector:`.${S.noSwipingClass}`;if(S.noSwiping&&(j.target&&j.target.shadowRoot?function(Z,fe){return void 0===fe&&(fe=this),function le(se){if(!se||se===et()||se===H())return null;se.assignedSlot&&(se=se.assignedSlot);const ae=se.closest(Z);return ae||se.getRootNode?ae||le(se.getRootNode().host):null}(fe)}(V,G[0]):G.closest(V)[0]))return void(t.allowClick=!0);if(S.swipeHandler&&!G.closest(S.swipeHandler)[0])return;A.currentX="touchstart"===j.type?j.targetTouches[0].pageX:j.pageX,A.currentY="touchstart"===j.type?j.targetTouches[0].pageY:j.pageY;const _=A.currentX,F=A.currentY,Q=S.edgeSwipeDetection||S.iOSEdgeSwipeDetection,Y=S.edgeSwipeThreshold||S.iOSEdgeSwipeThreshold;if(Q&&(_<=Y||_>=h.innerWidth-Y)){if("prevent"!==Q)return;d.preventDefault()}if(Object.assign(P,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),A.startX=_,A.startY=F,P.touchStartTime=v(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,S.threshold>0&&(P.allowThresholdMove=!1),"touchstart"!==j.type){let Z=!0;G.is(P.focusableElements)&&(Z=!1,"SELECT"===G[0].nodeName&&(P.isTouched=!1)),o.activeElement&&b(o.activeElement).is(P.focusableElements)&&o.activeElement!==G[0]&&o.activeElement.blur();const fe=Z&&t.allowTouchMove&&S.touchStartPreventDefault;!S.touchStartForcePreventDefault&&!fe||G[0].isContentEditable||j.preventDefault()}t.params.freeMode&&t.params.freeMode.enabled&&t.freeMode&&t.animating&&!S.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",j)}function At(d){const t=et(),o=this,h=o.touchEventsData,{params:P,touches:S,rtlTranslate:A,enabled:$}=o;if(!$)return;let j=d;if(j.originalEvent&&(j=j.originalEvent),!h.isTouched)return void(h.startMoving&&h.isScrolling&&o.emit("touchMoveOpposite",j));if(h.isTouchEvent&&"touchmove"!==j.type)return;const G="touchmove"===j.type&&j.targetTouches&&(j.targetTouches[0]||j.changedTouches[0]),V="touchmove"===j.type?G.pageX:j.pageX,y="touchmove"===j.type?G.pageY:j.pageY;if(j.preventedByNestedSwiper)return S.startX=V,void(S.startY=y);if(!o.allowTouchMove)return b(j.target).is(h.focusableElements)||(o.allowClick=!1),void(h.isTouched&&(Object.assign(S,{startX:V,startY:y,currentX:V,currentY:y}),h.touchStartTime=v()));if(h.isTouchEvent&&P.touchReleaseOnEdges&&!P.loop)if(o.isVertical()){if(y<S.startY&&o.translate<=o.maxTranslate()||y>S.startY&&o.translate>=o.minTranslate())return h.isTouched=!1,void(h.isMoved=!1)}else if(V<S.startX&&o.translate<=o.maxTranslate()||V>S.startX&&o.translate>=o.minTranslate())return;if(h.isTouchEvent&&t.activeElement&&j.target===t.activeElement&&b(j.target).is(h.focusableElements))return h.isMoved=!0,void(o.allowClick=!1);if(h.allowTouchCallbacks&&o.emit("touchMove",j),j.targetTouches&&j.targetTouches.length>1)return;S.currentX=V,S.currentY=y;const _=S.currentX-S.startX,F=S.currentY-S.startY;if(o.params.threshold&&Math.sqrt(_**2+F**2)<o.params.threshold)return;if(void 0===h.isScrolling){let fe;o.isHorizontal()&&S.currentY===S.startY||o.isVertical()&&S.currentX===S.startX?h.isScrolling=!1:_*_+F*F>=25&&(fe=180*Math.atan2(Math.abs(F),Math.abs(_))/Math.PI,h.isScrolling=o.isHorizontal()?fe>P.touchAngle:90-fe>P.touchAngle)}if(h.isScrolling&&o.emit("touchMoveOpposite",j),void 0===h.startMoving&&(S.currentX===S.startX&&S.currentY===S.startY||(h.startMoving=!0)),h.isScrolling)return void(h.isTouched=!1);if(!h.startMoving)return;o.allowClick=!1,!P.cssMode&&j.cancelable&&j.preventDefault(),P.touchMoveStopPropagation&&!P.nested&&j.stopPropagation(),h.isMoved||(P.loop&&!P.cssMode&&o.loopFix(),h.startTranslate=o.getTranslate(),o.setTransition(0),o.animating&&o.$wrapperEl.trigger("webkitTransitionEnd transitionend"),h.allowMomentumBounce=!1,!P.grabCursor||!0!==o.allowSlideNext&&!0!==o.allowSlidePrev||o.setGrabCursor(!0),o.emit("sliderFirstMove",j)),o.emit("sliderMove",j),h.isMoved=!0;let Q=o.isHorizontal()?_:F;S.diff=Q,Q*=P.touchRatio,A&&(Q=-Q),o.swipeDirection=Q>0?"prev":"next",h.currentTranslate=Q+h.startTranslate;let Y=!0,Z=P.resistanceRatio;if(P.touchReleaseOnEdges&&(Z=0),Q>0&&h.currentTranslate>o.minTranslate()?(Y=!1,P.resistance&&(h.currentTranslate=o.minTranslate()-1+(-o.minTranslate()+h.startTranslate+Q)**Z)):Q<0&&h.currentTranslate<o.maxTranslate()&&(Y=!1,P.resistance&&(h.currentTranslate=o.maxTranslate()+1-(o.maxTranslate()-h.startTranslate-Q)**Z)),Y&&(j.preventedByNestedSwiper=!0),!o.allowSlideNext&&"next"===o.swipeDirection&&h.currentTranslate<h.startTranslate&&(h.currentTranslate=h.startTranslate),!o.allowSlidePrev&&"prev"===o.swipeDirection&&h.currentTranslate>h.startTranslate&&(h.currentTranslate=h.startTranslate),o.allowSlidePrev||o.allowSlideNext||(h.currentTranslate=h.startTranslate),P.threshold>0){if(!(Math.abs(Q)>P.threshold||h.allowThresholdMove))return void(h.currentTranslate=h.startTranslate);if(!h.allowThresholdMove)return h.allowThresholdMove=!0,S.startX=S.currentX,S.startY=S.currentY,h.currentTranslate=h.startTranslate,void(S.diff=o.isHorizontal()?S.currentX-S.startX:S.currentY-S.startY)}P.followFinger&&!P.cssMode&&((P.freeMode&&P.freeMode.enabled&&o.freeMode||P.watchSlidesProgress)&&(o.updateActiveIndex(),o.updateSlidesClasses()),o.params.freeMode&&P.freeMode.enabled&&o.freeMode&&o.freeMode.onTouchMove(),o.updateProgress(h.currentTranslate),o.setTranslate(h.currentTranslate))}function sn(d){const t=this,o=t.touchEventsData,{params:h,touches:P,rtlTranslate:S,slidesGrid:A,enabled:$}=t;if(!$)return;let j=d;if(j.originalEvent&&(j=j.originalEvent),o.allowTouchCallbacks&&t.emit("touchEnd",j),o.allowTouchCallbacks=!1,!o.isTouched)return o.isMoved&&h.grabCursor&&t.setGrabCursor(!1),o.isMoved=!1,void(o.startMoving=!1);h.grabCursor&&o.isMoved&&o.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);const G=v(),V=G-o.touchStartTime;if(t.allowClick){const le=j.path||j.composedPath&&j.composedPath();t.updateClickedSlide(le&&le[0]||j.target),t.emit("tap click",j),V<300&&G-o.lastClickTime<300&&t.emit("doubleTap doubleClick",j)}if(o.lastClickTime=v(),W(()=>{t.destroyed||(t.allowClick=!0)}),!o.isTouched||!o.isMoved||!t.swipeDirection||0===P.diff||o.currentTranslate===o.startTranslate)return o.isTouched=!1,o.isMoved=!1,void(o.startMoving=!1);let y;if(o.isTouched=!1,o.isMoved=!1,o.startMoving=!1,y=h.followFinger?S?t.translate:-t.translate:-o.currentTranslate,h.cssMode)return;if(t.params.freeMode&&h.freeMode.enabled)return void t.freeMode.onTouchEnd({currentPos:y});let _=0,F=t.slidesSizesGrid[0];for(let le=0;le<A.length;le+=le<h.slidesPerGroupSkip?1:h.slidesPerGroup){const se=le<h.slidesPerGroupSkip-1?1:h.slidesPerGroup;void 0!==A[le+se]?y>=A[le]&&y<A[le+se]&&(_=le,F=A[le+se]-A[le]):y>=A[le]&&(_=le,F=A[A.length-1]-A[A.length-2])}let Q=null,Y=null;h.rewind&&(t.isBeginning?Y=t.params.virtual&&t.params.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(Q=0));const Z=(y-A[_])/F,fe=_<h.slidesPerGroupSkip-1?1:h.slidesPerGroup;if(V>h.longSwipesMs){if(!h.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&t.slideTo(Z>=h.longSwipesRatio?h.rewind&&t.isEnd?Q:_+fe:_),"prev"===t.swipeDirection&&(Z>1-h.longSwipesRatio?t.slideTo(_+fe):null!==Y&&Z<0&&Math.abs(Z)>h.longSwipesRatio?t.slideTo(Y):t.slideTo(_))}else{if(!h.shortSwipes)return void t.slideTo(t.activeIndex);!t.navigation||j.target!==t.navigation.nextEl&&j.target!==t.navigation.prevEl?("next"===t.swipeDirection&&t.slideTo(null!==Q?Q:_+fe),"prev"===t.swipeDirection&&t.slideTo(null!==Y?Y:_)):t.slideTo(j.target===t.navigation.nextEl?_+fe:_)}}function Kt(){const d=this,{params:t,el:o}=d;if(o&&0===o.offsetWidth)return;t.breakpoints&&d.setBreakpoint();const{allowSlideNext:h,allowSlidePrev:P,snapGrid:S}=d;d.allowSlideNext=!0,d.allowSlidePrev=!0,d.updateSize(),d.updateSlides(),d.updateSlidesClasses(),d.slideTo(("auto"===t.slidesPerView||t.slidesPerView>1)&&d.isEnd&&!d.isBeginning&&!d.params.centeredSlides?d.slides.length-1:d.activeIndex,0,!1,!0),d.autoplay&&d.autoplay.running&&d.autoplay.paused&&d.autoplay.run(),d.allowSlidePrev=P,d.allowSlideNext=h,d.params.watchOverflow&&S!==d.snapGrid&&d.checkOverflow()}function $n(d){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&d.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(d.stopPropagation(),d.stopImmediatePropagation())))}function ir(){const d=this,{wrapperEl:t,rtlTranslate:o,enabled:h}=d;if(!h)return;let P;d.previousTranslate=d.translate,d.translate=d.isHorizontal()?-t.scrollLeft:-t.scrollTop,0===d.translate&&(d.translate=0),d.updateActiveIndex(),d.updateSlidesClasses();const S=d.maxTranslate()-d.minTranslate();P=0===S?0:(d.translate-d.minTranslate())/S,P!==d.progress&&d.updateProgress(o?-d.translate:d.translate),d.emit("setTranslate",d.translate,!1)}let cr=!1;function fr(){}const qn=(d,t)=>{const o=et(),{params:h,touchEvents:P,el:S,wrapperEl:A,device:$,support:j}=d,G=!!h.nested,V="on"===t?"addEventListener":"removeEventListener",y=t;if(j.touch){const _=!("touchstart"!==P.start||!j.passiveListener||!h.passiveListeners)&&{passive:!0,capture:!1};S[V](P.start,d.onTouchStart,_),S[V](P.move,d.onTouchMove,j.passiveListener?{passive:!1,capture:G}:G),S[V](P.end,d.onTouchEnd,_),P.cancel&&S[V](P.cancel,d.onTouchEnd,_)}else S[V](P.start,d.onTouchStart,!1),o[V](P.move,d.onTouchMove,G),o[V](P.end,d.onTouchEnd,!1);(h.preventClicks||h.preventClicksPropagation)&&S[V]("click",d.onClick,!0),h.cssMode&&A[V]("scroll",d.onScroll),d[y](h.updateOnWindowResize?$.ios||$.android?"resize orientationchange observerUpdate":"resize observerUpdate":"observerUpdate",Kt,!0)},mr=(d,t)=>d.grid&&t.grid&&t.grid.rows>1;var _r={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function Fn(d,t){return function(o){void 0===o&&(o={});const h=Object.keys(o)[0],P=o[h];"object"==typeof P&&null!==P?(["navigation","pagination","scrollbar"].indexOf(h)>=0&&!0===d[h]&&(d[h]={auto:!0}),h in d&&"enabled"in P&&(!0===d[h]&&(d[h]={enabled:!0}),"object"!=typeof d[h]||"enabled"in d[h]||(d[h].enabled=!0),d[h]||(d[h]={enabled:!1})),ee(t,o)):ee(t,o)}}const Jn={eventsEmitter:mn,update:{updateSize:function(){const d=this;let t,o;const h=d.$el;t=null!=d.params.width?d.params.width:h[0].clientWidth,o=null!=d.params.height?d.params.height:h[0].clientHeight,0===t&&d.isHorizontal()||0===o&&d.isVertical()||(t=t-parseInt(h.css("padding-left")||0,10)-parseInt(h.css("padding-right")||0,10),o=o-parseInt(h.css("padding-top")||0,10)-parseInt(h.css("padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(o)&&(o=0),Object.assign(d,{width:t,height:o,size:d.isHorizontal()?t:o}))},updateSlides:function(){const d=this;function t(we){return d.isHorizontal()?we:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[we]}function o(we,Pe){return parseFloat(we.getPropertyValue(t(Pe))||0)}const h=d.params,{$wrapperEl:P,size:S,rtlTranslate:A,wrongRTL:$}=d,j=d.virtual&&h.virtual.enabled,G=j?d.virtual.slides.length:d.slides.length,V=P.children(`.${d.params.slideClass}`),y=j?d.virtual.slides.length:V.length;let _=[];const F=[],Q=[];let Y=h.slidesOffsetBefore;"function"==typeof Y&&(Y=h.slidesOffsetBefore.call(d));let Z=h.slidesOffsetAfter;"function"==typeof Z&&(Z=h.slidesOffsetAfter.call(d));const fe=d.snapGrid.length,le=d.slidesGrid.length;let se=h.spaceBetween,ae=-Y,ve=0,Le=0;if(void 0===S)return;"string"==typeof se&&se.indexOf("%")>=0&&(se=parseFloat(se.replace("%",""))/100*S),d.virtualSize=-se,V.css(A?{marginLeft:"",marginBottom:"",marginTop:""}:{marginRight:"",marginBottom:"",marginTop:""}),h.centeredSlides&&h.cssMode&&(re(d.wrapperEl,"--swiper-centered-offset-before",""),re(d.wrapperEl,"--swiper-centered-offset-after",""));const Je=h.grid&&h.grid.rows>1&&d.grid;let Oe;Je&&d.grid.initSlides(y);const Ye="auto"===h.slidesPerView&&h.breakpoints&&Object.keys(h.breakpoints).filter(we=>void 0!==h.breakpoints[we].slidesPerView).length>0;for(let we=0;we<y;we+=1){Oe=0;const Pe=V.eq(we);if(Je&&d.grid.updateSlide(we,Pe,y,t),"none"!==Pe.css("display")){if("auto"===h.slidesPerView){Ye&&(V[we].style[t("width")]="");const je=getComputedStyle(Pe[0]),qe=Pe[0].style.transform,Nt=Pe[0].style.webkitTransform;if(qe&&(Pe[0].style.transform="none"),Nt&&(Pe[0].style.webkitTransform="none"),h.roundLengths)Oe=d.isHorizontal()?Pe.outerWidth(!0):Pe.outerHeight(!0);else{const He=o(je,"width"),Tt=o(je,"padding-left"),mt=o(je,"padding-right"),Lt=o(je,"margin-left"),Vt=o(je,"margin-right"),$r=je.getPropertyValue("box-sizing");if($r&&"border-box"===$r)Oe=He+Lt+Vt;else{const{clientWidth:vr,offsetWidth:Br}=Pe[0];Oe=He+Tt+mt+Lt+Vt+(Br-vr)}}qe&&(Pe[0].style.transform=qe),Nt&&(Pe[0].style.webkitTransform=Nt),h.roundLengths&&(Oe=Math.floor(Oe))}else Oe=(S-(h.slidesPerView-1)*se)/h.slidesPerView,h.roundLengths&&(Oe=Math.floor(Oe)),V[we]&&(V[we].style[t("width")]=`${Oe}px`);V[we]&&(V[we].swiperSlideSize=Oe),Q.push(Oe),h.centeredSlides?(ae=ae+Oe/2+ve/2+se,0===ve&&0!==we&&(ae=ae-S/2-se),0===we&&(ae=ae-S/2-se),Math.abs(ae)<.001&&(ae=0),h.roundLengths&&(ae=Math.floor(ae)),Le%h.slidesPerGroup==0&&_.push(ae),F.push(ae)):(h.roundLengths&&(ae=Math.floor(ae)),(Le-Math.min(d.params.slidesPerGroupSkip,Le))%d.params.slidesPerGroup==0&&_.push(ae),F.push(ae),ae=ae+Oe+se),d.virtualSize+=Oe+se,ve=Oe,Le+=1}}if(d.virtualSize=Math.max(d.virtualSize,S)+Z,A&&$&&("slide"===h.effect||"coverflow"===h.effect)&&P.css({width:`${d.virtualSize+h.spaceBetween}px`}),h.setWrapperSize&&P.css({[t("width")]:`${d.virtualSize+h.spaceBetween}px`}),Je&&d.grid.updateWrapperSize(Oe,_,t),!h.centeredSlides){const we=[];for(let Pe=0;Pe<_.length;Pe+=1){let je=_[Pe];h.roundLengths&&(je=Math.floor(je)),_[Pe]<=d.virtualSize-S&&we.push(je)}_=we,Math.floor(d.virtualSize-S)-Math.floor(_[_.length-1])>1&&_.push(d.virtualSize-S)}if(0===_.length&&(_=[0]),0!==h.spaceBetween){const we=d.isHorizontal()&&A?"marginLeft":t("marginRight");V.filter((Pe,je)=>!h.cssMode||je!==V.length-1).css({[we]:`${se}px`})}if(h.centeredSlides&&h.centeredSlidesBounds){let we=0;Q.forEach(je=>{we+=je+(h.spaceBetween?h.spaceBetween:0)}),we-=h.spaceBetween;const Pe=we-S;_=_.map(je=>je<0?-Y:je>Pe?Pe+Z:je)}if(h.centerInsufficientSlides){let we=0;if(Q.forEach(Pe=>{we+=Pe+(h.spaceBetween?h.spaceBetween:0)}),we-=h.spaceBetween,we<S){const Pe=(S-we)/2;_.forEach((je,qe)=>{_[qe]=je-Pe}),F.forEach((je,qe)=>{F[qe]=je+Pe})}}if(Object.assign(d,{slides:V,snapGrid:_,slidesGrid:F,slidesSizesGrid:Q}),h.centeredSlides&&h.cssMode&&!h.centeredSlidesBounds){re(d.wrapperEl,"--swiper-centered-offset-before",-_[0]+"px"),re(d.wrapperEl,"--swiper-centered-offset-after",d.size/2-Q[Q.length-1]/2+"px");const we=-d.snapGrid[0],Pe=-d.slidesGrid[0];d.snapGrid=d.snapGrid.map(je=>je+we),d.slidesGrid=d.slidesGrid.map(je=>je+Pe)}if(y!==G&&d.emit("slidesLengthChange"),_.length!==fe&&(d.params.watchOverflow&&d.checkOverflow(),d.emit("snapGridLengthChange")),F.length!==le&&d.emit("slidesGridLengthChange"),h.watchSlidesProgress&&d.updateSlidesOffset(),!(j||h.cssMode||"slide"!==h.effect&&"fade"!==h.effect)){const we=`${h.containerModifierClass}backface-hidden`,Pe=d.$el.hasClass(we);y<=h.maxBackfaceHiddenSlides?Pe||d.$el.addClass(we):Pe&&d.$el.removeClass(we)}},updateAutoHeight:function(d){const t=this,o=[],h=t.virtual&&t.params.virtual.enabled;let P,S=0;"number"==typeof d?t.setTransition(d):!0===d&&t.setTransition(t.params.speed);const A=$=>h?t.slides.filter(j=>parseInt(j.getAttribute("data-swiper-slide-index"),10)===$)[0]:t.slides.eq($)[0];if("auto"!==t.params.slidesPerView&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||b([])).each($=>{o.push($)});else for(P=0;P<Math.ceil(t.params.slidesPerView);P+=1){const $=t.activeIndex+P;if($>t.slides.length&&!h)break;o.push(A($))}else o.push(A(t.activeIndex));for(P=0;P<o.length;P+=1)if(void 0!==o[P]){const $=o[P].offsetHeight;S=$>S?$:S}(S||0===S)&&t.$wrapperEl.css("height",`${S}px`)},updateSlidesOffset:function(){const d=this,t=d.slides;for(let o=0;o<t.length;o+=1)t[o].swiperSlideOffset=d.isHorizontal()?t[o].offsetLeft:t[o].offsetTop},updateSlidesProgress:function(d){void 0===d&&(d=this&&this.translate||0);const t=this,o=t.params,{slides:h,rtlTranslate:P,snapGrid:S}=t;if(0===h.length)return;void 0===h[0].swiperSlideOffset&&t.updateSlidesOffset();let A=-d;P&&(A=d),h.removeClass(o.slideVisibleClass),t.visibleSlidesIndexes=[],t.visibleSlides=[];for(let $=0;$<h.length;$+=1){const j=h[$];let G=j.swiperSlideOffset;o.cssMode&&o.centeredSlides&&(G-=h[0].swiperSlideOffset);const V=(A+(o.centeredSlides?t.minTranslate():0)-G)/(j.swiperSlideSize+o.spaceBetween),y=(A-S[0]+(o.centeredSlides?t.minTranslate():0)-G)/(j.swiperSlideSize+o.spaceBetween),_=-(A-G),F=_+t.slidesSizesGrid[$];(_>=0&&_<t.size-1||F>1&&F<=t.size||_<=0&&F>=t.size)&&(t.visibleSlides.push(j),t.visibleSlidesIndexes.push($),h.eq($).addClass(o.slideVisibleClass)),j.progress=P?-V:V,j.originalProgress=P?-y:y}t.visibleSlides=b(t.visibleSlides)},updateProgress:function(d){const t=this;if(void 0===d){const G=t.rtlTranslate?-1:1;d=t&&t.translate&&t.translate*G||0}const o=t.params,h=t.maxTranslate()-t.minTranslate();let{progress:P,isBeginning:S,isEnd:A}=t;const $=S,j=A;0===h?(P=0,S=!0,A=!0):(P=(d-t.minTranslate())/h,S=P<=0,A=P>=1),Object.assign(t,{progress:P,isBeginning:S,isEnd:A}),(o.watchSlidesProgress||o.centeredSlides&&o.autoHeight)&&t.updateSlidesProgress(d),S&&!$&&t.emit("reachBeginning toEdge"),A&&!j&&t.emit("reachEnd toEdge"),($&&!S||j&&!A)&&t.emit("fromEdge"),t.emit("progress",P)},updateSlidesClasses:function(){const d=this,{slides:t,params:o,$wrapperEl:h,activeIndex:P,realIndex:S}=d,A=d.virtual&&o.virtual.enabled;let $;t.removeClass(`${o.slideActiveClass} ${o.slideNextClass} ${o.slidePrevClass} ${o.slideDuplicateActiveClass} ${o.slideDuplicateNextClass} ${o.slideDuplicatePrevClass}`),$=A?d.$wrapperEl.find(`.${o.slideClass}[data-swiper-slide-index="${P}"]`):t.eq(P),$.addClass(o.slideActiveClass),o.loop&&($.hasClass(o.slideDuplicateClass)?h.children(`.${o.slideClass}:not(.${o.slideDuplicateClass})[data-swiper-slide-index="${S}"]`).addClass(o.slideDuplicateActiveClass):h.children(`.${o.slideClass}.${o.slideDuplicateClass}[data-swiper-slide-index="${S}"]`).addClass(o.slideDuplicateActiveClass));let j=$.nextAll(`.${o.slideClass}`).eq(0).addClass(o.slideNextClass);o.loop&&0===j.length&&(j=t.eq(0),j.addClass(o.slideNextClass));let G=$.prevAll(`.${o.slideClass}`).eq(0).addClass(o.slidePrevClass);o.loop&&0===G.length&&(G=t.eq(-1),G.addClass(o.slidePrevClass)),o.loop&&(j.hasClass(o.slideDuplicateClass)?h.children(`.${o.slideClass}:not(.${o.slideDuplicateClass})[data-swiper-slide-index="${j.attr("data-swiper-slide-index")}"]`).addClass(o.slideDuplicateNextClass):h.children(`.${o.slideClass}.${o.slideDuplicateClass}[data-swiper-slide-index="${j.attr("data-swiper-slide-index")}"]`).addClass(o.slideDuplicateNextClass),G.hasClass(o.slideDuplicateClass)?h.children(`.${o.slideClass}:not(.${o.slideDuplicateClass})[data-swiper-slide-index="${G.attr("data-swiper-slide-index")}"]`).addClass(o.slideDuplicatePrevClass):h.children(`.${o.slideClass}.${o.slideDuplicateClass}[data-swiper-slide-index="${G.attr("data-swiper-slide-index")}"]`).addClass(o.slideDuplicatePrevClass)),d.emitSlidesClasses()},updateActiveIndex:function(d){const t=this,o=t.rtlTranslate?t.translate:-t.translate,{slidesGrid:h,snapGrid:P,params:S,activeIndex:A,realIndex:$,snapIndex:j}=t;let G,V=d;if(void 0===V){for(let _=0;_<h.length;_+=1)void 0!==h[_+1]?o>=h[_]&&o<h[_+1]-(h[_+1]-h[_])/2?V=_:o>=h[_]&&o<h[_+1]&&(V=_+1):o>=h[_]&&(V=_);S.normalizeSlideIndex&&(V<0||void 0===V)&&(V=0)}if(P.indexOf(o)>=0)G=P.indexOf(o);else{const _=Math.min(S.slidesPerGroupSkip,V);G=_+Math.floor((V-_)/S.slidesPerGroup)}if(G>=P.length&&(G=P.length-1),V===A)return void(G!==j&&(t.snapIndex=G,t.emit("snapIndexChange")));const y=parseInt(t.slides.eq(V).attr("data-swiper-slide-index")||V,10);Object.assign(t,{snapIndex:G,realIndex:y,previousIndex:A,activeIndex:V}),t.emit("activeIndexChange"),t.emit("snapIndexChange"),$!==y&&t.emit("realIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&t.emit("slideChange")},updateClickedSlide:function(d){const t=this,o=t.params,h=b(d).closest(`.${o.slideClass}`)[0];let P,S=!1;if(h)for(let A=0;A<t.slides.length;A+=1)if(t.slides[A]===h){S=!0,P=A;break}if(!h||!S)return t.clickedSlide=void 0,void(t.clickedIndex=void 0);t.clickedSlide=h,t.clickedIndex=t.virtual&&t.params.virtual.enabled?parseInt(b(h).attr("data-swiper-slide-index"),10):P,o.slideToClickedSlide&&void 0!==t.clickedIndex&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}},translate:{getTranslate:function(d){void 0===d&&(d=this.isHorizontal()?"x":"y");const{params:t,rtlTranslate:o,translate:h,$wrapperEl:P}=this;if(t.virtualTranslate)return o?-h:h;if(t.cssMode)return h;let S=C(P[0],d);return o&&(S=-S),S||0},setTranslate:function(d,t){const o=this,{rtlTranslate:h,params:P,$wrapperEl:S,wrapperEl:A,progress:$}=o;let j,G=0,V=0;o.isHorizontal()?G=h?-d:d:V=d,P.roundLengths&&(G=Math.floor(G),V=Math.floor(V)),P.cssMode?A[o.isHorizontal()?"scrollLeft":"scrollTop"]=o.isHorizontal()?-G:-V:P.virtualTranslate||S.transform(`translate3d(${G}px, ${V}px, 0px)`),o.previousTranslate=o.translate,o.translate=o.isHorizontal()?G:V;const y=o.maxTranslate()-o.minTranslate();j=0===y?0:(d-o.minTranslate())/y,j!==$&&o.updateProgress(d),o.emit("setTranslate",o.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(d,t,o,h,P){void 0===d&&(d=0),void 0===t&&(t=this.params.speed),void 0===o&&(o=!0),void 0===h&&(h=!0);const S=this,{params:A,wrapperEl:$}=S;if(S.animating&&A.preventInteractionOnTransition)return!1;const j=S.minTranslate(),G=S.maxTranslate();let V;if(V=h&&d>j?j:h&&d<G?G:d,S.updateProgress(V),A.cssMode){const y=S.isHorizontal();if(0===t)$[y?"scrollLeft":"scrollTop"]=-V;else{if(!S.support.smoothScroll)return pe({swiper:S,targetPosition:-V,side:y?"left":"top"}),!0;$.scrollTo({[y?"left":"top"]:-V,behavior:"smooth"})}return!0}return 0===t?(S.setTransition(0),S.setTranslate(V),o&&(S.emit("beforeTransitionStart",t,P),S.emit("transitionEnd"))):(S.setTransition(t),S.setTranslate(V),o&&(S.emit("beforeTransitionStart",t,P),S.emit("transitionStart")),S.animating||(S.animating=!0,S.onTranslateToWrapperTransitionEnd||(S.onTranslateToWrapperTransitionEnd=function(y){S&&!S.destroyed&&y.target===this&&(S.$wrapperEl[0].removeEventListener("transitionend",S.onTranslateToWrapperTransitionEnd),S.$wrapperEl[0].removeEventListener("webkitTransitionEnd",S.onTranslateToWrapperTransitionEnd),S.onTranslateToWrapperTransitionEnd=null,delete S.onTranslateToWrapperTransitionEnd,o&&S.emit("transitionEnd"))}),S.$wrapperEl[0].addEventListener("transitionend",S.onTranslateToWrapperTransitionEnd),S.$wrapperEl[0].addEventListener("webkitTransitionEnd",S.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function(d,t){const o=this;o.params.cssMode||o.$wrapperEl.transition(d),o.emit("setTransition",d,t)},transitionStart:function(d,t){void 0===d&&(d=!0);const o=this,{params:h}=o;h.cssMode||(h.autoHeight&&o.updateAutoHeight(),st({swiper:o,runCallbacks:d,direction:t,step:"Start"}))},transitionEnd:function(d,t){void 0===d&&(d=!0);const o=this,{params:h}=o;o.animating=!1,h.cssMode||(o.setTransition(0),st({swiper:o,runCallbacks:d,direction:t,step:"End"}))}},slide:{slideTo:function(d,t,o,h,P){if(void 0===d&&(d=0),void 0===t&&(t=this.params.speed),void 0===o&&(o=!0),"number"!=typeof d&&"string"!=typeof d)throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof d}] given.`);if("string"==typeof d){const se=parseInt(d,10);if(!isFinite(se))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${d}] given.`);d=se}const S=this;let A=d;A<0&&(A=0);const{params:$,snapGrid:j,slidesGrid:G,previousIndex:V,activeIndex:y,rtlTranslate:_,wrapperEl:F,enabled:Q}=S;if(S.animating&&$.preventInteractionOnTransition||!Q&&!h&&!P)return!1;const Y=Math.min(S.params.slidesPerGroupSkip,A);let Z=Y+Math.floor((A-Y)/S.params.slidesPerGroup);Z>=j.length&&(Z=j.length-1),(y||$.initialSlide||0)===(V||0)&&o&&S.emit("beforeSlideChangeStart");const fe=-j[Z];if(S.updateProgress(fe),$.normalizeSlideIndex)for(let se=0;se<G.length;se+=1){const ae=-Math.floor(100*fe),ve=Math.floor(100*G[se]),Le=Math.floor(100*G[se+1]);void 0!==G[se+1]?ae>=ve&&ae<Le-(Le-ve)/2?A=se:ae>=ve&&ae<Le&&(A=se+1):ae>=ve&&(A=se)}if(S.initialized&&A!==y&&(!S.allowSlideNext&&fe<S.translate&&fe<S.minTranslate()||!S.allowSlidePrev&&fe>S.translate&&fe>S.maxTranslate()&&(y||0)!==A))return!1;let le;if(le=A>y?"next":A<y?"prev":"reset",_&&-fe===S.translate||!_&&fe===S.translate)return S.updateActiveIndex(A),$.autoHeight&&S.updateAutoHeight(),S.updateSlidesClasses(),"slide"!==$.effect&&S.setTranslate(fe),"reset"!==le&&(S.transitionStart(o,le),S.transitionEnd(o,le)),!1;if($.cssMode){const se=S.isHorizontal(),ae=_?fe:-fe;if(0===t){const ve=S.virtual&&S.params.virtual.enabled;ve&&(S.wrapperEl.style.scrollSnapType="none",S._immediateVirtual=!0),F[se?"scrollLeft":"scrollTop"]=ae,ve&&requestAnimationFrame(()=>{S.wrapperEl.style.scrollSnapType="",S._swiperImmediateVirtual=!1})}else{if(!S.support.smoothScroll)return pe({swiper:S,targetPosition:ae,side:se?"left":"top"}),!0;F.scrollTo({[se?"left":"top"]:ae,behavior:"smooth"})}return!0}return S.setTransition(t),S.setTranslate(fe),S.updateActiveIndex(A),S.updateSlidesClasses(),S.emit("beforeTransitionStart",t,h),S.transitionStart(o,le),0===t?S.transitionEnd(o,le):S.animating||(S.animating=!0,S.onSlideToWrapperTransitionEnd||(S.onSlideToWrapperTransitionEnd=function(se){S&&!S.destroyed&&se.target===this&&(S.$wrapperEl[0].removeEventListener("transitionend",S.onSlideToWrapperTransitionEnd),S.$wrapperEl[0].removeEventListener("webkitTransitionEnd",S.onSlideToWrapperTransitionEnd),S.onSlideToWrapperTransitionEnd=null,delete S.onSlideToWrapperTransitionEnd,S.transitionEnd(o,le))}),S.$wrapperEl[0].addEventListener("transitionend",S.onSlideToWrapperTransitionEnd),S.$wrapperEl[0].addEventListener("webkitTransitionEnd",S.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(d,t,o,h){if(void 0===d&&(d=0),void 0===t&&(t=this.params.speed),void 0===o&&(o=!0),"string"==typeof d){const A=parseInt(d,10);if(!isFinite(A))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${d}] given.`);d=A}const P=this;let S=d;return P.params.loop&&(S+=P.loopedSlides),P.slideTo(S,t,o,h)},slideNext:function(d,t,o){void 0===d&&(d=this.params.speed),void 0===t&&(t=!0);const h=this,{animating:P,enabled:S,params:A}=h;if(!S)return h;let $=A.slidesPerGroup;"auto"===A.slidesPerView&&1===A.slidesPerGroup&&A.slidesPerGroupAuto&&($=Math.max(h.slidesPerViewDynamic("current",!0),1));const j=h.activeIndex<A.slidesPerGroupSkip?1:$;if(A.loop){if(P&&A.loopPreventsSlide)return!1;h.loopFix(),h._clientLeft=h.$wrapperEl[0].clientLeft}return h.slideTo(A.rewind&&h.isEnd?0:h.activeIndex+j,d,t,o)},slidePrev:function(d,t,o){void 0===d&&(d=this.params.speed),void 0===t&&(t=!0);const h=this,{params:P,animating:S,snapGrid:A,slidesGrid:$,rtlTranslate:j,enabled:G}=h;if(!G)return h;if(P.loop){if(S&&P.loopPreventsSlide)return!1;h.loopFix(),h._clientLeft=h.$wrapperEl[0].clientLeft}function V(Y){return Y<0?-Math.floor(Math.abs(Y)):Math.floor(Y)}const y=V(j?h.translate:-h.translate),_=A.map(Y=>V(Y));let F=A[_.indexOf(y)-1];if(void 0===F&&P.cssMode){let Y;A.forEach((Z,fe)=>{y>=Z&&(Y=fe)}),void 0!==Y&&(F=A[Y>0?Y-1:Y])}let Q=0;return void 0!==F&&(Q=$.indexOf(F),Q<0&&(Q=h.activeIndex-1),"auto"===P.slidesPerView&&1===P.slidesPerGroup&&P.slidesPerGroupAuto&&(Q=Q-h.slidesPerViewDynamic("previous",!0)+1,Q=Math.max(Q,0))),h.slideTo(P.rewind&&h.isBeginning?h.params.virtual&&h.params.virtual.enabled&&h.virtual?h.virtual.slides.length-1:h.slides.length-1:Q,d,t,o)},slideReset:function(d,t,o){return void 0===d&&(d=this.params.speed),void 0===t&&(t=!0),this.slideTo(this.activeIndex,d,t,o)},slideToClosest:function(d,t,o,h){void 0===d&&(d=this.params.speed),void 0===t&&(t=!0),void 0===h&&(h=.5);const P=this;let S=P.activeIndex;const A=Math.min(P.params.slidesPerGroupSkip,S),$=A+Math.floor((S-A)/P.params.slidesPerGroup),j=P.rtlTranslate?P.translate:-P.translate;if(j>=P.snapGrid[$]){const G=P.snapGrid[$];j-G>(P.snapGrid[$+1]-G)*h&&(S+=P.params.slidesPerGroup)}else{const G=P.snapGrid[$-1];j-G<=(P.snapGrid[$]-G)*h&&(S-=P.params.slidesPerGroup)}return S=Math.max(S,0),S=Math.min(S,P.slidesGrid.length-1),P.slideTo(S,d,t,o)},slideToClickedSlide:function(){const d=this,{params:t,$wrapperEl:o}=d,h="auto"===t.slidesPerView?d.slidesPerViewDynamic():t.slidesPerView;let P,S=d.clickedIndex;if(t.loop){if(d.animating)return;P=parseInt(b(d.clickedSlide).attr("data-swiper-slide-index"),10),t.centeredSlides?S<d.loopedSlides-h/2||S>d.slides.length-d.loopedSlides+h/2?(d.loopFix(),S=o.children(`.${t.slideClass}[data-swiper-slide-index="${P}"]:not(.${t.slideDuplicateClass})`).eq(0).index(),W(()=>{d.slideTo(S)})):d.slideTo(S):S>d.slides.length-h?(d.loopFix(),S=o.children(`.${t.slideClass}[data-swiper-slide-index="${P}"]:not(.${t.slideDuplicateClass})`).eq(0).index(),W(()=>{d.slideTo(S)})):d.slideTo(S)}else d.slideTo(S)}},loop:{loopCreate:function(){const d=this,t=et(),{params:o,$wrapperEl:h}=d,P=h.children().length>0?b(h.children()[0].parentNode):h;P.children(`.${o.slideClass}.${o.slideDuplicateClass}`).remove();let S=P.children(`.${o.slideClass}`);if(o.loopFillGroupWithBlank){const j=o.slidesPerGroup-S.length%o.slidesPerGroup;if(j!==o.slidesPerGroup){for(let G=0;G<j;G+=1){const V=b(t.createElement("div")).addClass(`${o.slideClass} ${o.slideBlankClass}`);P.append(V)}S=P.children(`.${o.slideClass}`)}}"auto"!==o.slidesPerView||o.loopedSlides||(o.loopedSlides=S.length),d.loopedSlides=Math.ceil(parseFloat(o.loopedSlides||o.slidesPerView,10)),d.loopedSlides+=o.loopAdditionalSlides,d.loopedSlides>S.length&&(d.loopedSlides=S.length);const A=[],$=[];S.each((j,G)=>{const V=b(j);G<d.loopedSlides&&$.push(j),G<S.length&&G>=S.length-d.loopedSlides&&A.push(j),V.attr("data-swiper-slide-index",G)});for(let j=0;j<$.length;j+=1)P.append(b($[j].cloneNode(!0)).addClass(o.slideDuplicateClass));for(let j=A.length-1;j>=0;j-=1)P.prepend(b(A[j].cloneNode(!0)).addClass(o.slideDuplicateClass))},loopFix:function(){const d=this;d.emit("beforeLoopFix");const{activeIndex:t,slides:o,loopedSlides:h,allowSlidePrev:P,allowSlideNext:S,snapGrid:A,rtlTranslate:$}=d;let j;d.allowSlidePrev=!0,d.allowSlideNext=!0;const G=-A[t]-d.getTranslate();t<h?(j=o.length-3*h+t,j+=h,d.slideTo(j,0,!1,!0)&&0!==G&&d.setTranslate(($?-d.translate:d.translate)-G)):t>=o.length-h&&(j=-o.length+t+h,j+=h,d.slideTo(j,0,!1,!0)&&0!==G&&d.setTranslate(($?-d.translate:d.translate)-G)),d.allowSlidePrev=P,d.allowSlideNext=S,d.emit("loopFix")},loopDestroy:function(){const{$wrapperEl:d,params:t,slides:o}=this;d.children(`.${t.slideClass}.${t.slideDuplicateClass},.${t.slideClass}.${t.slideBlankClass}`).remove(),o.removeAttr("data-swiper-slide-index")}},grabCursor:{setGrabCursor:function(d){const t=this;if(t.support.touch||!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const o="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;o.style.cursor="move",o.style.cursor=d?"grabbing":"grab"},unsetGrabCursor:function(){const d=this;d.support.touch||d.params.watchOverflow&&d.isLocked||d.params.cssMode||(d["container"===d.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="")}},events:{attachEvents:function(){const d=this,t=et(),{params:o,support:h}=d;d.onTouchStart=Ht.bind(d),d.onTouchMove=At.bind(d),d.onTouchEnd=sn.bind(d),o.cssMode&&(d.onScroll=ir.bind(d)),d.onClick=$n.bind(d),h.touch&&!cr&&(t.addEventListener("touchstart",fr),cr=!0),qn(d,"on")},detachEvents:function(){qn(this,"off")}},breakpoints:{setBreakpoint:function(){const d=this,{activeIndex:t,initialized:o,loopedSlides:h=0,params:P,$el:S}=d,A=P.breakpoints;if(!A||A&&0===Object.keys(A).length)return;const $=d.getBreakpoint(A,d.params.breakpointsBase,d.el);if(!$||d.currentBreakpoint===$)return;const j=($ in A?A[$]:void 0)||d.originalParams,G=mr(d,P),V=mr(d,j),y=P.enabled;G&&!V?(S.removeClass(`${P.containerModifierClass}grid ${P.containerModifierClass}grid-column`),d.emitContainerClasses()):!G&&V&&(S.addClass(`${P.containerModifierClass}grid`),(j.grid.fill&&"column"===j.grid.fill||!j.grid.fill&&"column"===P.grid.fill)&&S.addClass(`${P.containerModifierClass}grid-column`),d.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(Y=>{const Z=P[Y]&&P[Y].enabled,fe=j[Y]&&j[Y].enabled;Z&&!fe&&d[Y].disable(),!Z&&fe&&d[Y].enable()});const _=j.direction&&j.direction!==P.direction,F=P.loop&&(j.slidesPerView!==P.slidesPerView||_);_&&o&&d.changeDirection(),ee(d.params,j);const Q=d.params.enabled;Object.assign(d,{allowTouchMove:d.params.allowTouchMove,allowSlideNext:d.params.allowSlideNext,allowSlidePrev:d.params.allowSlidePrev}),y&&!Q?d.disable():!y&&Q&&d.enable(),d.currentBreakpoint=$,d.emit("_beforeBreakpoint",j),F&&o&&(d.loopDestroy(),d.loopCreate(),d.updateSlides(),d.slideTo(t-h+d.loopedSlides,0,!1)),d.emit("breakpoint",j)},getBreakpoint:function(d,t,o){if(void 0===t&&(t="window"),!d||"container"===t&&!o)return;let h=!1;const P=H(),S="window"===t?P.innerHeight:o.clientHeight,A=Object.keys(d).map($=>{if("string"==typeof $&&0===$.indexOf("@")){const j=parseFloat($.substr(1));return{value:S*j,point:$}}return{value:$,point:$}});A.sort(($,j)=>parseInt($.value,10)-parseInt(j.value,10));for(let $=0;$<A.length;$+=1){const{point:j,value:G}=A[$];"window"===t?P.matchMedia(`(min-width: ${G}px)`).matches&&(h=j):G<=o.clientWidth&&(h=j)}return h||"max"}},checkOverflow:{checkOverflow:function(){const d=this,{isLocked:t,params:o}=d,{slidesOffsetBefore:h}=o;if(h){const P=d.slides.length-1;d.isLocked=d.size>d.slidesGrid[P]+d.slidesSizesGrid[P]+2*h}else d.isLocked=1===d.snapGrid.length;!0===o.allowSlideNext&&(d.allowSlideNext=!d.isLocked),!0===o.allowSlidePrev&&(d.allowSlidePrev=!d.isLocked),t&&t!==d.isLocked&&(d.isEnd=!1),t!==d.isLocked&&d.emit(d.isLocked?"lock":"unlock")}},classes:{addClasses:function(){const d=this,{classNames:t,params:o,rtl:h,$el:P,device:S,support:A}=d,$=function(j,G){const V=[];return j.forEach(y=>{"object"==typeof y?Object.keys(y).forEach(_=>{y[_]&&V.push(G+_)}):"string"==typeof y&&V.push(G+y)}),V}(["initialized",o.direction,{"pointer-events":!A.touch},{"free-mode":d.params.freeMode&&o.freeMode.enabled},{autoheight:o.autoHeight},{rtl:h},{grid:o.grid&&o.grid.rows>1},{"grid-column":o.grid&&o.grid.rows>1&&"column"===o.grid.fill},{android:S.android},{ios:S.ios},{"css-mode":o.cssMode},{centered:o.cssMode&&o.centeredSlides},{"watch-progress":o.watchSlidesProgress}],o.containerModifierClass);t.push(...$),P.addClass([...t].join(" ")),d.emitContainerClasses()},removeClasses:function(){const{$el:d,classNames:t}=this;d.removeClass(t.join(" ")),this.emitContainerClasses()}},images:{loadImage:function(d,t,o,h,P,S){const A=H();let $;function j(){S&&S()}b(d).parent("picture")[0]||d.complete&&P?j():t?($=new A.Image,$.onload=j,$.onerror=j,h&&($.sizes=h),o&&($.srcset=o),t&&($.src=t)):j()},preloadImages:function(){const d=this;function t(){null!=d&&d&&!d.destroyed&&(void 0!==d.imagesLoaded&&(d.imagesLoaded+=1),d.imagesLoaded===d.imagesToLoad.length&&(d.params.updateOnImagesReady&&d.update(),d.emit("imagesReady")))}d.imagesToLoad=d.$el.find("img");for(let o=0;o<d.imagesToLoad.length;o+=1){const h=d.imagesToLoad[o];d.loadImage(h,h.currentSrc||h.getAttribute("src"),h.srcset||h.getAttribute("srcset"),h.sizes||h.getAttribute("sizes"),!0,t)}}}},Vn={};class En{constructor(){let t,o;for(var h=arguments.length,P=new Array(h),S=0;S<h;S++)P[S]=arguments[S];if(1===P.length&&P[0].constructor&&"Object"===Object.prototype.toString.call(P[0]).slice(8,-1)?o=P[0]:[t,o]=P,o||(o={}),o=ee({},o),t&&!o.el&&(o.el=t),o.el&&b(o.el).length>1){const G=[];return b(o.el).each(V=>{const y=ee({},o,{el:V});G.push(new En(y))}),G}const A=this;A.__swiper__=!0,A.support=g(),A.device=function gt(d){return void 0===d&&(d={}),ze||(ze=function(t){let{userAgent:o}=void 0===t?{}:t;const h=g(),P=H(),S=P.navigator.platform,A=o||P.navigator.userAgent,$={ios:!1,android:!1},j=P.screen.width,G=P.screen.height,V=A.match(/(Android);?[\s\/]+([\d.]+)?/);let y=A.match(/(iPad).*OS\s([\d_]+)/);const _=A.match(/(iPod)(.*OS\s([\d_]+))?/),F=!y&&A.match(/(iPhone\sOS|iOS)\s([\d_]+)/),Q="Win32"===S;let Y="MacIntel"===S;return!y&&Y&&h.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${j}x${G}`)>=0&&(y=A.match(/(Version)\/([\d.]+)/),y||(y=[0,1,"13_0_0"]),Y=!1),V&&!Q&&($.os="android",$.android=!0),(y||F||_)&&($.os="ios",$.ios=!0),$}(d)),ze}({userAgent:o.userAgent}),A.browser=function ct(){return Be||(Be=function(){const d=H();return{isSafari:function(){const t=d.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(d.navigator.userAgent)}}()),Be}(),A.eventsListeners={},A.eventsAnyListeners=[],A.modules=[...A.__modules__],o.modules&&Array.isArray(o.modules)&&A.modules.push(...o.modules);const $={};A.modules.forEach(G=>{G({swiper:A,extendParams:Fn(o,$),on:A.on.bind(A),once:A.once.bind(A),off:A.off.bind(A),emit:A.emit.bind(A)})});const j=ee({},_r,$);return A.params=ee({},j,Vn,o),A.originalParams=ee({},A.params),A.passedParams=ee({},o),A.params&&A.params.on&&Object.keys(A.params.on).forEach(G=>{A.on(G,A.params.on[G])}),A.params&&A.params.onAny&&A.onAny(A.params.onAny),A.$=b,Object.assign(A,{enabled:A.params.enabled,el:t,classNames:[],slides:b(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===A.params.direction,isVertical:()=>"vertical"===A.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:A.params.allowSlideNext,allowSlidePrev:A.params.allowSlidePrev,touchEvents:function(){const G=["touchstart","touchmove","touchend","touchcancel"],V=["pointerdown","pointermove","pointerup"];return A.touchEventsTouch={start:G[0],move:G[1],end:G[2],cancel:G[3]},A.touchEventsDesktop={start:V[0],move:V[1],end:V[2]},A.support.touch||!A.params.simulateTouch?A.touchEventsTouch:A.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:A.params.focusableElements,lastClickTime:v(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:A.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),A.emit("_swiper"),A.params.init&&A.init(),A}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;t.enabled&&(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,o){const h=this;t=Math.min(Math.max(t,0),1);const P=h.minTranslate(),S=(h.maxTranslate()-P)*t+P;h.translateTo(S,void 0===o?0:o),h.updateActiveIndex(),h.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const o=t.el.className.split(" ").filter(h=>0===h.indexOf("swiper")||0===h.indexOf(t.params.containerModifierClass));t.emit("_containerClasses",o.join(" "))}getSlideClasses(t){const o=this;return o.destroyed?"":t.className.split(" ").filter(h=>0===h.indexOf("swiper-slide")||0===h.indexOf(o.params.slideClass)).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const o=[];t.slides.each(h=>{const P=t.getSlideClasses(h);o.push({slideEl:h,classNames:P}),t.emit("_slideClass",h,P)}),t.emit("_slideClasses",o)}slidesPerViewDynamic(t,o){void 0===t&&(t="current"),void 0===o&&(o=!1);const{params:h,slides:P,slidesGrid:S,slidesSizesGrid:A,size:$,activeIndex:j}=this;let G=1;if(h.centeredSlides){let V,y=P[j].swiperSlideSize;for(let _=j+1;_<P.length;_+=1)P[_]&&!V&&(y+=P[_].swiperSlideSize,G+=1,y>$&&(V=!0));for(let _=j-1;_>=0;_-=1)P[_]&&!V&&(y+=P[_].swiperSlideSize,G+=1,y>$&&(V=!0))}else if("current"===t)for(let V=j+1;V<P.length;V+=1)(o?S[V]+A[V]-S[j]<$:S[V]-S[j]<$)&&(G+=1);else for(let V=j-1;V>=0;V-=1)S[j]-S[V]<$&&(G+=1);return G}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:o,params:h}=t;function P(){const $=Math.min(Math.max(t.rtlTranslate?-1*t.translate:t.translate,t.maxTranslate()),t.minTranslate());t.setTranslate($),t.updateActiveIndex(),t.updateSlidesClasses()}let S;h.breakpoints&&t.setBreakpoint(),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.params.freeMode&&t.params.freeMode.enabled?(P(),t.params.autoHeight&&t.updateAutoHeight()):(S=t.slideTo(("auto"===t.params.slidesPerView||t.params.slidesPerView>1)&&t.isEnd&&!t.params.centeredSlides?t.slides.length-1:t.activeIndex,0,!1,!0),S||P()),h.watchOverflow&&o!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,o){void 0===o&&(o=!0);const h=this,P=h.params.direction;return t||(t="horizontal"===P?"vertical":"horizontal"),t===P||"horizontal"!==t&&"vertical"!==t||(h.$el.removeClass(`${h.params.containerModifierClass}${P}`).addClass(`${h.params.containerModifierClass}${t}`),h.emitContainerClasses(),h.params.direction=t,h.slides.each(S=>{"vertical"===t?S.style.width="":S.style.height=""}),h.emit("changeDirection"),o&&h.update()),h}mount(t){const o=this;if(o.mounted)return!0;const h=b(t||o.params.el);if(!(t=h[0]))return!1;t.swiper=o;const P=()=>`.${(o.params.wrapperClass||"").trim().split(" ").join(".")}`;let S=(()=>{if(t&&t.shadowRoot&&t.shadowRoot.querySelector){const A=b(t.shadowRoot.querySelector(P()));return A.children=$=>h.children($),A}return h.children?h.children(P()):b(h).children(P())})();if(0===S.length&&o.params.createElements){const A=et().createElement("div");S=b(A),A.className=o.params.wrapperClass,h.append(A),h.children(`.${o.params.slideClass}`).each($=>{S.append($)})}return Object.assign(o,{$el:h,el:t,$wrapperEl:S,wrapperEl:S[0],mounted:!0,rtl:"rtl"===t.dir.toLowerCase()||"rtl"===h.css("direction"),rtlTranslate:"horizontal"===o.params.direction&&("rtl"===t.dir.toLowerCase()||"rtl"===h.css("direction")),wrongRTL:"-webkit-box"===S.css("display")}),!0}init(t){const o=this;return o.initialized||!1===o.mount(t)||(o.emit("beforeInit"),o.params.breakpoints&&o.setBreakpoint(),o.addClasses(),o.params.loop&&o.loopCreate(),o.updateSize(),o.updateSlides(),o.params.watchOverflow&&o.checkOverflow(),o.params.grabCursor&&o.enabled&&o.setGrabCursor(),o.params.preloadImages&&o.preloadImages(),o.slideTo(o.params.loop?o.params.initialSlide+o.loopedSlides:o.params.initialSlide,0,o.params.runCallbacksOnInit,!1,!0),o.attachEvents(),o.initialized=!0,o.emit("init"),o.emit("afterInit")),o}destroy(t,o){void 0===t&&(t=!0),void 0===o&&(o=!0);const h=this,{params:P,$el:S,$wrapperEl:A,slides:$}=h;return void 0===h.params||h.destroyed||(h.emit("beforeDestroy"),h.initialized=!1,h.detachEvents(),P.loop&&h.loopDestroy(),o&&(h.removeClasses(),S.removeAttr("style"),A.removeAttr("style"),$&&$.length&&$.removeClass([P.slideVisibleClass,P.slideActiveClass,P.slideNextClass,P.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),h.emit("destroy"),Object.keys(h.eventsListeners).forEach(j=>{h.off(j)}),!1!==t&&(h.$el[0].swiper=null,function(j){const G=j;Object.keys(G).forEach(V=>{try{G[V]=null}catch{}try{delete G[V]}catch{}})}(h)),h.destroyed=!0),null}static extendDefaults(t){ee(Vn,t)}static get extendedDefaults(){return Vn}static get defaults(){return _r}static installModule(t){En.prototype.__modules__||(En.prototype.__modules__=[]);const o=En.prototype.__modules__;"function"==typeof t&&o.indexOf(t)<0&&o.push(t)}static use(t){return Array.isArray(t)?(t.forEach(o=>En.installModule(o)),En):(En.installModule(t),En)}}function dn(d,t,o,h){const P=et();return d.params.createElements&&Object.keys(h).forEach(S=>{if(!o[S]&&!0===o.auto){let A=d.$el.children(`.${h[S]}`)[0];A||(A=P.createElement("div"),A.className=h[S],d.$el.append(A)),o[S]=A,t[S]=A}}),o}function _n(d){return void 0===d&&(d=""),`.${d.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,".")}`}function jr(d){const t=this,{$wrapperEl:o,params:h}=t;if(h.loop&&t.loopDestroy(),"object"==typeof d&&"length"in d)for(let P=0;P<d.length;P+=1)d[P]&&o.append(d[P]);else o.append(d);h.loop&&t.loopCreate(),h.observer||t.update()}function en(d){const t=this,{params:o,$wrapperEl:h,activeIndex:P}=t;o.loop&&t.loopDestroy();let S=P+1;if("object"==typeof d&&"length"in d){for(let A=0;A<d.length;A+=1)d[A]&&h.prepend(d[A]);S=P+d.length}else h.prepend(d);o.loop&&t.loopCreate(),o.observer||t.update(),t.slideTo(S,0,!1)}function ri(d,t){const o=this,{$wrapperEl:h,params:P,activeIndex:S}=o;let A=S;P.loop&&(A-=o.loopedSlides,o.loopDestroy(),o.slides=h.children(`.${P.slideClass}`));const $=o.slides.length;if(d<=0)return void o.prependSlide(t);if(d>=$)return void o.appendSlide(t);let j=A>d?A+1:A;const G=[];for(let V=$-1;V>=d;V-=1){const y=o.slides.eq(V);y.remove(),G.unshift(y)}if("object"==typeof t&&"length"in t){for(let V=0;V<t.length;V+=1)t[V]&&h.append(t[V]);j=A>d?A+t.length:A}else h.append(t);for(let V=0;V<G.length;V+=1)h.append(G[V]);P.loop&&o.loopCreate(),P.observer||o.update(),o.slideTo(P.loop?j+o.loopedSlides:j,0,!1)}function Qe(d){const t=this,{params:o,$wrapperEl:h,activeIndex:P}=t;let S=P;o.loop&&(S-=t.loopedSlides,t.loopDestroy(),t.slides=h.children(`.${o.slideClass}`));let A,$=S;if("object"==typeof d&&"length"in d){for(let j=0;j<d.length;j+=1)A=d[j],t.slides[A]&&t.slides.eq(A).remove(),A<$&&($-=1);$=Math.max($,0)}else A=d,t.slides[A]&&t.slides.eq(A).remove(),A<$&&($-=1),$=Math.max($,0);o.loop&&t.loopCreate(),o.observer||t.update(),t.slideTo(o.loop?$+t.loopedSlides:$,0,!1)}function lt(){const d=this,t=[];for(let o=0;o<d.slides.length;o+=1)t.push(o);d.removeSlide(t)}function ft(d){const{effect:t,swiper:o,on:h,setTranslate:P,setTransition:S,overwriteParams:A,perspective:$,recreateShadows:j,getEffectParams:G}=d;let V;h("beforeInit",()=>{if(o.params.effect!==t)return;o.classNames.push(`${o.params.containerModifierClass}${t}`),$&&$()&&o.classNames.push(`${o.params.containerModifierClass}3d`);const y=A?A():{};Object.assign(o.params,y),Object.assign(o.originalParams,y)}),h("setTranslate",()=>{o.params.effect===t&&P()}),h("setTransition",(y,_)=>{o.params.effect===t&&S(_)}),h("transitionEnd",()=>{if(o.params.effect===t&&j){if(!G||!G().slideShadows)return;o.slides.each(y=>{o.$(y).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").remove()}),j()}}),h("virtualUpdate",()=>{o.params.effect===t&&(o.slides.length||(V=!0),requestAnimationFrame(()=>{V&&o.slides&&o.slides.length&&(P(),V=!1)}))})}function Wt(d,t){return d.transformEl?t.find(d.transformEl).css({"backface-visibility":"hidden","-webkit-backface-visibility":"hidden"}):t}function an(d){let{swiper:t,duration:o,transformEl:h,allSlides:P}=d;const{slides:S,activeIndex:A,$wrapperEl:$}=t;if(t.params.virtualTranslate&&0!==o){let j,G=!1;j=P?h?S.find(h):S:h?S.eq(A).find(h):S.eq(A),j.transitionEnd(()=>{if(G||!t||t.destroyed)return;G=!0,t.animating=!1;const V=["webkitTransitionEnd","transitionend"];for(let y=0;y<V.length;y+=1)$.trigger(V[y])})}}function Xe(d,t,o){const h="swiper-slide-shadow"+(o?`-${o}`:""),P=d.transformEl?t.find(d.transformEl):t;let S=P.children(`.${h}`);return S.length||(S=b(`<div class="swiper-slide-shadow${o?`-${o}`:""}"></div>`),P.append(S)),S}return Object.keys(Jn).forEach(d=>{Object.keys(Jn[d]).forEach(t=>{En.prototype[t]=Jn[d][t]})}),En.use([function(d){let{swiper:t,on:o,emit:h}=d;const P=H();let S=null,A=null;const $=()=>{t&&!t.destroyed&&t.initialized&&(h("beforeResize"),h("resize"))},j=()=>{t&&!t.destroyed&&t.initialized&&h("orientationchange")};o("init",()=>{t.params.resizeObserver&&void 0!==P.ResizeObserver?t&&!t.destroyed&&t.initialized&&(S=new ResizeObserver(G=>{A=P.requestAnimationFrame(()=>{const{width:V,height:y}=t;let _=V,F=y;G.forEach(Q=>{let{contentBoxSize:Y,contentRect:Z,target:fe}=Q;fe&&fe!==t.el||(_=Z?Z.width:(Y[0]||Y).inlineSize,F=Z?Z.height:(Y[0]||Y).blockSize)}),_===V&&F===y||$()})}),S.observe(t.el)):(P.addEventListener("resize",$),P.addEventListener("orientationchange",j))}),o("destroy",()=>{A&&P.cancelAnimationFrame(A),S&&S.unobserve&&t.el&&(S.unobserve(t.el),S=null),P.removeEventListener("resize",$),P.removeEventListener("orientationchange",j)})},function(d){let{swiper:t,extendParams:o,on:h,emit:P}=d;const S=[],A=H(),$=function(j,G){void 0===G&&(G={});const V=new(A.MutationObserver||A.WebkitMutationObserver)(y=>{if(1===y.length)return void P("observerUpdate",y[0]);const _=function(){P("observerUpdate",y[0])};A.requestAnimationFrame?A.requestAnimationFrame(_):A.setTimeout(_,0)});V.observe(j,{attributes:void 0===G.attributes||G.attributes,childList:void 0===G.childList||G.childList,characterData:void 0===G.characterData||G.characterData}),S.push(V)};o({observer:!1,observeParents:!1,observeSlideChildren:!1}),h("init",()=>{if(t.params.observer){if(t.params.observeParents){const j=t.$el.parents();for(let G=0;G<j.length;G+=1)$(j[G])}$(t.$el[0],{childList:t.params.observeSlideChildren}),$(t.$wrapperEl[0],{attributes:!1})}}),h("destroy",()=>{S.forEach(j=>{j.disconnect()}),S.splice(0,S.length)})}]),En.use([function(d){let t,{swiper:o,extendParams:h,on:P,emit:S}=d;function A(j,G){const V=o.params.virtual;if(V.cache&&o.virtual.cache[G])return o.virtual.cache[G];const y=b(V.renderSlide?V.renderSlide.call(o,j,G):`<div class="${o.params.slideClass}" data-swiper-slide-index="${G}">${j}</div>`);return y.attr("data-swiper-slide-index")||y.attr("data-swiper-slide-index",G),V.cache&&(o.virtual.cache[G]=y),y}function $(j){const{slidesPerView:G,slidesPerGroup:V,centeredSlides:y}=o.params,{addSlidesBefore:_,addSlidesAfter:F}=o.params.virtual,{from:Q,to:Y,slides:Z,slidesGrid:fe,offset:le}=o.virtual;o.params.cssMode||o.updateActiveIndex();const se=o.activeIndex||0;let ae,ve,Le;ae=o.rtlTranslate?"right":o.isHorizontal()?"left":"top",y?(ve=Math.floor(G/2)+V+F,Le=Math.floor(G/2)+V+_):(ve=G+(V-1)+F,Le=V+_);const Je=Math.max((se||0)-Le,0),Oe=Math.min((se||0)+ve,Z.length-1),Ye=(o.slidesGrid[Je]||0)-(o.slidesGrid[0]||0);function we(){o.updateSlides(),o.updateProgress(),o.updateSlidesClasses(),o.lazy&&o.params.lazy.enabled&&o.lazy.load(),S("virtualUpdate")}if(Object.assign(o.virtual,{from:Je,to:Oe,offset:Ye,slidesGrid:o.slidesGrid}),Q===Je&&Y===Oe&&!j)return o.slidesGrid!==fe&&Ye!==le&&o.slides.css(ae,`${Ye}px`),o.updateProgress(),void S("virtualUpdate");if(o.params.virtual.renderExternal)return o.params.virtual.renderExternal.call(o,{offset:Ye,from:Je,to:Oe,slides:function(){const qe=[];for(let Nt=Je;Nt<=Oe;Nt+=1)qe.push(Z[Nt]);return qe}()}),void(o.params.virtual.renderExternalUpdate?we():S("virtualUpdate"));const Pe=[],je=[];if(j)o.$wrapperEl.find(`.${o.params.slideClass}`).remove();else for(let qe=Q;qe<=Y;qe+=1)(qe<Je||qe>Oe)&&o.$wrapperEl.find(`.${o.params.slideClass}[data-swiper-slide-index="${qe}"]`).remove();for(let qe=0;qe<Z.length;qe+=1)qe>=Je&&qe<=Oe&&(void 0===Y||j?je.push(qe):(qe>Y&&je.push(qe),qe<Q&&Pe.push(qe)));je.forEach(qe=>{o.$wrapperEl.append(A(Z[qe],qe))}),Pe.sort((qe,Nt)=>Nt-qe).forEach(qe=>{o.$wrapperEl.prepend(A(Z[qe],qe))}),o.$wrapperEl.children(".swiper-slide").css(ae,`${Ye}px`),we()}h({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}}),o.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]},P("beforeInit",()=>{o.params.virtual.enabled&&(o.virtual.slides=o.params.virtual.slides,o.classNames.push(`${o.params.containerModifierClass}virtual`),o.params.watchSlidesProgress=!0,o.originalParams.watchSlidesProgress=!0,o.params.initialSlide||$())}),P("setTranslate",()=>{o.params.virtual.enabled&&(o.params.cssMode&&!o._immediateVirtual?(clearTimeout(t),t=setTimeout(()=>{$()},100)):$())}),P("init update resize",()=>{o.params.virtual.enabled&&o.params.cssMode&&re(o.wrapperEl,"--swiper-virtual-size",`${o.virtualSize}px`)}),Object.assign(o.virtual,{appendSlide:function(j){if("object"==typeof j&&"length"in j)for(let G=0;G<j.length;G+=1)j[G]&&o.virtual.slides.push(j[G]);else o.virtual.slides.push(j);$(!0)},prependSlide:function(j){const G=o.activeIndex;let V=G+1,y=1;if(Array.isArray(j)){for(let _=0;_<j.length;_+=1)j[_]&&o.virtual.slides.unshift(j[_]);V=G+j.length,y=j.length}else o.virtual.slides.unshift(j);if(o.params.virtual.cache){const _=o.virtual.cache,F={};Object.keys(_).forEach(Q=>{const Y=_[Q],Z=Y.attr("data-swiper-slide-index");Z&&Y.attr("data-swiper-slide-index",parseInt(Z,10)+y),F[parseInt(Q,10)+y]=Y}),o.virtual.cache=F}$(!0),o.slideTo(V,0)},removeSlide:function(j){if(null==j)return;let G=o.activeIndex;if(Array.isArray(j))for(let V=j.length-1;V>=0;V-=1)o.virtual.slides.splice(j[V],1),o.params.virtual.cache&&delete o.virtual.cache[j[V]],j[V]<G&&(G-=1),G=Math.max(G,0);else o.virtual.slides.splice(j,1),o.params.virtual.cache&&delete o.virtual.cache[j],j<G&&(G-=1),G=Math.max(G,0);$(!0),o.slideTo(G,0)},removeAllSlides:function(){o.virtual.slides=[],o.params.virtual.cache&&(o.virtual.cache={}),$(!0),o.slideTo(0,0)},update:$})},function(d){let{swiper:t,extendParams:o,on:h,emit:P}=d;const S=et(),A=H();function $(V){if(!t.enabled)return;const{rtlTranslate:y}=t;let _=V;_.originalEvent&&(_=_.originalEvent);const F=_.keyCode||_.charCode,Q=t.params.keyboard.pageUpDown,Y=Q&&33===F,Z=Q&&34===F,fe=37===F,le=39===F,se=38===F,ae=40===F;if(!t.allowSlideNext&&(t.isHorizontal()&&le||t.isVertical()&&ae||Z)||!t.allowSlidePrev&&(t.isHorizontal()&&fe||t.isVertical()&&se||Y))return!1;if(!(_.shiftKey||_.altKey||_.ctrlKey||_.metaKey||S.activeElement&&S.activeElement.nodeName&&("input"===S.activeElement.nodeName.toLowerCase()||"textarea"===S.activeElement.nodeName.toLowerCase()))){if(t.params.keyboard.onlyInViewport&&(Y||Z||fe||le||se||ae)){let ve=!1;if(t.$el.parents(`.${t.params.slideClass}`).length>0&&0===t.$el.parents(`.${t.params.slideActiveClass}`).length)return;const Le=t.$el,Je=Le[0].clientWidth,Oe=Le[0].clientHeight,Ye=A.innerWidth,we=A.innerHeight,Pe=t.$el.offset();y&&(Pe.left-=t.$el[0].scrollLeft);const je=[[Pe.left,Pe.top],[Pe.left+Je,Pe.top],[Pe.left,Pe.top+Oe],[Pe.left+Je,Pe.top+Oe]];for(let qe=0;qe<je.length;qe+=1){const Nt=je[qe];if(Nt[0]>=0&&Nt[0]<=Ye&&Nt[1]>=0&&Nt[1]<=we){if(0===Nt[0]&&0===Nt[1])continue;ve=!0}}if(!ve)return}t.isHorizontal()?((Y||Z||fe||le)&&(_.preventDefault?_.preventDefault():_.returnValue=!1),((Z||le)&&!y||(Y||fe)&&y)&&t.slideNext(),((Y||fe)&&!y||(Z||le)&&y)&&t.slidePrev()):((Y||Z||se||ae)&&(_.preventDefault?_.preventDefault():_.returnValue=!1),(Z||ae)&&t.slideNext(),(Y||se)&&t.slidePrev()),P("keyPress",F)}}function j(){t.keyboard.enabled||(b(S).on("keydown",$),t.keyboard.enabled=!0)}function G(){t.keyboard.enabled&&(b(S).off("keydown",$),t.keyboard.enabled=!1)}t.keyboard={enabled:!1},o({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}}),h("init",()=>{t.params.keyboard.enabled&&j()}),h("destroy",()=>{t.keyboard.enabled&&G()}),Object.assign(t.keyboard,{enable:j,disable:G})},function(d){let{swiper:t,extendParams:o,on:h,emit:P}=d;const S=H();let A;o({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null}}),t.mousewheel={enabled:!1};let $,j=v();const G=[];function V(){t.enabled&&(t.mouseEntered=!0)}function y(){t.enabled&&(t.mouseEntered=!1)}function _(fe){return!(t.params.mousewheel.thresholdDelta&&fe.delta<t.params.mousewheel.thresholdDelta||t.params.mousewheel.thresholdTime&&v()-j<t.params.mousewheel.thresholdTime||!(fe.delta>=6&&v()-j<60)&&(fe.direction<0?t.isEnd&&!t.params.loop||t.animating||(t.slideNext(),P("scroll",fe.raw)):t.isBeginning&&!t.params.loop||t.animating||(t.slidePrev(),P("scroll",fe.raw)),j=(new S.Date).getTime(),1))}function F(fe){let le=fe,se=!0;if(!t.enabled)return;const ae=t.params.mousewheel;t.params.cssMode&&le.preventDefault();let ve=t.$el;if("container"!==t.params.mousewheel.eventsTarget&&(ve=b(t.params.mousewheel.eventsTarget)),!t.mouseEntered&&!ve[0].contains(le.target)&&!ae.releaseOnEdges)return!0;le.originalEvent&&(le=le.originalEvent);let Le=0;const Je=t.rtlTranslate?-1:1,Oe=function(we){let Pe=0,je=0,qe=0,Nt=0;return"detail"in we&&(je=we.detail),"wheelDelta"in we&&(je=-we.wheelDelta/120),"wheelDeltaY"in we&&(je=-we.wheelDeltaY/120),"wheelDeltaX"in we&&(Pe=-we.wheelDeltaX/120),"axis"in we&&we.axis===we.HORIZONTAL_AXIS&&(Pe=je,je=0),qe=10*Pe,Nt=10*je,"deltaY"in we&&(Nt=we.deltaY),"deltaX"in we&&(qe=we.deltaX),we.shiftKey&&!qe&&(qe=Nt,Nt=0),(qe||Nt)&&we.deltaMode&&(1===we.deltaMode?(qe*=40,Nt*=40):(qe*=800,Nt*=800)),qe&&!Pe&&(Pe=qe<1?-1:1),Nt&&!je&&(je=Nt<1?-1:1),{spinX:Pe,spinY:je,pixelX:qe,pixelY:Nt}}(le);if(ae.forceToAxis)if(t.isHorizontal()){if(!(Math.abs(Oe.pixelX)>Math.abs(Oe.pixelY)))return!0;Le=-Oe.pixelX*Je}else{if(!(Math.abs(Oe.pixelY)>Math.abs(Oe.pixelX)))return!0;Le=-Oe.pixelY}else Le=Math.abs(Oe.pixelX)>Math.abs(Oe.pixelY)?-Oe.pixelX*Je:-Oe.pixelY;if(0===Le)return!0;ae.invert&&(Le=-Le);let Ye=t.getTranslate()+Le*ae.sensitivity;if(Ye>=t.minTranslate()&&(Ye=t.minTranslate()),Ye<=t.maxTranslate()&&(Ye=t.maxTranslate()),se=!!t.params.loop||!(Ye===t.minTranslate()||Ye===t.maxTranslate()),se&&t.params.nested&&le.stopPropagation(),t.params.freeMode&&t.params.freeMode.enabled){const we={time:v(),delta:Math.abs(Le),direction:Math.sign(Le)},Pe=$&&we.time<$.time+500&&we.delta<=$.delta&&we.direction===$.direction;if(!Pe){$=void 0,t.params.loop&&t.loopFix();let je=t.getTranslate()+Le*ae.sensitivity;const qe=t.isBeginning,Nt=t.isEnd;if(je>=t.minTranslate()&&(je=t.minTranslate()),je<=t.maxTranslate()&&(je=t.maxTranslate()),t.setTransition(0),t.setTranslate(je),t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses(),(!qe&&t.isBeginning||!Nt&&t.isEnd)&&t.updateSlidesClasses(),t.params.freeMode.sticky){clearTimeout(A),A=void 0,G.length>=15&&G.shift();const He=G.length?G[G.length-1]:void 0,Tt=G[0];if(G.push(we),He&&(we.delta>He.delta||we.direction!==He.direction))G.splice(0);else if(G.length>=15&&we.time-Tt.time<500&&Tt.delta-we.delta>=1&&we.delta<=6){const mt=Le>0?.8:.2;$=we,G.splice(0),A=W(()=>{t.slideToClosest(t.params.speed,!0,void 0,mt)},0)}A||(A=W(()=>{$=we,G.splice(0),t.slideToClosest(t.params.speed,!0,void 0,.5)},500))}if(Pe||P("scroll",le),t.params.autoplay&&t.params.autoplayDisableOnInteraction&&t.autoplay.stop(),je===t.minTranslate()||je===t.maxTranslate())return!0}}else{const we={time:v(),delta:Math.abs(Le),direction:Math.sign(Le),raw:fe};G.length>=2&&G.shift();const Pe=G.length?G[G.length-1]:void 0;if(G.push(we),Pe?(we.direction!==Pe.direction||we.delta>Pe.delta||we.time>Pe.time+150)&&_(we):_(we),function(je){const qe=t.params.mousewheel;if(je.direction<0){if(t.isEnd&&!t.params.loop&&qe.releaseOnEdges)return!0}else if(t.isBeginning&&!t.params.loop&&qe.releaseOnEdges)return!0;return!1}(we))return!0}return le.preventDefault?le.preventDefault():le.returnValue=!1,!1}function Q(fe){let le=t.$el;"container"!==t.params.mousewheel.eventsTarget&&(le=b(t.params.mousewheel.eventsTarget)),le[fe]("mouseenter",V),le[fe]("mouseleave",y),le[fe]("wheel",F)}function Y(){return t.params.cssMode?(t.wrapperEl.removeEventListener("wheel",F),!0):!t.mousewheel.enabled&&(Q("on"),t.mousewheel.enabled=!0,!0)}function Z(){return t.params.cssMode?(t.wrapperEl.addEventListener(event,F),!0):!!t.mousewheel.enabled&&(Q("off"),t.mousewheel.enabled=!1,!0)}h("init",()=>{!t.params.mousewheel.enabled&&t.params.cssMode&&Z(),t.params.mousewheel.enabled&&Y()}),h("destroy",()=>{t.params.cssMode&&Y(),t.mousewheel.enabled&&Z()}),Object.assign(t.mousewheel,{enable:Y,disable:Z})},function(d){let{swiper:t,extendParams:o,on:h,emit:P}=d;function S(F){let Q;return F&&(Q=b(F),t.params.uniqueNavElements&&"string"==typeof F&&Q.length>1&&1===t.$el.find(F).length&&(Q=t.$el.find(F))),Q}function A(F,Q){const Y=t.params.navigation;F&&F.length>0&&(F[Q?"addClass":"removeClass"](Y.disabledClass),F[0]&&"BUTTON"===F[0].tagName&&(F[0].disabled=Q),t.params.watchOverflow&&t.enabled&&F[t.isLocked?"addClass":"removeClass"](Y.lockClass))}function $(){if(t.params.loop)return;const{$nextEl:F,$prevEl:Q}=t.navigation;A(Q,t.isBeginning&&!t.params.rewind),A(F,t.isEnd&&!t.params.rewind)}function j(F){F.preventDefault(),(!t.isBeginning||t.params.loop||t.params.rewind)&&t.slidePrev()}function G(F){F.preventDefault(),(!t.isEnd||t.params.loop||t.params.rewind)&&t.slideNext()}function V(){const F=t.params.navigation;if(t.params.navigation=dn(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!F.nextEl&&!F.prevEl)return;const Q=S(F.nextEl),Y=S(F.prevEl);Q&&Q.length>0&&Q.on("click",G),Y&&Y.length>0&&Y.on("click",j),Object.assign(t.navigation,{$nextEl:Q,nextEl:Q&&Q[0],$prevEl:Y,prevEl:Y&&Y[0]}),t.enabled||(Q&&Q.addClass(F.lockClass),Y&&Y.addClass(F.lockClass))}function y(){const{$nextEl:F,$prevEl:Q}=t.navigation;F&&F.length&&(F.off("click",G),F.removeClass(t.params.navigation.disabledClass)),Q&&Q.length&&(Q.off("click",j),Q.removeClass(t.params.navigation.disabledClass))}o({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null},h("init",()=>{!1===t.params.navigation.enabled?_():(V(),$())}),h("toEdge fromEdge lock unlock",()=>{$()}),h("destroy",()=>{y()}),h("enable disable",()=>{const{$nextEl:F,$prevEl:Q}=t.navigation;F&&F[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass),Q&&Q[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass)}),h("click",(F,Q)=>{const{$nextEl:Y,$prevEl:Z}=t.navigation,fe=Q.target;if(t.params.navigation.hideOnClick&&!b(fe).is(Z)&&!b(fe).is(Y)){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===fe||t.pagination.el.contains(fe)))return;let le;Y?le=Y.hasClass(t.params.navigation.hiddenClass):Z&&(le=Z.hasClass(t.params.navigation.hiddenClass)),P(!0===le?"navigationShow":"navigationHide"),Y&&Y.toggleClass(t.params.navigation.hiddenClass),Z&&Z.toggleClass(t.params.navigation.hiddenClass)}});const _=()=>{t.$el.addClass(t.params.navigation.navigationDisabledClass),y()};Object.assign(t.navigation,{enable:()=>{t.$el.removeClass(t.params.navigation.navigationDisabledClass),V(),$()},disable:_,update:$,init:V,destroy:y})},function(d){let{swiper:t,extendParams:o,on:h,emit:P}=d;const S="swiper-pagination";let A;o({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:Y=>Y,formatFractionTotal:Y=>Y,bulletClass:`${S}-bullet`,bulletActiveClass:`${S}-bullet-active`,modifierClass:`${S}-`,currentClass:`${S}-current`,totalClass:`${S}-total`,hiddenClass:`${S}-hidden`,progressbarFillClass:`${S}-progressbar-fill`,progressbarOppositeClass:`${S}-progressbar-opposite`,clickableClass:`${S}-clickable`,lockClass:`${S}-lock`,horizontalClass:`${S}-horizontal`,verticalClass:`${S}-vertical`,paginationDisabledClass:`${S}-disabled`}}),t.pagination={el:null,$el:null,bullets:[]};let $=0;function j(){return!t.params.pagination.el||!t.pagination.el||!t.pagination.$el||0===t.pagination.$el.length}function G(Y,Z){const{bulletActiveClass:fe}=t.params.pagination;Y[Z]().addClass(`${fe}-${Z}`)[Z]().addClass(`${fe}-${Z}-${Z}`)}function V(){const Y=t.rtl,Z=t.params.pagination;if(j())return;const fe=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,le=t.pagination.$el;let se;const ae=t.params.loop?Math.ceil((fe-2*t.loopedSlides)/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(se=Math.ceil((t.activeIndex-t.loopedSlides)/t.params.slidesPerGroup),se>fe-1-2*t.loopedSlides&&(se-=fe-2*t.loopedSlides),se>ae-1&&(se-=ae),se<0&&"bullets"!==t.params.paginationType&&(se=ae+se)):se=void 0!==t.snapIndex?t.snapIndex:t.activeIndex||0,"bullets"===Z.type&&t.pagination.bullets&&t.pagination.bullets.length>0){const ve=t.pagination.bullets;let Le,Je,Oe;if(Z.dynamicBullets&&(A=ve.eq(0)[t.isHorizontal()?"outerWidth":"outerHeight"](!0),le.css(t.isHorizontal()?"width":"height",A*(Z.dynamicMainBullets+4)+"px"),Z.dynamicMainBullets>1&&void 0!==t.previousIndex&&($+=se-(t.previousIndex-t.loopedSlides||0),$>Z.dynamicMainBullets-1?$=Z.dynamicMainBullets-1:$<0&&($=0)),Le=Math.max(se-$,0),Je=Le+(Math.min(ve.length,Z.dynamicMainBullets)-1),Oe=(Je+Le)/2),ve.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map(Ye=>`${Z.bulletActiveClass}${Ye}`).join(" ")),le.length>1)ve.each(Ye=>{const we=b(Ye),Pe=we.index();Pe===se&&we.addClass(Z.bulletActiveClass),Z.dynamicBullets&&(Pe>=Le&&Pe<=Je&&we.addClass(`${Z.bulletActiveClass}-main`),Pe===Le&&G(we,"prev"),Pe===Je&&G(we,"next"))});else{const Ye=ve.eq(se),we=Ye.index();if(Ye.addClass(Z.bulletActiveClass),Z.dynamicBullets){const Pe=ve.eq(Le),je=ve.eq(Je);for(let qe=Le;qe<=Je;qe+=1)ve.eq(qe).addClass(`${Z.bulletActiveClass}-main`);if(t.params.loop)if(we>=ve.length){for(let qe=Z.dynamicMainBullets;qe>=0;qe-=1)ve.eq(ve.length-qe).addClass(`${Z.bulletActiveClass}-main`);ve.eq(ve.length-Z.dynamicMainBullets-1).addClass(`${Z.bulletActiveClass}-prev`)}else G(Pe,"prev"),G(je,"next");else G(Pe,"prev"),G(je,"next")}}if(Z.dynamicBullets){const Ye=Math.min(ve.length,Z.dynamicMainBullets+4),we=(A*Ye-A)/2-Oe*A,Pe=Y?"right":"left";ve.css(t.isHorizontal()?Pe:"top",`${we}px`)}}if("fraction"===Z.type&&(le.find(_n(Z.currentClass)).text(Z.formatFractionCurrent(se+1)),le.find(_n(Z.totalClass)).text(Z.formatFractionTotal(ae))),"progressbar"===Z.type){let ve;ve=Z.progressbarOpposite?t.isHorizontal()?"vertical":"horizontal":t.isHorizontal()?"horizontal":"vertical";const Le=(se+1)/ae;let Je=1,Oe=1;"horizontal"===ve?Je=Le:Oe=Le,le.find(_n(Z.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${Je}) scaleY(${Oe})`).transition(t.params.speed)}"custom"===Z.type&&Z.renderCustom?(le.html(Z.renderCustom(t,se+1,ae)),P("paginationRender",le[0])):P("paginationUpdate",le[0]),t.params.watchOverflow&&t.enabled&&le[t.isLocked?"addClass":"removeClass"](Z.lockClass)}function y(){const Y=t.params.pagination;if(j())return;const Z=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,fe=t.pagination.$el;let le="";if("bullets"===Y.type){let se=t.params.loop?Math.ceil((Z-2*t.loopedSlides)/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&!t.params.loop&&se>Z&&(se=Z);for(let ae=0;ae<se;ae+=1)le+=Y.renderBullet?Y.renderBullet.call(t,ae,Y.bulletClass):`<${Y.bulletElement} class="${Y.bulletClass}"></${Y.bulletElement}>`;fe.html(le),t.pagination.bullets=fe.find(_n(Y.bulletClass))}"fraction"===Y.type&&(le=Y.renderFraction?Y.renderFraction.call(t,Y.currentClass,Y.totalClass):`<span class="${Y.currentClass}"></span> / <span class="${Y.totalClass}"></span>`,fe.html(le)),"progressbar"===Y.type&&(le=Y.renderProgressbar?Y.renderProgressbar.call(t,Y.progressbarFillClass):`<span class="${Y.progressbarFillClass}"></span>`,fe.html(le)),"custom"!==Y.type&&P("paginationRender",t.pagination.$el[0])}function _(){t.params.pagination=dn(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const Y=t.params.pagination;if(!Y.el)return;let Z=b(Y.el);0!==Z.length&&(t.params.uniqueNavElements&&"string"==typeof Y.el&&Z.length>1&&(Z=t.$el.find(Y.el),Z.length>1&&(Z=Z.filter(fe=>b(fe).parents(".swiper")[0]===t.el))),"bullets"===Y.type&&Y.clickable&&Z.addClass(Y.clickableClass),Z.addClass(Y.modifierClass+Y.type),Z.addClass(t.isHorizontal()?Y.horizontalClass:Y.verticalClass),"bullets"===Y.type&&Y.dynamicBullets&&(Z.addClass(`${Y.modifierClass}${Y.type}-dynamic`),$=0,Y.dynamicMainBullets<1&&(Y.dynamicMainBullets=1)),"progressbar"===Y.type&&Y.progressbarOpposite&&Z.addClass(Y.progressbarOppositeClass),Y.clickable&&Z.on("click",_n(Y.bulletClass),function(fe){fe.preventDefault();let le=b(this).index()*t.params.slidesPerGroup;t.params.loop&&(le+=t.loopedSlides),t.slideTo(le)}),Object.assign(t.pagination,{$el:Z,el:Z[0]}),t.enabled||Z.addClass(Y.lockClass))}function F(){const Y=t.params.pagination;if(j())return;const Z=t.pagination.$el;Z.removeClass(Y.hiddenClass),Z.removeClass(Y.modifierClass+Y.type),Z.removeClass(t.isHorizontal()?Y.horizontalClass:Y.verticalClass),t.pagination.bullets&&t.pagination.bullets.removeClass&&t.pagination.bullets.removeClass(Y.bulletActiveClass),Y.clickable&&Z.off("click",_n(Y.bulletClass))}h("init",()=>{!1===t.params.pagination.enabled?Q():(_(),y(),V())}),h("activeIndexChange",()=>{(t.params.loop||void 0===t.snapIndex)&&V()}),h("snapIndexChange",()=>{t.params.loop||V()}),h("slidesLengthChange",()=>{t.params.loop&&(y(),V())}),h("snapGridLengthChange",()=>{t.params.loop||(y(),V())}),h("destroy",()=>{F()}),h("enable disable",()=>{const{$el:Y}=t.pagination;Y&&Y[t.enabled?"removeClass":"addClass"](t.params.pagination.lockClass)}),h("lock unlock",()=>{V()}),h("click",(Y,Z)=>{const fe=Z.target,{$el:le}=t.pagination;if(t.params.pagination.el&&t.params.pagination.hideOnClick&&le.length>0&&!b(fe).hasClass(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&fe===t.navigation.nextEl||t.navigation.prevEl&&fe===t.navigation.prevEl))return;const se=le.hasClass(t.params.pagination.hiddenClass);P(!0===se?"paginationShow":"paginationHide"),le.toggleClass(t.params.pagination.hiddenClass)}});const Q=()=>{t.$el.addClass(t.params.pagination.paginationDisabledClass),t.pagination.$el&&t.pagination.$el.addClass(t.params.pagination.paginationDisabledClass),F()};Object.assign(t.pagination,{enable:()=>{t.$el.removeClass(t.params.pagination.paginationDisabledClass),t.pagination.$el&&t.pagination.$el.removeClass(t.params.pagination.paginationDisabledClass),_(),y(),V()},disable:Q,render:y,update:V,init:_,destroy:F})},function(d){let{swiper:t,extendParams:o,on:h,emit:P}=d;const S=et();let A,$,j,G,V=!1,y=null,_=null;function F(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:Oe,rtlTranslate:Ye,progress:we}=t,{$dragEl:Pe,$el:je}=Oe,qe=t.params.scrollbar;let Nt=$,He=(j-$)*we;Ye?(He=-He,He>0?(Nt=$-He,He=0):-He+$>j&&(Nt=j+He)):He<0?(Nt=$+He,He=0):He+$>j&&(Nt=j-He),t.isHorizontal()?(Pe.transform(`translate3d(${He}px, 0, 0)`),Pe[0].style.width=`${Nt}px`):(Pe.transform(`translate3d(0px, ${He}px, 0)`),Pe[0].style.height=`${Nt}px`),qe.hide&&(clearTimeout(y),je[0].style.opacity=1,y=setTimeout(()=>{je[0].style.opacity=0,je.transition(400)},1e3))}function Q(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:Oe}=t,{$dragEl:Ye,$el:we}=Oe;Ye[0].style.width="",Ye[0].style.height="",j=t.isHorizontal()?we[0].offsetWidth:we[0].offsetHeight,G=t.size/(t.virtualSize+t.params.slidesOffsetBefore-(t.params.centeredSlides?t.snapGrid[0]:0)),$="auto"===t.params.scrollbar.dragSize?j*G:parseInt(t.params.scrollbar.dragSize,10),t.isHorizontal()?Ye[0].style.width=`${$}px`:Ye[0].style.height=`${$}px`,we[0].style.display=G>=1?"none":"",t.params.scrollbar.hide&&(we[0].style.opacity=0),t.params.watchOverflow&&t.enabled&&Oe.$el[t.isLocked?"addClass":"removeClass"](t.params.scrollbar.lockClass)}function Y(Oe){return t.isHorizontal()?"touchstart"===Oe.type||"touchmove"===Oe.type?Oe.targetTouches[0].clientX:Oe.clientX:"touchstart"===Oe.type||"touchmove"===Oe.type?Oe.targetTouches[0].clientY:Oe.clientY}function Z(Oe){const{scrollbar:Ye,rtlTranslate:we}=t,{$el:Pe}=Ye;let je;je=(Y(Oe)-Pe.offset()[t.isHorizontal()?"left":"top"]-(null!==A?A:$/2))/(j-$),je=Math.max(Math.min(je,1),0),we&&(je=1-je);const qe=t.minTranslate()+(t.maxTranslate()-t.minTranslate())*je;t.updateProgress(qe),t.setTranslate(qe),t.updateActiveIndex(),t.updateSlidesClasses()}function fe(Oe){const Ye=t.params.scrollbar,{scrollbar:we,$wrapperEl:Pe}=t,{$el:je,$dragEl:qe}=we;V=!0,A=Oe.target===qe[0]||Oe.target===qe?Y(Oe)-Oe.target.getBoundingClientRect()[t.isHorizontal()?"left":"top"]:null,Oe.preventDefault(),Oe.stopPropagation(),Pe.transition(100),qe.transition(100),Z(Oe),clearTimeout(_),je.transition(0),Ye.hide&&je.css("opacity",1),t.params.cssMode&&t.$wrapperEl.css("scroll-snap-type","none"),P("scrollbarDragStart",Oe)}function le(Oe){const{scrollbar:Ye,$wrapperEl:we}=t,{$el:Pe,$dragEl:je}=Ye;V&&(Oe.preventDefault?Oe.preventDefault():Oe.returnValue=!1,Z(Oe),we.transition(0),Pe.transition(0),je.transition(0),P("scrollbarDragMove",Oe))}function se(Oe){const Ye=t.params.scrollbar,{scrollbar:we,$wrapperEl:Pe}=t,{$el:je}=we;V&&(V=!1,t.params.cssMode&&(t.$wrapperEl.css("scroll-snap-type",""),Pe.transition("")),Ye.hide&&(clearTimeout(_),_=W(()=>{je.css("opacity",0),je.transition(400)},1e3)),P("scrollbarDragEnd",Oe),Ye.snapOnRelease&&t.slideToClosest())}function ae(Oe){const{scrollbar:Ye,touchEventsTouch:we,touchEventsDesktop:Pe,params:je,support:qe}=t,Nt=Ye.$el;if(!Nt)return;const He=Nt[0],Tt=!(!qe.passiveListener||!je.passiveListeners)&&{passive:!1,capture:!1},mt=!(!qe.passiveListener||!je.passiveListeners)&&{passive:!0,capture:!1};if(!He)return;const Lt="on"===Oe?"addEventListener":"removeEventListener";qe.touch?(He[Lt](we.start,fe,Tt),He[Lt](we.move,le,Tt),He[Lt](we.end,se,mt)):(He[Lt](Pe.start,fe,Tt),S[Lt](Pe.move,le,Tt),S[Lt](Pe.end,se,mt))}function ve(){const{scrollbar:Oe,$el:Ye}=t;t.params.scrollbar=dn(t,t.originalParams.scrollbar,t.params.scrollbar,{el:"swiper-scrollbar"});const we=t.params.scrollbar;if(!we.el)return;let Pe=b(we.el);t.params.uniqueNavElements&&"string"==typeof we.el&&Pe.length>1&&1===Ye.find(we.el).length&&(Pe=Ye.find(we.el)),Pe.addClass(t.isHorizontal()?we.horizontalClass:we.verticalClass);let je=Pe.find(`.${t.params.scrollbar.dragClass}`);0===je.length&&(je=b(`<div class="${t.params.scrollbar.dragClass}"></div>`),Pe.append(je)),Object.assign(Oe,{$el:Pe,el:Pe[0],$dragEl:je,dragEl:je[0]}),we.draggable&&t.params.scrollbar.el&&t.scrollbar.el&&ae("on"),Pe&&Pe[t.enabled?"removeClass":"addClass"](t.params.scrollbar.lockClass)}function Le(){const Oe=t.params.scrollbar,Ye=t.scrollbar.$el;Ye&&Ye.removeClass(t.isHorizontal()?Oe.horizontalClass:Oe.verticalClass),t.params.scrollbar.el&&t.scrollbar.el&&ae("off")}o({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),t.scrollbar={el:null,dragEl:null,$el:null,$dragEl:null},h("init",()=>{!1===t.params.scrollbar.enabled?Je():(ve(),Q(),F())}),h("update resize observerUpdate lock unlock",()=>{Q()}),h("setTranslate",()=>{F()}),h("setTransition",(Oe,Ye)=>{t.params.scrollbar.el&&t.scrollbar.el&&t.scrollbar.$dragEl.transition(Ye)}),h("enable disable",()=>{const{$el:Oe}=t.scrollbar;Oe&&Oe[t.enabled?"removeClass":"addClass"](t.params.scrollbar.lockClass)}),h("destroy",()=>{Le()});const Je=()=>{t.$el.addClass(t.params.scrollbar.scrollbarDisabledClass),t.scrollbar.$el&&t.scrollbar.$el.addClass(t.params.scrollbar.scrollbarDisabledClass),Le()};Object.assign(t.scrollbar,{enable:()=>{t.$el.removeClass(t.params.scrollbar.scrollbarDisabledClass),t.scrollbar.$el&&t.scrollbar.$el.removeClass(t.params.scrollbar.scrollbarDisabledClass),ve(),Q(),F()},disable:Je,updateSize:Q,setTranslate:F,init:ve,destroy:Le})},function(d){let{swiper:t,extendParams:o,on:h}=d;o({parallax:{enabled:!1}});const P=(A,$)=>{const{rtl:j}=t,G=b(A),V=j?-1:1,y=G.attr("data-swiper-parallax")||"0";let _=G.attr("data-swiper-parallax-x"),F=G.attr("data-swiper-parallax-y");const Q=G.attr("data-swiper-parallax-scale"),Y=G.attr("data-swiper-parallax-opacity");if(_||F?(_=_||"0",F=F||"0"):t.isHorizontal()?(_=y,F="0"):(F=y,_="0"),_=_.indexOf("%")>=0?parseInt(_,10)*$*V+"%":_*$*V+"px",F=F.indexOf("%")>=0?parseInt(F,10)*$+"%":F*$+"px",null!=Y){const Z=Y-(Y-1)*(1-Math.abs($));G[0].style.opacity=Z}if(null==Q)G.transform(`translate3d(${_}, ${F}, 0px)`);else{const Z=Q-(Q-1)*(1-Math.abs($));G.transform(`translate3d(${_}, ${F}, 0px) scale(${Z})`)}},S=()=>{const{$el:A,slides:$,progress:j,snapGrid:G}=t;A.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(V=>{P(V,j)}),$.each((V,y)=>{let _=V.progress;t.params.slidesPerGroup>1&&"auto"!==t.params.slidesPerView&&(_+=Math.ceil(y/2)-j*(G.length-1)),_=Math.min(Math.max(_,-1),1),b(V).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(F=>{P(F,_)})})};h("beforeInit",()=>{t.params.parallax.enabled&&(t.params.watchSlidesProgress=!0,t.originalParams.watchSlidesProgress=!0)}),h("init",()=>{t.params.parallax.enabled&&S()}),h("setTranslate",()=>{t.params.parallax.enabled&&S()}),h("setTransition",(A,$)=>{t.params.parallax.enabled&&function(j){void 0===j&&(j=t.params.speed);const{$el:G}=t;G.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(V=>{const y=b(V);let _=parseInt(y.attr("data-swiper-parallax-duration"),10)||j;0===j&&(_=0),y.transition(_)})}($)})},function(d){let{swiper:t,extendParams:o,on:h,emit:P}=d;const S=H();o({zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),t.zoom={enabled:!1};let A,$,j,G=1,V=!1;const y={$slideEl:void 0,slideWidth:void 0,slideHeight:void 0,$imageEl:void 0,$imageWrapEl:void 0,maxRatio:3},_={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},F={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0};let Q=1;function Y(He){return He.targetTouches.length<2?1:Math.sqrt((He.targetTouches[1].pageX-He.targetTouches[0].pageX)**2+(He.targetTouches[1].pageY-He.targetTouches[0].pageY)**2)}function Z(He){const mt=t.params.zoom;if($=!1,j=!1,!t.support.gestures){if("touchstart"!==He.type||"touchstart"===He.type&&He.targetTouches.length<2)return;$=!0,y.scaleStart=Y(He)}y.$slideEl&&y.$slideEl.length||(y.$slideEl=b(He.target).closest(`.${t.params.slideClass}`),0===y.$slideEl.length&&(y.$slideEl=t.slides.eq(t.activeIndex)),y.$imageEl=y.$slideEl.find(`.${mt.containerClass}`).eq(0).find("picture, img, svg, canvas, .swiper-zoom-target").eq(0),y.$imageWrapEl=y.$imageEl.parent(`.${mt.containerClass}`),y.maxRatio=y.$imageWrapEl.attr("data-swiper-zoom")||mt.maxRatio,0!==y.$imageWrapEl.length)?(y.$imageEl&&y.$imageEl.transition(0),V=!0):y.$imageEl=void 0}function fe(He){const Tt=t.support,mt=t.params.zoom,Lt=t.zoom;if(!Tt.gestures){if("touchmove"!==He.type||"touchmove"===He.type&&He.targetTouches.length<2)return;j=!0,y.scaleMove=Y(He)}y.$imageEl&&0!==y.$imageEl.length?(Lt.scale=Tt.gestures?He.scale*G:y.scaleMove/y.scaleStart*G,Lt.scale>y.maxRatio&&(Lt.scale=y.maxRatio-1+(Lt.scale-y.maxRatio+1)**.5),Lt.scale<mt.minRatio&&(Lt.scale=mt.minRatio+1-(mt.minRatio-Lt.scale+1)**.5),y.$imageEl.transform(`translate3d(0,0,0) scale(${Lt.scale})`)):"gesturechange"===He.type&&Z(He)}function le(He){const Lt=t.params.zoom,Vt=t.zoom;if(!t.support.gestures){if(!$||!j||"touchend"!==He.type||"touchend"===He.type&&He.changedTouches.length<2&&!t.device.android)return;$=!1,j=!1}y.$imageEl&&0!==y.$imageEl.length&&(Vt.scale=Math.max(Math.min(Vt.scale,y.maxRatio),Lt.minRatio),y.$imageEl.transition(t.params.speed).transform(`translate3d(0,0,0) scale(${Vt.scale})`),G=Vt.scale,V=!1,1===Vt.scale&&(y.$slideEl=void 0))}function se(He){const Tt=t.zoom;if(!y.$imageEl||0===y.$imageEl.length||(t.allowClick=!1,!_.isTouched||!y.$slideEl))return;_.isMoved||(_.width=y.$imageEl[0].offsetWidth,_.height=y.$imageEl[0].offsetHeight,_.startX=C(y.$imageWrapEl[0],"x")||0,_.startY=C(y.$imageWrapEl[0],"y")||0,y.slideWidth=y.$slideEl[0].offsetWidth,y.slideHeight=y.$slideEl[0].offsetHeight,y.$imageWrapEl.transition(0));const mt=_.width*Tt.scale,Lt=_.height*Tt.scale;if(!(mt<y.slideWidth&&Lt<y.slideHeight)){if(_.minX=Math.min(y.slideWidth/2-mt/2,0),_.maxX=-_.minX,_.minY=Math.min(y.slideHeight/2-Lt/2,0),_.maxY=-_.minY,_.touchesCurrent.x="touchmove"===He.type?He.targetTouches[0].pageX:He.pageX,_.touchesCurrent.y="touchmove"===He.type?He.targetTouches[0].pageY:He.pageY,!_.isMoved&&!V&&(t.isHorizontal()&&(Math.floor(_.minX)===Math.floor(_.startX)&&_.touchesCurrent.x<_.touchesStart.x||Math.floor(_.maxX)===Math.floor(_.startX)&&_.touchesCurrent.x>_.touchesStart.x)||!t.isHorizontal()&&(Math.floor(_.minY)===Math.floor(_.startY)&&_.touchesCurrent.y<_.touchesStart.y||Math.floor(_.maxY)===Math.floor(_.startY)&&_.touchesCurrent.y>_.touchesStart.y)))return void(_.isTouched=!1);He.cancelable&&He.preventDefault(),He.stopPropagation(),_.isMoved=!0,_.currentX=_.touchesCurrent.x-_.touchesStart.x+_.startX,_.currentY=_.touchesCurrent.y-_.touchesStart.y+_.startY,_.currentX<_.minX&&(_.currentX=_.minX+1-(_.minX-_.currentX+1)**.8),_.currentX>_.maxX&&(_.currentX=_.maxX-1+(_.currentX-_.maxX+1)**.8),_.currentY<_.minY&&(_.currentY=_.minY+1-(_.minY-_.currentY+1)**.8),_.currentY>_.maxY&&(_.currentY=_.maxY-1+(_.currentY-_.maxY+1)**.8),F.prevPositionX||(F.prevPositionX=_.touchesCurrent.x),F.prevPositionY||(F.prevPositionY=_.touchesCurrent.y),F.prevTime||(F.prevTime=Date.now()),F.x=(_.touchesCurrent.x-F.prevPositionX)/(Date.now()-F.prevTime)/2,F.y=(_.touchesCurrent.y-F.prevPositionY)/(Date.now()-F.prevTime)/2,Math.abs(_.touchesCurrent.x-F.prevPositionX)<2&&(F.x=0),Math.abs(_.touchesCurrent.y-F.prevPositionY)<2&&(F.y=0),F.prevPositionX=_.touchesCurrent.x,F.prevPositionY=_.touchesCurrent.y,F.prevTime=Date.now(),y.$imageWrapEl.transform(`translate3d(${_.currentX}px, ${_.currentY}px,0)`)}}function ae(){const He=t.zoom;y.$slideEl&&t.previousIndex!==t.activeIndex&&(y.$imageEl&&y.$imageEl.transform("translate3d(0,0,0) scale(1)"),y.$imageWrapEl&&y.$imageWrapEl.transform("translate3d(0,0,0)"),He.scale=1,G=1,y.$slideEl=void 0,y.$imageEl=void 0,y.$imageWrapEl=void 0)}function ve(He){const Tt=t.zoom,mt=t.params.zoom;if(y.$slideEl||(He&&He.target&&(y.$slideEl=b(He.target).closest(`.${t.params.slideClass}`)),y.$slideEl||(y.$slideEl=t.params.virtual&&t.params.virtual.enabled&&t.virtual?t.$wrapperEl.children(`.${t.params.slideActiveClass}`):t.slides.eq(t.activeIndex)),y.$imageEl=y.$slideEl.find(`.${mt.containerClass}`).eq(0).find("picture, img, svg, canvas, .swiper-zoom-target").eq(0),y.$imageWrapEl=y.$imageEl.parent(`.${mt.containerClass}`)),!y.$imageEl||0===y.$imageEl.length||!y.$imageWrapEl||0===y.$imageWrapEl.length)return;let Lt,Vt,$r,vr,Br,xr,lr,er,Vr,Gi,fi,ii,Ur,kr,si,mi,gi,vi;t.params.cssMode&&(t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.touchAction="none"),y.$slideEl.addClass(`${mt.zoomedSlideClass}`),void 0===_.touchesStart.x&&He?(Lt="touchend"===He.type?He.changedTouches[0].pageX:He.pageX,Vt="touchend"===He.type?He.changedTouches[0].pageY:He.pageY):(Lt=_.touchesStart.x,Vt=_.touchesStart.y),Tt.scale=y.$imageWrapEl.attr("data-swiper-zoom")||mt.maxRatio,G=y.$imageWrapEl.attr("data-swiper-zoom")||mt.maxRatio,He?(gi=y.$slideEl[0].offsetWidth,vi=y.$slideEl[0].offsetHeight,$r=y.$slideEl.offset().left+S.scrollX,vr=y.$slideEl.offset().top+S.scrollY,Br=$r+gi/2-Lt,xr=vr+vi/2-Vt,Vr=y.$imageEl[0].offsetWidth,Gi=y.$imageEl[0].offsetHeight,fi=Vr*Tt.scale,ii=Gi*Tt.scale,Ur=Math.min(gi/2-fi/2,0),kr=Math.min(vi/2-ii/2,0),si=-Ur,mi=-kr,lr=Br*Tt.scale,er=xr*Tt.scale,lr<Ur&&(lr=Ur),lr>si&&(lr=si),er<kr&&(er=kr),er>mi&&(er=mi)):(lr=0,er=0),y.$imageWrapEl.transition(300).transform(`translate3d(${lr}px, ${er}px,0)`),y.$imageEl.transition(300).transform(`translate3d(0,0,0) scale(${Tt.scale})`)}function Le(){const He=t.zoom,Tt=t.params.zoom;y.$slideEl||(y.$slideEl=t.params.virtual&&t.params.virtual.enabled&&t.virtual?t.$wrapperEl.children(`.${t.params.slideActiveClass}`):t.slides.eq(t.activeIndex),y.$imageEl=y.$slideEl.find(`.${Tt.containerClass}`).eq(0).find("picture, img, svg, canvas, .swiper-zoom-target").eq(0),y.$imageWrapEl=y.$imageEl.parent(`.${Tt.containerClass}`)),y.$imageEl&&0!==y.$imageEl.length&&y.$imageWrapEl&&0!==y.$imageWrapEl.length&&(t.params.cssMode&&(t.wrapperEl.style.overflow="",t.wrapperEl.style.touchAction=""),He.scale=1,G=1,y.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"),y.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"),y.$slideEl.removeClass(`${Tt.zoomedSlideClass}`),y.$slideEl=void 0)}function Je(He){const Tt=t.zoom;Tt.scale&&1!==Tt.scale?Le():ve(He)}function Oe(){const He=t.support;return{passiveListener:!("touchstart"!==t.touchEvents.start||!He.passiveListener||!t.params.passiveListeners)&&{passive:!0,capture:!1},activeListenerWithCapture:!He.passiveListener||{passive:!1,capture:!0}}}function Ye(){return`.${t.params.slideClass}`}function we(He){const{passiveListener:Tt}=Oe(),mt=Ye();t.$wrapperEl[He]("gesturestart",mt,Z,Tt),t.$wrapperEl[He]("gesturechange",mt,fe,Tt),t.$wrapperEl[He]("gestureend",mt,le,Tt)}function Pe(){A||(A=!0,we("on"))}function je(){A&&(A=!1,we("off"))}function qe(){const He=t.zoom;if(He.enabled)return;He.enabled=!0;const Tt=t.support,{passiveListener:mt,activeListenerWithCapture:Lt}=Oe(),Vt=Ye();Tt.gestures?(t.$wrapperEl.on(t.touchEvents.start,Pe,mt),t.$wrapperEl.on(t.touchEvents.end,je,mt)):"touchstart"===t.touchEvents.start&&(t.$wrapperEl.on(t.touchEvents.start,Vt,Z,mt),t.$wrapperEl.on(t.touchEvents.move,Vt,fe,Lt),t.$wrapperEl.on(t.touchEvents.end,Vt,le,mt),t.touchEvents.cancel&&t.$wrapperEl.on(t.touchEvents.cancel,Vt,le,mt)),t.$wrapperEl.on(t.touchEvents.move,`.${t.params.zoom.containerClass}`,se,Lt)}function Nt(){const He=t.zoom;if(!He.enabled)return;const Tt=t.support;He.enabled=!1;const{passiveListener:mt,activeListenerWithCapture:Lt}=Oe(),Vt=Ye();Tt.gestures?(t.$wrapperEl.off(t.touchEvents.start,Pe,mt),t.$wrapperEl.off(t.touchEvents.end,je,mt)):"touchstart"===t.touchEvents.start&&(t.$wrapperEl.off(t.touchEvents.start,Vt,Z,mt),t.$wrapperEl.off(t.touchEvents.move,Vt,fe,Lt),t.$wrapperEl.off(t.touchEvents.end,Vt,le,mt),t.touchEvents.cancel&&t.$wrapperEl.off(t.touchEvents.cancel,Vt,le,mt)),t.$wrapperEl.off(t.touchEvents.move,`.${t.params.zoom.containerClass}`,se,Lt)}Object.defineProperty(t.zoom,"scale",{get:()=>Q,set(He){Q!==He&&P("zoomChange",He,y.$imageEl?y.$imageEl[0]:void 0,y.$slideEl?y.$slideEl[0]:void 0),Q=He}}),h("init",()=>{t.params.zoom.enabled&&qe()}),h("destroy",()=>{Nt()}),h("touchStart",(He,Tt)=>{var mt;t.zoom.enabled&&(mt=Tt,y.$imageEl&&0!==y.$imageEl.length&&(_.isTouched||(t.device.android&&mt.cancelable&&mt.preventDefault(),_.isTouched=!0,_.touchesStart.x="touchstart"===mt.type?mt.targetTouches[0].pageX:mt.pageX,_.touchesStart.y="touchstart"===mt.type?mt.targetTouches[0].pageY:mt.pageY)))}),h("touchEnd",(He,Tt)=>{t.zoom.enabled&&function(){const mt=t.zoom;if(!y.$imageEl||0===y.$imageEl.length)return;if(!_.isTouched||!_.isMoved)return _.isTouched=!1,void(_.isMoved=!1);_.isTouched=!1,_.isMoved=!1;let Lt=300,Vt=300;const vr=_.currentX+F.x*Lt,xr=_.currentY+F.y*Vt;0!==F.x&&(Lt=Math.abs((vr-_.currentX)/F.x)),0!==F.y&&(Vt=Math.abs((xr-_.currentY)/F.y));const lr=Math.max(Lt,Vt);_.currentX=vr,_.currentY=xr;const Vr=_.height*mt.scale;_.minX=Math.min(y.slideWidth/2-_.width*mt.scale/2,0),_.maxX=-_.minX,_.minY=Math.min(y.slideHeight/2-Vr/2,0),_.maxY=-_.minY,_.currentX=Math.max(Math.min(_.currentX,_.maxX),_.minX),_.currentY=Math.max(Math.min(_.currentY,_.maxY),_.minY),y.$imageWrapEl.transition(lr).transform(`translate3d(${_.currentX}px, ${_.currentY}px,0)`)}()}),h("doubleTap",(He,Tt)=>{!t.animating&&t.params.zoom.enabled&&t.zoom.enabled&&t.params.zoom.toggle&&Je(Tt)}),h("transitionEnd",()=>{t.zoom.enabled&&t.params.zoom.enabled&&ae()}),h("slideChange",()=>{t.zoom.enabled&&t.params.zoom.enabled&&t.params.cssMode&&ae()}),Object.assign(t.zoom,{enable:qe,disable:Nt,in:ve,out:Le,toggle:Je})},function(d){let{swiper:t,extendParams:o,on:h,emit:P}=d;o({lazy:{checkInView:!1,enabled:!1,loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,scrollingElement:"",elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"}}),t.lazy={};let S=!1,A=!1;function $(V,y){void 0===y&&(y=!0);const _=t.params.lazy;if(void 0===V||0===t.slides.length)return;const F=t.virtual&&t.params.virtual.enabled?t.$wrapperEl.children(`.${t.params.slideClass}[data-swiper-slide-index="${V}"]`):t.slides.eq(V),Q=F.find(`.${_.elementClass}:not(.${_.loadedClass}):not(.${_.loadingClass})`);!F.hasClass(_.elementClass)||F.hasClass(_.loadedClass)||F.hasClass(_.loadingClass)||Q.push(F[0]),0!==Q.length&&Q.each(Y=>{const Z=b(Y);Z.addClass(_.loadingClass);const fe=Z.attr("data-background"),le=Z.attr("data-src"),se=Z.attr("data-srcset"),ae=Z.attr("data-sizes"),ve=Z.parent("picture");t.loadImage(Z[0],le||fe,se,ae,!1,()=>{if(null!=t&&t&&(!t||t.params)&&!t.destroyed){if(fe?(Z.css("background-image",`url("${fe}")`),Z.removeAttr("data-background")):(se&&(Z.attr("srcset",se),Z.removeAttr("data-srcset")),ae&&(Z.attr("sizes",ae),Z.removeAttr("data-sizes")),ve.length&&ve.children("source").each(Le=>{const Je=b(Le);Je.attr("data-srcset")&&(Je.attr("srcset",Je.attr("data-srcset")),Je.removeAttr("data-srcset"))}),le&&(Z.attr("src",le),Z.removeAttr("data-src"))),Z.addClass(_.loadedClass).removeClass(_.loadingClass),F.find(`.${_.preloaderClass}`).remove(),t.params.loop&&y){const Le=F.attr("data-swiper-slide-index");F.hasClass(t.params.slideDuplicateClass)?$(t.$wrapperEl.children(`[data-swiper-slide-index="${Le}"]:not(.${t.params.slideDuplicateClass})`).index(),!1):$(t.$wrapperEl.children(`.${t.params.slideDuplicateClass}[data-swiper-slide-index="${Le}"]`).index(),!1)}P("lazyImageReady",F[0],Z[0]),t.params.autoHeight&&t.updateAutoHeight()}}),P("lazyImageLoad",F[0],Z[0])})}function j(){const{$wrapperEl:V,params:y,slides:_,activeIndex:F}=t,Q=t.virtual&&y.virtual.enabled,Y=y.lazy;let Z=y.slidesPerView;function fe(se){if(Q){if(V.children(`.${y.slideClass}[data-swiper-slide-index="${se}"]`).length)return!0}else if(_[se])return!0;return!1}function le(se){return Q?b(se).attr("data-swiper-slide-index"):b(se).index()}if("auto"===Z&&(Z=0),A||(A=!0),t.params.watchSlidesProgress)V.children(`.${y.slideVisibleClass}`).each(se=>{$(Q?b(se).attr("data-swiper-slide-index"):b(se).index())});else if(Z>1)for(let se=F;se<F+Z;se+=1)fe(se)&&$(se);else $(F);if(Y.loadPrevNext)if(Z>1||Y.loadPrevNextAmount&&Y.loadPrevNextAmount>1){const se=Y.loadPrevNextAmount,ae=Math.ceil(Z),ve=Math.min(F+ae+Math.max(se,ae),_.length),Le=Math.max(F-Math.max(ae,se),0);for(let Je=F+ae;Je<ve;Je+=1)fe(Je)&&$(Je);for(let Je=Le;Je<F;Je+=1)fe(Je)&&$(Je)}else{const se=V.children(`.${y.slideNextClass}`);se.length>0&&$(le(se));const ae=V.children(`.${y.slidePrevClass}`);ae.length>0&&$(le(ae))}}function G(){const V=H();if(!t||t.destroyed)return;const y=b(t.params.lazy.scrollingElement?t.params.lazy.scrollingElement:V),_=y[0]===V,F=_?V.innerWidth:y[0].offsetWidth,Q=_?V.innerHeight:y[0].offsetHeight,Y=t.$el.offset(),{rtlTranslate:Z}=t;let fe=!1;Z&&(Y.left-=t.$el[0].scrollLeft);const le=[[Y.left,Y.top],[Y.left+t.width,Y.top],[Y.left,Y.top+t.height],[Y.left+t.width,Y.top+t.height]];for(let ae=0;ae<le.length;ae+=1){const ve=le[ae];if(ve[0]>=0&&ve[0]<=F&&ve[1]>=0&&ve[1]<=Q){if(0===ve[0]&&0===ve[1])continue;fe=!0}}const se=!("touchstart"!==t.touchEvents.start||!t.support.passiveListener||!t.params.passiveListeners)&&{passive:!0,capture:!1};fe?(j(),y.off("scroll",G,se)):S||(S=!0,y.on("scroll",G,se))}h("beforeInit",()=>{t.params.lazy.enabled&&t.params.preloadImages&&(t.params.preloadImages=!1)}),h("init",()=>{t.params.lazy.enabled&&(t.params.lazy.checkInView?G():j())}),h("scroll",()=>{t.params.freeMode&&t.params.freeMode.enabled&&!t.params.freeMode.sticky&&j()}),h("scrollbarDragMove resize _freeModeNoMomentumRelease",()=>{t.params.lazy.enabled&&(t.params.lazy.checkInView?G():j())}),h("transitionStart",()=>{t.params.lazy.enabled&&(t.params.lazy.loadOnTransitionStart||!t.params.lazy.loadOnTransitionStart&&!A)&&(t.params.lazy.checkInView?G():j())}),h("transitionEnd",()=>{t.params.lazy.enabled&&!t.params.lazy.loadOnTransitionStart&&(t.params.lazy.checkInView?G():j())}),h("slideChange",()=>{const{lazy:V,cssMode:y,watchSlidesProgress:_,touchReleaseOnEdges:F,resistanceRatio:Q}=t.params;V.enabled&&(y||_&&(F||0===Q))&&j()}),h("destroy",()=>{t.$el&&t.$el.find(`.${t.params.lazy.loadingClass}`).removeClass(t.params.lazy.loadingClass)}),Object.assign(t.lazy,{load:j,loadInSlide:$})},function(d){let{swiper:t,extendParams:o,on:h}=d;function P(A,$){const j=function(){let y,_,F;return(Q,Y)=>{for(_=-1,y=Q.length;y-_>1;)F=y+_>>1,Q[F]<=Y?_=F:y=F;return y}}();let G,V;return this.x=A,this.y=$,this.lastIndex=A.length-1,this.interpolate=function(y){return y?(V=j(this.x,y),G=V-1,(y-this.x[G])*(this.y[V]-this.y[G])/(this.x[V]-this.x[G])+this.y[G]):0},this}function S(){t.controller.control&&t.controller.spline&&(t.controller.spline=void 0,delete t.controller.spline)}o({controller:{control:void 0,inverse:!1,by:"slide"}}),t.controller={control:void 0},h("beforeInit",()=>{t.controller.control=t.params.controller.control}),h("update",()=>{S()}),h("resize",()=>{S()}),h("observerUpdate",()=>{S()}),h("setTranslate",(A,$,j)=>{t.controller.control&&t.controller.setTranslate($,j)}),h("setTransition",(A,$,j)=>{t.controller.control&&t.controller.setTransition($,j)}),Object.assign(t.controller,{setTranslate:function(A,$){const j=t.controller.control;let G,V;const y=t.constructor;function _(F){const Q=t.rtlTranslate?-t.translate:t.translate;var Y;"slide"===t.params.controller.by&&(Y=F,t.controller.spline||(t.controller.spline=t.params.loop?new P(t.slidesGrid,Y.slidesGrid):new P(t.snapGrid,Y.snapGrid)),V=-t.controller.spline.interpolate(-Q)),V&&"container"!==t.params.controller.by||(G=(F.maxTranslate()-F.minTranslate())/(t.maxTranslate()-t.minTranslate()),V=(Q-t.minTranslate())*G+F.minTranslate()),t.params.controller.inverse&&(V=F.maxTranslate()-V),F.updateProgress(V),F.setTranslate(V,t),F.updateActiveIndex(),F.updateSlidesClasses()}if(Array.isArray(j))for(let F=0;F<j.length;F+=1)j[F]!==$&&j[F]instanceof y&&_(j[F]);else j instanceof y&&$!==j&&_(j)},setTransition:function(A,$){const j=t.constructor,G=t.controller.control;let V;function y(_){_.setTransition(A,t),0!==A&&(_.transitionStart(),_.params.autoHeight&&W(()=>{_.updateAutoHeight()}),_.$wrapperEl.transitionEnd(()=>{G&&(_.params.loop&&"slide"===t.params.controller.by&&_.loopFix(),_.transitionEnd())}))}if(Array.isArray(G))for(V=0;V<G.length;V+=1)G[V]!==$&&G[V]instanceof j&&y(G[V]);else G instanceof j&&$!==G&&y(G)}})},function(d){let{swiper:t,extendParams:o,on:h}=d;o({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}});let P=null;function S(ae){const ve=P;0!==ve.length&&(ve.html(""),ve.html(ae))}function A(ae){ae.attr("tabIndex","0")}function $(ae){ae.attr("tabIndex","-1")}function j(ae,ve){ae.attr("role",ve)}function G(ae,ve){ae.attr("aria-roledescription",ve)}function V(ae,ve){ae.attr("aria-label",ve)}function y(ae){ae.attr("aria-disabled",!0)}function _(ae){ae.attr("aria-disabled",!1)}function F(ae){if(13!==ae.keyCode&&32!==ae.keyCode)return;const ve=t.params.a11y,Le=b(ae.target);t.navigation&&t.navigation.$nextEl&&Le.is(t.navigation.$nextEl)&&(t.isEnd&&!t.params.loop||t.slideNext(),S(t.isEnd?ve.lastSlideMessage:ve.nextSlideMessage)),t.navigation&&t.navigation.$prevEl&&Le.is(t.navigation.$prevEl)&&(t.isBeginning&&!t.params.loop||t.slidePrev(),S(t.isBeginning?ve.firstSlideMessage:ve.prevSlideMessage)),t.pagination&&Le.is(_n(t.params.pagination.bulletClass))&&Le[0].click()}function Q(){return t.pagination&&t.pagination.bullets&&t.pagination.bullets.length}function Y(){return Q()&&t.params.pagination.clickable}const Z=(ae,ve,Le)=>{A(ae),"BUTTON"!==ae[0].tagName&&(j(ae,"button"),ae.on("keydown",F)),V(ae,Le),ae.attr("aria-controls",ve)},fe=ae=>{const ve=ae.target.closest(`.${t.params.slideClass}`);if(!ve||!t.slides.includes(ve))return;const Le=t.slides.indexOf(ve)===t.activeIndex,Je=t.params.watchSlidesProgress&&t.visibleSlides&&t.visibleSlides.includes(ve);Le||Je||t.slideTo(t.slides.indexOf(ve),0)},le=()=>{const ae=t.params.a11y;ae.itemRoleDescriptionMessage&&G(b(t.slides),ae.itemRoleDescriptionMessage),j(b(t.slides),ae.slideRole);const ve=t.params.loop?t.slides.filter(Le=>!Le.classList.contains(t.params.slideDuplicateClass)).length:t.slides.length;ae.slideLabelMessage&&t.slides.each((Le,Je)=>{const Oe=b(Le),Ye=t.params.loop?parseInt(Oe.attr("data-swiper-slide-index"),10):Je;V(Oe,ae.slideLabelMessage.replace(/\{\{index\}\}/,Ye+1).replace(/\{\{slidesLength\}\}/,ve))})};h("beforeInit",()=>{P=b(`<span class="${t.params.a11y.notificationClass}" aria-live="assertive" aria-atomic="true"></span>`)}),h("afterInit",()=>{t.params.a11y.enabled&&(()=>{const ae=t.params.a11y;t.$el.append(P);const ve=t.$el;ae.containerRoleDescriptionMessage&&G(ve,ae.containerRoleDescriptionMessage),ae.containerMessage&&V(ve,ae.containerMessage);const Le=t.$wrapperEl,Je=ae.id||Le.attr("id")||`swiper-wrapper-${Oe=16,void 0===Oe&&(Oe=16),"x".repeat(Oe).replace(/x/g,()=>Math.round(16*Math.random()).toString(16))}`;var Oe;const Ye=t.params.autoplay&&t.params.autoplay.enabled?"off":"polite";let Pe,je;Le.attr("id",Je),Le.attr("aria-live",Ye),le(),t.navigation&&t.navigation.$nextEl&&(Pe=t.navigation.$nextEl),t.navigation&&t.navigation.$prevEl&&(je=t.navigation.$prevEl),Pe&&Pe.length&&Z(Pe,Je,ae.nextSlideMessage),je&&je.length&&Z(je,Je,ae.prevSlideMessage),Y()&&t.pagination.$el.on("keydown",_n(t.params.pagination.bulletClass),F),t.$el.on("focus",fe,!0)})()}),h("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{t.params.a11y.enabled&&le()}),h("fromEdge toEdge afterInit lock unlock",()=>{t.params.a11y.enabled&&function(){if(t.params.loop||t.params.rewind||!t.navigation)return;const{$nextEl:ae,$prevEl:ve}=t.navigation;ve&&ve.length>0&&(t.isBeginning?(y(ve),$(ve)):(_(ve),A(ve))),ae&&ae.length>0&&(t.isEnd?(y(ae),$(ae)):(_(ae),A(ae)))}()}),h("paginationUpdate",()=>{t.params.a11y.enabled&&function(){const ae=t.params.a11y;Q()&&t.pagination.bullets.each(ve=>{const Le=b(ve);t.params.pagination.clickable&&(A(Le),t.params.pagination.renderBullet||(j(Le,"button"),V(Le,ae.paginationBulletMessage.replace(/\{\{index\}\}/,Le.index()+1)))),Le.is(`.${t.params.pagination.bulletActiveClass}`)?Le.attr("aria-current","true"):Le.removeAttr("aria-current")})}()}),h("destroy",()=>{t.params.a11y.enabled&&function(){let ae,ve;P&&P.length>0&&P.remove(),t.navigation&&t.navigation.$nextEl&&(ae=t.navigation.$nextEl),t.navigation&&t.navigation.$prevEl&&(ve=t.navigation.$prevEl),ae&&ae.off("keydown",F),ve&&ve.off("keydown",F),Y()&&t.pagination.$el.off("keydown",_n(t.params.pagination.bulletClass),F),t.$el.off("focus",fe,!0)}()})},function(d){let{swiper:t,extendParams:o,on:h}=d;o({history:{enabled:!1,root:"",replaceState:!1,key:"slides",keepQuery:!1}});let P=!1,S={};const A=y=>y.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),$=y=>{const _=H();let F;F=y?new URL(y):_.location;const Q=F.pathname.slice(1).split("/").filter(Z=>""!==Z),Y=Q.length;return{key:Q[Y-2],value:Q[Y-1]}},j=(y,_)=>{const F=H();if(!P||!t.params.history.enabled)return;let Q;Q=t.params.url?new URL(t.params.url):F.location;const Y=t.slides.eq(_);let Z=A(Y.attr("data-history"));if(t.params.history.root.length>0){let le=t.params.history.root;"/"===le[le.length-1]&&(le=le.slice(0,le.length-1)),Z=`${le}/${y}/${Z}`}else Q.pathname.includes(y)||(Z=`${y}/${Z}`);t.params.history.keepQuery&&(Z+=Q.search);const fe=F.history.state;fe&&fe.value===Z||(t.params.history.replaceState?F.history.replaceState({value:Z},null,Z):F.history.pushState({value:Z},null,Z))},G=(y,_,F)=>{if(_)for(let Q=0,Y=t.slides.length;Q<Y;Q+=1){const Z=t.slides.eq(Q);if(A(Z.attr("data-history"))===_&&!Z.hasClass(t.params.slideDuplicateClass)){const fe=Z.index();t.slideTo(fe,y,F)}}else t.slideTo(0,y,F)},V=()=>{S=$(t.params.url),G(t.params.speed,S.value,!1)};h("init",()=>{t.params.history.enabled&&(()=>{const y=H();if(t.params.history){if(!y.history||!y.history.pushState)return t.params.history.enabled=!1,void(t.params.hashNavigation.enabled=!0);P=!0,S=$(t.params.url),(S.key||S.value)&&(G(0,S.value,t.params.runCallbacksOnInit),t.params.history.replaceState||y.addEventListener("popstate",V))}})()}),h("destroy",()=>{t.params.history.enabled&&(()=>{const y=H();t.params.history.replaceState||y.removeEventListener("popstate",V)})()}),h("transitionEnd _freeModeNoMomentumRelease",()=>{P&&j(t.params.history.key,t.activeIndex)}),h("slideChange",()=>{P&&t.params.cssMode&&j(t.params.history.key,t.activeIndex)})},function(d){let{swiper:t,extendParams:o,emit:h,on:P}=d,S=!1;const A=et(),$=H();o({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1}});const j=()=>{h("hashChange");const V=A.location.hash.replace("#","");if(V!==t.slides.eq(t.activeIndex).attr("data-hash")){const y=t.$wrapperEl.children(`.${t.params.slideClass}[data-hash="${V}"]`).index();if(void 0===y)return;t.slideTo(y)}},G=()=>{if(S&&t.params.hashNavigation.enabled)if(t.params.hashNavigation.replaceState&&$.history&&$.history.replaceState)$.history.replaceState(null,null,`#${t.slides.eq(t.activeIndex).attr("data-hash")}`||""),h("hashSet");else{const V=t.slides.eq(t.activeIndex),y=V.attr("data-hash")||V.attr("data-history");A.location.hash=y||"",h("hashSet")}};P("init",()=>{t.params.hashNavigation.enabled&&(()=>{if(!t.params.hashNavigation.enabled||t.params.history&&t.params.history.enabled)return;S=!0;const V=A.location.hash.replace("#","");if(V)for(let _=0,F=t.slides.length;_<F;_+=1){const Q=t.slides.eq(_);if((Q.attr("data-hash")||Q.attr("data-history"))===V&&!Q.hasClass(t.params.slideDuplicateClass)){const Y=Q.index();t.slideTo(Y,0,t.params.runCallbacksOnInit,!0)}}t.params.hashNavigation.watchState&&b($).on("hashchange",j)})()}),P("destroy",()=>{t.params.hashNavigation.enabled&&t.params.hashNavigation.watchState&&b($).off("hashchange",j)}),P("transitionEnd _freeModeNoMomentumRelease",()=>{S&&G()}),P("slideChange",()=>{S&&t.params.cssMode&&G()})},function(d){let t,{swiper:o,extendParams:h,on:P,emit:S}=d;function A(){const Q=o.slides.eq(o.activeIndex);let Y=o.params.autoplay.delay;Q.attr("data-swiper-autoplay")&&(Y=Q.attr("data-swiper-autoplay")||o.params.autoplay.delay),clearTimeout(t),t=W(()=>{let Z;o.params.autoplay.reverseDirection?o.params.loop?(o.loopFix(),Z=o.slidePrev(o.params.speed,!0,!0),S("autoplay")):o.isBeginning?o.params.autoplay.stopOnLastSlide?j():(Z=o.slideTo(o.slides.length-1,o.params.speed,!0,!0),S("autoplay")):(Z=o.slidePrev(o.params.speed,!0,!0),S("autoplay")):o.params.loop?(o.loopFix(),Z=o.slideNext(o.params.speed,!0,!0),S("autoplay")):o.isEnd?o.params.autoplay.stopOnLastSlide?j():(Z=o.slideTo(0,o.params.speed,!0,!0),S("autoplay")):(Z=o.slideNext(o.params.speed,!0,!0),S("autoplay")),(o.params.cssMode&&o.autoplay.running||!1===Z)&&A()},Y)}function $(){return void 0===t&&!o.autoplay.running&&(o.autoplay.running=!0,S("autoplayStart"),A(),!0)}function j(){return!!o.autoplay.running&&void 0!==t&&(t&&(clearTimeout(t),t=void 0),o.autoplay.running=!1,S("autoplayStop"),!0)}function G(Q){o.autoplay.running&&(o.autoplay.paused||(t&&clearTimeout(t),o.autoplay.paused=!0,0!==Q&&o.params.autoplay.waitForTransition?["transitionend","webkitTransitionEnd"].forEach(Y=>{o.$wrapperEl[0].addEventListener(Y,y)}):(o.autoplay.paused=!1,A())))}function V(){const Q=et();"hidden"===Q.visibilityState&&o.autoplay.running&&G(),"visible"===Q.visibilityState&&o.autoplay.paused&&(A(),o.autoplay.paused=!1)}function y(Q){o&&!o.destroyed&&o.$wrapperEl&&Q.target===o.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach(Y=>{o.$wrapperEl[0].removeEventListener(Y,y)}),o.autoplay.paused=!1,o.autoplay.running?A():j())}function _(){o.params.autoplay.disableOnInteraction?j():(S("autoplayPause"),G()),["transitionend","webkitTransitionEnd"].forEach(Q=>{o.$wrapperEl[0].removeEventListener(Q,y)})}function F(){o.params.autoplay.disableOnInteraction||(o.autoplay.paused=!1,S("autoplayResume"),A())}o.autoplay={running:!1,paused:!1},h({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}}),P("init",()=>{o.params.autoplay.enabled&&($(),et().addEventListener("visibilitychange",V),o.params.autoplay.pauseOnMouseEnter&&(o.$el.on("mouseenter",_),o.$el.on("mouseleave",F)))}),P("beforeTransitionStart",(Q,Y,Z)=>{o.autoplay.running&&(Z||!o.params.autoplay.disableOnInteraction?o.autoplay.pause(Y):j())}),P("sliderFirstMove",()=>{o.autoplay.running&&(o.params.autoplay.disableOnInteraction?j():G())}),P("touchEnd",()=>{o.params.cssMode&&o.autoplay.paused&&!o.params.autoplay.disableOnInteraction&&A()}),P("destroy",()=>{o.$el.off("mouseenter",_),o.$el.off("mouseleave",F),o.autoplay.running&&j(),et().removeEventListener("visibilitychange",V)}),Object.assign(o.autoplay,{pause:G,run:A,start:$,stop:j})},function(d){let{swiper:t,extendParams:o,on:h}=d;o({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let P=!1,S=!1;function A(){const G=t.thumbs.swiper;if(!G||G.destroyed)return;const V=G.clickedIndex,y=G.clickedSlide;if(y&&b(y).hasClass(t.params.thumbs.slideThumbActiveClass)||null==V)return;let _;if(_=G.params.loop?parseInt(b(G.clickedSlide).attr("data-swiper-slide-index"),10):V,t.params.loop){let F=t.activeIndex;t.slides.eq(F).hasClass(t.params.slideDuplicateClass)&&(t.loopFix(),t._clientLeft=t.$wrapperEl[0].clientLeft,F=t.activeIndex);const Q=t.slides.eq(F).prevAll(`[data-swiper-slide-index="${_}"]`).eq(0).index(),Y=t.slides.eq(F).nextAll(`[data-swiper-slide-index="${_}"]`).eq(0).index();_=void 0===Q?Y:void 0===Y?Q:Y-F<F-Q?Y:Q}t.slideTo(_)}function $(){const{thumbs:G}=t.params;if(P)return!1;P=!0;const V=t.constructor;if(G.swiper instanceof V)t.thumbs.swiper=G.swiper,Object.assign(t.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(t.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1});else if(R(G.swiper)){const y=Object.assign({},G.swiper);Object.assign(y,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper=new V(y),S=!0}return t.thumbs.swiper.$el.addClass(t.params.thumbs.thumbsContainerClass),t.thumbs.swiper.on("tap",A),!0}function j(G){const V=t.thumbs.swiper;if(!V||V.destroyed)return;const y="auto"===V.params.slidesPerView?V.slidesPerViewDynamic():V.params.slidesPerView,_=t.params.thumbs.autoScrollOffset,F=_&&!V.params.loop;if(t.realIndex!==V.realIndex||F){let Z,fe,le=V.activeIndex;if(V.params.loop){V.slides.eq(le).hasClass(V.params.slideDuplicateClass)&&(V.loopFix(),V._clientLeft=V.$wrapperEl[0].clientLeft,le=V.activeIndex);const se=V.slides.eq(le).prevAll(`[data-swiper-slide-index="${t.realIndex}"]`).eq(0).index(),ae=V.slides.eq(le).nextAll(`[data-swiper-slide-index="${t.realIndex}"]`).eq(0).index();Z=void 0===se?ae:void 0===ae?se:ae-le==le-se?V.params.slidesPerGroup>1?ae:le:ae-le<le-se?ae:se,fe=t.activeIndex>t.previousIndex?"next":"prev"}else Z=t.realIndex,fe=Z>t.previousIndex?"next":"prev";F&&(Z+="next"===fe?_:-1*_),V.visibleSlidesIndexes&&V.visibleSlidesIndexes.indexOf(Z)<0&&(V.params.centeredSlides&&(Z=Z>le?Z-Math.floor(y/2)+1:Z+Math.floor(y/2)-1),V.slideTo(Z,G?0:void 0))}let Q=1;const Y=t.params.thumbs.slideThumbActiveClass;if(t.params.slidesPerView>1&&!t.params.centeredSlides&&(Q=t.params.slidesPerView),t.params.thumbs.multipleActiveThumbs||(Q=1),Q=Math.floor(Q),V.slides.removeClass(Y),V.params.loop||V.params.virtual&&V.params.virtual.enabled)for(let Z=0;Z<Q;Z+=1)V.$wrapperEl.children(`[data-swiper-slide-index="${t.realIndex+Z}"]`).addClass(Y);else for(let Z=0;Z<Q;Z+=1)V.slides.eq(t.realIndex+Z).addClass(Y)}t.thumbs={swiper:null},h("beforeInit",()=>{const{thumbs:G}=t.params;G&&G.swiper&&($(),j(!0))}),h("slideChange update resize observerUpdate",()=>{j()}),h("setTransition",(G,V)=>{const y=t.thumbs.swiper;y&&!y.destroyed&&y.setTransition(V)}),h("beforeDestroy",()=>{const G=t.thumbs.swiper;G&&!G.destroyed&&S&&G.destroy()}),Object.assign(t.thumbs,{init:$,update:j})},function(d){let{swiper:t,extendParams:o,emit:h,once:P}=d;o({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}}),Object.assign(t,{freeMode:{onTouchStart:function(){const S=t.getTranslate();t.setTranslate(S),t.setTransition(0),t.touchEventsData.velocities.length=0,t.freeMode.onTouchEnd({currentPos:t.rtl?t.translate:-t.translate})},onTouchMove:function(){const{touchEventsData:S,touches:A}=t;0===S.velocities.length&&S.velocities.push({position:A[t.isHorizontal()?"startX":"startY"],time:S.touchStartTime}),S.velocities.push({position:A[t.isHorizontal()?"currentX":"currentY"],time:v()})},onTouchEnd:function(S){let{currentPos:A}=S;const{params:$,$wrapperEl:j,rtlTranslate:G,snapGrid:V,touchEventsData:y}=t,_=v()-y.touchStartTime;if(A<-t.minTranslate())t.slideTo(t.activeIndex);else if(A>-t.maxTranslate())t.slideTo(t.slides.length<V.length?V.length-1:t.slides.length-1);else{if($.freeMode.momentum){if(y.velocities.length>1){const ae=y.velocities.pop(),ve=y.velocities.pop(),Je=ae.time-ve.time;t.velocity=(ae.position-ve.position)/Je,t.velocity/=2,Math.abs(t.velocity)<$.freeMode.minimumVelocity&&(t.velocity=0),(Je>150||v()-ae.time>300)&&(t.velocity=0)}else t.velocity=0;t.velocity*=$.freeMode.momentumVelocityRatio,y.velocities.length=0;let F=1e3*$.freeMode.momentumRatio,Y=t.translate+t.velocity*F;G&&(Y=-Y);let Z,fe=!1;const le=20*Math.abs(t.velocity)*$.freeMode.momentumBounceRatio;let se;if(Y<t.maxTranslate())$.freeMode.momentumBounce?(Y+t.maxTranslate()<-le&&(Y=t.maxTranslate()-le),Z=t.maxTranslate(),fe=!0,y.allowMomentumBounce=!0):Y=t.maxTranslate(),$.loop&&$.centeredSlides&&(se=!0);else if(Y>t.minTranslate())$.freeMode.momentumBounce?(Y-t.minTranslate()>le&&(Y=t.minTranslate()+le),Z=t.minTranslate(),fe=!0,y.allowMomentumBounce=!0):Y=t.minTranslate(),$.loop&&$.centeredSlides&&(se=!0);else if($.freeMode.sticky){let ae;for(let ve=0;ve<V.length;ve+=1)if(V[ve]>-Y){ae=ve;break}Y=Math.abs(V[ae]-Y)<Math.abs(V[ae-1]-Y)||"next"===t.swipeDirection?V[ae]:V[ae-1],Y=-Y}if(se&&P("transitionEnd",()=>{t.loopFix()}),0!==t.velocity){if(F=Math.abs(G?(-Y-t.translate)/t.velocity:(Y-t.translate)/t.velocity),$.freeMode.sticky){const ae=Math.abs((G?-Y:Y)-t.translate),ve=t.slidesSizesGrid[t.activeIndex];F=ae<ve?$.speed:ae<2*ve?1.5*$.speed:2.5*$.speed}}else if($.freeMode.sticky)return void t.slideToClosest();$.freeMode.momentumBounce&&fe?(t.updateProgress(Z),t.setTransition(F),t.setTranslate(Y),t.transitionStart(!0,t.swipeDirection),t.animating=!0,j.transitionEnd(()=>{t&&!t.destroyed&&y.allowMomentumBounce&&(h("momentumBounce"),t.setTransition($.speed),setTimeout(()=>{t.setTranslate(Z),j.transitionEnd(()=>{t&&!t.destroyed&&t.transitionEnd()})},0))})):t.velocity?(h("_freeModeNoMomentumRelease"),t.updateProgress(Y),t.setTransition(F),t.setTranslate(Y),t.transitionStart(!0,t.swipeDirection),t.animating||(t.animating=!0,j.transitionEnd(()=>{t&&!t.destroyed&&t.transitionEnd()}))):t.updateProgress(Y),t.updateActiveIndex(),t.updateSlidesClasses()}else{if($.freeMode.sticky)return void t.slideToClosest();$.freeMode&&h("_freeModeNoMomentumRelease")}(!$.freeMode.momentum||_>=$.longSwipesMs)&&(t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses())}}}})},function(d){let t,o,h,{swiper:P,extendParams:S}=d;S({grid:{rows:1,fill:"column"}}),P.grid={initSlides:A=>{const{slidesPerView:$}=P.params,{rows:j,fill:G}=P.params.grid;o=t/j,h=Math.floor(A/j),t=Math.floor(A/j)===A/j?A:Math.ceil(A/j)*j,"auto"!==$&&"row"===G&&(t=Math.max(t,$*j))},updateSlide:(A,$,j,G)=>{const{slidesPerGroup:V,spaceBetween:y}=P.params,{rows:_,fill:F}=P.params.grid;let Q,Y,Z;if("row"===F&&V>1){const fe=Math.floor(A/(V*_)),le=A-_*V*fe,se=0===fe?V:Math.min(Math.ceil((j-fe*_*V)/_),V);Z=Math.floor(le/se),Y=le-Z*se+fe*V,Q=Y+Z*t/_,$.css({"-webkit-order":Q,order:Q})}else"column"===F?(Y=Math.floor(A/_),Z=A-Y*_,(Y>h||Y===h&&Z===_-1)&&(Z+=1,Z>=_&&(Z=0,Y+=1))):(Z=Math.floor(A/o),Y=A-Z*o);$.css(G("margin-top"),0!==Z?y&&`${y}px`:"")},updateWrapperSize:(A,$,j)=>{const{spaceBetween:G,centeredSlides:V,roundLengths:y}=P.params,{rows:_}=P.params.grid;if(P.virtualSize=(A+G)*t,P.virtualSize=Math.ceil(P.virtualSize/_)-G,P.$wrapperEl.css({[j("width")]:`${P.virtualSize+G}px`}),V){$.splice(0,$.length);const F=[];for(let Q=0;Q<$.length;Q+=1){let Y=$[Q];y&&(Y=Math.floor(Y)),$[Q]<P.virtualSize+$[0]&&F.push(Y)}$.push(...F)}}}},function(d){let{swiper:t}=d;Object.assign(t,{appendSlide:jr.bind(t),prependSlide:en.bind(t),addSlide:ri.bind(t),removeSlide:Qe.bind(t),removeAllSlides:lt.bind(t)})},function(d){let{swiper:t,extendParams:o,on:h}=d;o({fadeEffect:{crossFade:!1,transformEl:null}}),ft({effect:"fade",swiper:t,on:h,setTranslate:()=>{const{slides:P}=t,S=t.params.fadeEffect;for(let A=0;A<P.length;A+=1){const $=t.slides.eq(A);let j=-$[0].swiperSlideOffset;t.params.virtualTranslate||(j-=t.translate);let G=0;t.isHorizontal()||(G=j,j=0);const V=t.params.fadeEffect.crossFade?Math.max(1-Math.abs($[0].progress),0):1+Math.min(Math.max($[0].progress,-1),0);Wt(S,$).css({opacity:V}).transform(`translate3d(${j}px, ${G}px, 0px)`)}},setTransition:P=>{const{transformEl:S}=t.params.fadeEffect;(S?t.slides.find(S):t.slides).transition(P),an({swiper:t,duration:P,transformEl:S,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})},function(d){let{swiper:t,extendParams:o,on:h}=d;o({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}});const P=(S,A,$)=>{let j=S.find($?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),G=S.find($?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");0===j.length&&(j=b(`<div class="swiper-slide-shadow-${$?"left":"top"}"></div>`),S.append(j)),0===G.length&&(G=b(`<div class="swiper-slide-shadow-${$?"right":"bottom"}"></div>`),S.append(G)),j.length&&(j[0].style.opacity=Math.max(-A,0)),G.length&&(G[0].style.opacity=Math.max(A,0))};ft({effect:"cube",swiper:t,on:h,setTranslate:()=>{const{$el:S,$wrapperEl:A,slides:$,width:j,height:G,rtlTranslate:V,size:y,browser:_}=t,F=t.params.cubeEffect,Q=t.isHorizontal(),Y=t.virtual&&t.params.virtual.enabled;let Z,fe=0;F.shadow&&(Q?(Z=A.find(".swiper-cube-shadow"),0===Z.length&&(Z=b('<div class="swiper-cube-shadow"></div>'),A.append(Z)),Z.css({height:`${j}px`})):(Z=S.find(".swiper-cube-shadow"),0===Z.length&&(Z=b('<div class="swiper-cube-shadow"></div>'),S.append(Z))));for(let se=0;se<$.length;se+=1){const ae=$.eq(se);let ve=se;Y&&(ve=parseInt(ae.attr("data-swiper-slide-index"),10));let Le=90*ve,Je=Math.floor(Le/360);V&&(Le=-Le,Je=Math.floor(-Le/360));const Oe=Math.max(Math.min(ae[0].progress,1),-1);let Ye=0,we=0,Pe=0;ve%4==0?(Ye=4*-Je*y,Pe=0):(ve-1)%4==0?(Ye=0,Pe=4*-Je*y):(ve-2)%4==0?(Ye=y+4*Je*y,Pe=y):(ve-3)%4==0&&(Ye=-y,Pe=3*y+4*y*Je),V&&(Ye=-Ye),Q||(we=Ye,Ye=0);const je=`rotateX(${Q?0:-Le}deg) rotateY(${Q?Le:0}deg) translate3d(${Ye}px, ${we}px, ${Pe}px)`;Oe<=1&&Oe>-1&&(fe=90*ve+90*Oe,V&&(fe=90*-ve-90*Oe)),ae.transform(je),F.slideShadows&&P(ae,Oe,Q)}if(A.css({"-webkit-transform-origin":`50% 50% -${y/2}px`,"transform-origin":`50% 50% -${y/2}px`}),F.shadow)if(Q)Z.transform(`translate3d(0px, ${j/2+F.shadowOffset}px, ${-j/2}px) rotateX(90deg) rotateZ(0deg) scale(${F.shadowScale})`);else{const se=Math.abs(fe)-90*Math.floor(Math.abs(fe)/90),ae=1.5-(Math.sin(2*se*Math.PI/360)/2+Math.cos(2*se*Math.PI/360)/2),Le=F.shadowScale/ae;Z.transform(`scale3d(${F.shadowScale}, 1, ${Le}) translate3d(0px, ${G/2+F.shadowOffset}px, ${-G/2/Le}px) rotateX(-90deg)`)}const le=_.isSafari||_.isWebView?-y/2:0;A.transform(`translate3d(0px,0,${le}px) rotateX(${t.isHorizontal()?0:fe}deg) rotateY(${t.isHorizontal()?-fe:0}deg)`),A[0].style.setProperty("--swiper-cube-translate-z",`${le}px`)},setTransition:S=>{const{$el:A,slides:$}=t;$.transition(S).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(S),t.params.cubeEffect.shadow&&!t.isHorizontal()&&A.find(".swiper-cube-shadow").transition(S)},recreateShadows:()=>{const S=t.isHorizontal();t.slides.each(A=>{const $=Math.max(Math.min(A.progress,1),-1);P(b(A),$,S)})},getEffectParams:()=>t.params.cubeEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})},function(d){let{swiper:t,extendParams:o,on:h}=d;o({flipEffect:{slideShadows:!0,limitRotation:!0,transformEl:null}});const P=(S,A,$)=>{let j=t.isHorizontal()?S.find(".swiper-slide-shadow-left"):S.find(".swiper-slide-shadow-top"),G=t.isHorizontal()?S.find(".swiper-slide-shadow-right"):S.find(".swiper-slide-shadow-bottom");0===j.length&&(j=Xe($,S,t.isHorizontal()?"left":"top")),0===G.length&&(G=Xe($,S,t.isHorizontal()?"right":"bottom")),j.length&&(j[0].style.opacity=Math.max(-A,0)),G.length&&(G[0].style.opacity=Math.max(A,0))};ft({effect:"flip",swiper:t,on:h,setTranslate:()=>{const{slides:S,rtlTranslate:A}=t,$=t.params.flipEffect;for(let j=0;j<S.length;j+=1){const G=S.eq(j);let V=G[0].progress;t.params.flipEffect.limitRotation&&(V=Math.max(Math.min(G[0].progress,1),-1));const y=G[0].swiperSlideOffset;let _=-180*V,F=0,Q=t.params.cssMode?-y-t.translate:-y,Y=0;t.isHorizontal()?A&&(_=-_):(Y=Q,Q=0,F=-_,_=0),G[0].style.zIndex=-Math.abs(Math.round(V))+S.length,$.slideShadows&&P(G,V,$);const Z=`translate3d(${Q}px, ${Y}px, 0px) rotateX(${F}deg) rotateY(${_}deg)`;Wt($,G).transform(Z)}},setTransition:S=>{const{transformEl:A}=t.params.flipEffect;(A?t.slides.find(A):t.slides).transition(S).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(S),an({swiper:t,duration:S,transformEl:A})},recreateShadows:()=>{const S=t.params.flipEffect;t.slides.each(A=>{const $=b(A);let j=$[0].progress;t.params.flipEffect.limitRotation&&(j=Math.max(Math.min(A.progress,1),-1)),P($,j,S)})},getEffectParams:()=>t.params.flipEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})},function(d){let{swiper:t,extendParams:o,on:h}=d;o({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0,transformEl:null}}),ft({effect:"coverflow",swiper:t,on:h,setTranslate:()=>{const{width:P,height:S,slides:A,slidesSizesGrid:$}=t,j=t.params.coverflowEffect,G=t.isHorizontal(),V=t.translate,y=G?P/2-V:S/2-V,_=G?j.rotate:-j.rotate,F=j.depth;for(let Q=0,Y=A.length;Q<Y;Q+=1){const Z=A.eq(Q),fe=$[Q],le=(y-Z[0].swiperSlideOffset-fe/2)/fe,se="function"==typeof j.modifier?j.modifier(le):le*j.modifier;let ae=G?_*se:0,ve=G?0:_*se,Le=-F*Math.abs(se),Je=j.stretch;"string"==typeof Je&&-1!==Je.indexOf("%")&&(Je=parseFloat(j.stretch)/100*fe);let Oe=G?0:Je*se,Ye=G?Je*se:0,we=1-(1-j.scale)*Math.abs(se);Math.abs(Ye)<.001&&(Ye=0),Math.abs(Oe)<.001&&(Oe=0),Math.abs(Le)<.001&&(Le=0),Math.abs(ae)<.001&&(ae=0),Math.abs(ve)<.001&&(ve=0),Math.abs(we)<.001&&(we=0);const Pe=`translate3d(${Ye}px,${Oe}px,${Le}px)  rotateX(${ve}deg) rotateY(${ae}deg) scale(${we})`;if(Wt(j,Z).transform(Pe),Z[0].style.zIndex=1-Math.abs(Math.round(se)),j.slideShadows){let je=Z.find(G?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),qe=Z.find(G?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");0===je.length&&(je=Xe(j,Z,G?"left":"top")),0===qe.length&&(qe=Xe(j,Z,G?"right":"bottom")),je.length&&(je[0].style.opacity=se>0?se:0),qe.length&&(qe[0].style.opacity=-se>0?-se:0)}}},setTransition:P=>{const{transformEl:S}=t.params.coverflowEffect;(S?t.slides.find(S):t.slides).transition(P).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(P)},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})},function(d){let{swiper:t,extendParams:o,on:h}=d;o({creativeEffect:{transformEl:null,limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});const P=S=>"string"==typeof S?S:`${S}px`;ft({effect:"creative",swiper:t,on:h,setTranslate:()=>{const{slides:S,$wrapperEl:A,slidesSizesGrid:$}=t,j=t.params.creativeEffect,{progressMultiplier:G}=j,V=t.params.centeredSlides;V&&A.transform(`translateX(calc(50% - ${$[0]/2-t.params.slidesOffsetBefore||0}px))`);for(let y=0;y<S.length;y+=1){const _=S.eq(y),F=_[0].progress,Q=Math.min(Math.max(_[0].progress,-j.limitProgress),j.limitProgress);let Y=Q;V||(Y=Math.min(Math.max(_[0].originalProgress,-j.limitProgress),j.limitProgress));const Z=_[0].swiperSlideOffset,fe=[t.params.cssMode?-Z-t.translate:-Z,0,0],le=[0,0,0];let se=!1;t.isHorizontal()||(fe[1]=fe[0],fe[0]=0);let ae={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};Q<0?(ae=j.next,se=!0):Q>0&&(ae=j.prev,se=!0),fe.forEach((Pe,je)=>{fe[je]=`calc(${Pe}px + (${P(ae.translate[je])} * ${Math.abs(Q*G)}))`}),le.forEach((Pe,je)=>{le[je]=ae.rotate[je]*Math.abs(Q*G)}),_[0].style.zIndex=-Math.abs(Math.round(F))+S.length;const ve=fe.join(", "),Oe=Y<0?1+(1-ae.opacity)*Y*G:1-(1-ae.opacity)*Y*G,Ye=`translate3d(${ve}) rotateX(${le[0]}deg) rotateY(${le[1]}deg) rotateZ(${le[2]}deg) ${Y<0?`scale(${1+(1-ae.scale)*Y*G})`:`scale(${1-(1-ae.scale)*Y*G})`}`;if(se&&ae.shadow||!se){let Pe=_.children(".swiper-slide-shadow");0===Pe.length&&ae.shadow&&(Pe=Xe(j,_)),Pe.length&&(Pe[0].style.opacity=Math.min(Math.max(Math.abs(j.shadowPerProgress?Q*(1/j.limitProgress):Q),0),1))}const we=Wt(j,_);we.transform(Ye).css({opacity:Oe}),ae.origin&&we.css("transform-origin",ae.origin)}},setTransition:S=>{const{transformEl:A}=t.params.creativeEffect;(A?t.slides.find(A):t.slides).transition(S).find(".swiper-slide-shadow").transition(S),an({swiper:t,duration:S,transformEl:A,allSlides:!0})},perspective:()=>t.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!t.params.cssMode})})},function(d){let{swiper:t,extendParams:o,on:h}=d;o({cardsEffect:{slideShadows:!0,transformEl:null,rotate:!0}}),ft({effect:"cards",swiper:t,on:h,setTranslate:()=>{const{slides:P,activeIndex:S}=t,A=t.params.cardsEffect,{startTranslate:$,isTouched:j}=t.touchEventsData,G=t.translate;for(let V=0;V<P.length;V+=1){const y=P.eq(V),_=y[0].progress,F=Math.min(Math.max(_,-4),4);let Q=y[0].swiperSlideOffset;t.params.centeredSlides&&!t.params.cssMode&&t.$wrapperEl.transform(`translateX(${t.minTranslate()}px)`),t.params.centeredSlides&&t.params.cssMode&&(Q-=P[0].swiperSlideOffset);let Y=t.params.cssMode?-Q-t.translate:-Q,Z=0;const fe=-100*Math.abs(F);let le=1,se=-2*F,ae=8-.75*Math.abs(F);const ve=t.virtual&&t.params.virtual.enabled?t.virtual.from+V:V,Je=(ve===S||ve===S+1)&&F<0&&F>-1&&(j||t.params.cssMode)&&G>$;if((ve===S||ve===S-1)&&F>0&&F<1&&(j||t.params.cssMode)&&G<$||Je){const we=(1-Math.abs((Math.abs(F)-.5)/.5))**.5;se+=-28*F*we,le+=-.5*we,ae+=96*we,Z=-25*we*Math.abs(F)+"%"}if(Y=F<0?`calc(${Y}px + (${ae*Math.abs(F)}%))`:F>0?`calc(${Y}px + (-${ae*Math.abs(F)}%))`:`${Y}px`,!t.isHorizontal()){const we=Z;Z=Y,Y=we}const Ye=`\n        translate3d(${Y}, ${Z}, ${fe}px)\n        rotateZ(${A.rotate?se:0}deg)\n        scale(${F<0?""+(1+(1-le)*F):""+(1-(1-le)*F)})\n      `;if(A.slideShadows){let we=y.find(".swiper-slide-shadow");0===we.length&&(we=Xe(A,y)),we.length&&(we[0].style.opacity=Math.min(Math.max((Math.abs(F)-.5)/.5,0),1))}y[0].style.zIndex=-Math.abs(Math.round(_))+P.length,Wt(A,y).transform(Ye)}},setTransition:P=>{const{transformEl:S}=t.params.cardsEffect;(S?t.slides.find(S):t.slides).transition(P).find(".swiper-slide-shadow").transition(P),an({swiper:t,duration:P,transformEl:S})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!t.params.cssMode})})}]),En}),function(We,Et){"function"==typeof define&&define.amd?define(["jquery"],Et):"object"==typeof exports?module.exports=Et(require("jquery")):We.Dropify=Et(We.jQuery)}(this,function(We){function Et(et,q){window.File&&window.FileReader&&window.FileList&&window.Blob&&(this.element=et,this.input=We(this.element),this.wrapper=null,this.preview=null,this.filenameWrapper=null,this.settings=We.extend(!0,{defaultFile:"",maxFileSize:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,showRemove:!0,showLoader:!0,showErrors:!0,errorTimeout:3e3,errorsPosition:"overlay",imgFileExtensions:["png","jpg","jpeg","gif","bmp"],maxFileSizePreview:"5M",allowedFormats:["portrait","square","landscape"],allowedFileExtensions:["*"],messages:{default:"Drag and drop a file here or click",replace:"Drag and drop or click to replace",remove:"Remove",error:"Ooops, something wrong appended."},error:{fileSize:"The file size is too big ({{ value }} max).",minWidth:"The image width is too small ({{ value }}}px min).",maxWidth:"The image width is too big ({{ value }}}px max).",minHeight:"The image height is too small ({{ value }}}px min).",maxHeight:"The image height is too big ({{ value }}px max).",imageFormat:"The image format is not allowed ({{ value }} only).",fileExtension:"The file is not allowed ({{ value }} only)."},tpl:{wrap:'<div class="dropify-wrapper"></div>',loader:'<div class="dropify-loader"></div>',message:'<div class="dropify-message"><span class="file-icon" /> <p>{{ default }}</p></div>',preview:'<div class="dropify-preview"><span class="dropify-render"></span><div class="dropify-infos"><div class="dropify-infos-inner"><p class="dropify-infos-message">{{ replace }}</p></div></div></div>',filename:'<p class="dropify-filename"><span class="file-icon"></span> <span class="dropify-filename-inner"></span></p>',clearButton:'<button type="button" class="dropify-clear">{{ remove }}</button>',errorLine:'<p class="dropify-error">{{ error }}</p>',errorsContainer:'<div class="dropify-errors-container"><ul></ul></div>'}},q,this.input.data()),this.errorsEvent=We.Event("dropify.errors"),this.isDisabled=!1,this.isInit=!1,this.file={object:null,name:null,size:null,width:null,height:null,type:null},Array.isArray(this.settings.allowedFormats)||(this.settings.allowedFormats=this.settings.allowedFormats.split(" ")),Array.isArray(this.settings.allowedFileExtensions)||(this.settings.allowedFileExtensions=this.settings.allowedFileExtensions.split(" ")),this.onChange=this.onChange.bind(this),this.clearElement=this.clearElement.bind(this),this.onFileReady=this.onFileReady.bind(this),this.translateMessages(),this.createElements(),this.setContainerSize(),this.errorsEvent.errors=[],this.input.on("change",this.onChange))}var St="dropify";return Et.prototype.onChange=function(){this.resetPreview(),this.readFile(this.element)},Et.prototype.createElements=function(){this.isInit=!0,this.input.wrap(We(this.settings.tpl.wrap)),this.wrapper=this.input.parent();var et=We(this.settings.tpl.message).insertBefore(this.input);We(this.settings.tpl.errorLine).appendTo(et),!0===this.isTouchDevice()&&this.wrapper.addClass("touch-fallback"),this.input.attr("disabled")&&(this.isDisabled=!0,this.wrapper.addClass("disabled")),!0===this.settings.showLoader&&(this.loader=We(this.settings.tpl.loader),this.loader.insertBefore(this.input)),this.preview=We(this.settings.tpl.preview),this.preview.insertAfter(this.input),!1===this.isDisabled&&!0===this.settings.showRemove&&(this.clearButton=We(this.settings.tpl.clearButton),this.clearButton.insertAfter(this.input),this.clearButton.on("click",this.clearElement)),this.filenameWrapper=We(this.settings.tpl.filename),this.filenameWrapper.prependTo(this.preview.find(".dropify-infos-inner")),!0===this.settings.showErrors&&(this.errorsContainer=We(this.settings.tpl.errorsContainer),"outside"===this.settings.errorsPosition?this.errorsContainer.insertAfter(this.wrapper):this.errorsContainer.insertBefore(this.input));var q=this.settings.defaultFile||"";""!==q.trim()&&(this.file.name=this.cleanFilename(q),this.setPreview(this.isImage(),q))},Et.prototype.readFile=function(et){if(et.files&&et.files[0]){var q=new FileReader,H=new Image,p=et.files[0],E=null,f=this,b=We.Event("dropify.fileReady");this.clearErrors(),this.showLoader(),this.setFileInformations(p),this.errorsEvent.errors=[],this.checkFileSize(),this.isFileExtensionAllowed(),this.isImage()&&this.file.size<this.sizeToByte(this.settings.maxFileSizePreview)?(this.input.on("dropify.fileReady",this.onFileReady),q.readAsDataURL(p),q.onload=function(N){E=N.target.result,H.src=N.target.result,H.onload=function(){f.setFileDimensions(this.width,this.height),f.validateImage(),f.input.trigger(b,[!0,E])}}.bind(this)):this.onFileReady(!1)}},Et.prototype.onFileReady=function(et,q,H){if(this.input.off("dropify.fileReady",this.onFileReady),0===this.errorsEvent.errors.length)this.setPreview(q,H);else{this.input.trigger(this.errorsEvent,[this]);for(var p=this.errorsEvent.errors.length-1;p>=0;p--){var f=this.errorsEvent.errors[p].namespace.split(".").pop();this.showError(f)}if(typeof this.errorsContainer<"u"){this.errorsContainer.addClass("visible");var b=this.errorsContainer;setTimeout(function(){b.removeClass("visible")},this.settings.errorTimeout)}this.wrapper.addClass("has-error"),this.resetPreview(),this.clearElement()}},Et.prototype.setFileInformations=function(et){this.file.object=et,this.file.name=et.name,this.file.size=et.size,this.file.type=et.type,this.file.width=null,this.file.height=null},Et.prototype.setFileDimensions=function(et,q){this.file.width=et,this.file.height=q},Et.prototype.setPreview=function(et,q){this.wrapper.removeClass("has-error").addClass("has-preview"),this.filenameWrapper.children(".dropify-filename-inner").html(this.file.name);var H=this.preview.children(".dropify-render");if(this.hideLoader(),!0===et){var p=We("<img />").attr("src",q);this.settings.height&&p.css("max-height",this.settings.height),p.appendTo(H)}else We("<i />").attr("class","dropify-font-file").appendTo(H),We('<span class="dropify-extension" />').html(this.getFileType()).appendTo(H);this.preview.fadeIn()},Et.prototype.resetPreview=function(){this.wrapper.removeClass("has-preview");var et=this.preview.children(".dropify-render");et.find(".dropify-extension").remove(),et.find("i").remove(),et.find("img").remove(),this.preview.hide(),this.hideLoader()},Et.prototype.cleanFilename=function(et){var q=et.split("\\").pop();return q==et&&(q=et.split("/").pop()),""!==et?q:""},Et.prototype.clearElement=function(){if(0===this.errorsEvent.errors.length){var et=We.Event("dropify.beforeClear");this.input.trigger(et,[this]),!1!==et.result&&(this.resetFile(),this.input.val(""),this.resetPreview(),this.input.trigger(We.Event("dropify.afterClear"),[this]))}else this.resetFile(),this.input.val(""),this.resetPreview()},Et.prototype.resetFile=function(){this.file.object=null,this.file.name=null,this.file.size=null,this.file.type=null,this.file.width=null,this.file.height=null},Et.prototype.setContainerSize=function(){this.settings.height&&this.wrapper.height(this.settings.height)},Et.prototype.isTouchDevice=function(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0},Et.prototype.getFileType=function(){return this.file.name.split(".").pop().toLowerCase()},Et.prototype.isImage=function(){return"-1"!=this.settings.imgFileExtensions.indexOf(this.getFileType())},Et.prototype.isFileExtensionAllowed=function(){return"-1"!=this.settings.allowedFileExtensions.indexOf("*")||"-1"!=this.settings.allowedFileExtensions.indexOf(this.getFileType())||(this.pushError("fileExtension"),!1)},Et.prototype.translateMessages=function(){for(var et in this.settings.tpl)for(var q in this.settings.messages)this.settings.tpl[et]=this.settings.tpl[et].replace("{{ "+q+" }}",this.settings.messages[q])},Et.prototype.checkFileSize=function(){0!==this.sizeToByte(this.settings.maxFileSize)&&this.file.size>this.sizeToByte(this.settings.maxFileSize)&&this.pushError("fileSize")},Et.prototype.sizeToByte=function(et){var q=0;if(0!==et){var H=et.slice(-1).toUpperCase();"K"===H?q=1024*parseFloat(et):"M"===H?q=1048576*parseFloat(et):"G"===H&&(q=1073741824*parseFloat(et))}return q},Et.prototype.validateImage=function(){0!==this.settings.minWidth&&this.settings.minWidth>=this.file.width&&this.pushError("minWidth"),0!==this.settings.maxWidth&&this.settings.maxWidth<=this.file.width&&this.pushError("maxWidth"),0!==this.settings.minHeight&&this.settings.minHeight>=this.file.height&&this.pushError("minHeight"),0!==this.settings.maxHeight&&this.settings.maxHeight<=this.file.height&&this.pushError("maxHeight"),"-1"==this.settings.allowedFormats.indexOf(this.getImageFormat())&&this.pushError("imageFormat")},Et.prototype.getImageFormat=function(){return this.file.width==this.file.height?"square":this.file.width<this.file.height?"portrait":this.file.width>this.file.height?"landscape":void 0},Et.prototype.pushError=function(et){var q=We.Event("dropify.error."+et);this.errorsEvent.errors.push(q),this.input.trigger(q,[this])},Et.prototype.clearErrors=function(){typeof this.errorsContainer<"u"&&this.errorsContainer.children("ul").html("")},Et.prototype.showError=function(et){typeof this.errorsContainer<"u"&&this.errorsContainer.children("ul").append("<li>"+this.getError(et)+"</li>")},Et.prototype.getError=function(et){var q=this.settings.error[et],H="";return"fileSize"===et?H=this.settings.maxFileSize:"minWidth"===et?H=this.settings.minWidth:"maxWidth"===et?H=this.settings.maxWidth:"minHeight"===et?H=this.settings.minHeight:"maxHeight"===et?H=this.settings.maxHeight:"imageFormat"===et?H=this.settings.allowedFormats.join(", "):"fileExtension"===et&&(H=this.settings.allowedFileExtensions.join(", ")),""!==H?q.replace("{{ value }}",H):q},Et.prototype.showLoader=function(){typeof this.loader<"u"&&this.loader.show()},Et.prototype.hideLoader=function(){typeof this.loader<"u"&&this.loader.hide()},Et.prototype.destroy=function(){this.input.siblings().remove(),this.input.unwrap(),this.isInit=!1},Et.prototype.init=function(){this.createElements()},Et.prototype.isDropified=function(){return this.isInit},We.fn[St]=function(et){return this.each(function(){We.data(this,St)||We.data(this,St,new Et(this,et))}),this},Et}),function(We){"use strict";var Et='<?xml version="1.0" encoding="utf-8"?><svg version="1.1"xmlns="http://www.w3.org/2000/svg"viewBox="0 12.705 512 486.59"x="0px" y="0px"xml:space="preserve"><polygon points="256.814,12.705 317.205,198.566 512.631,198.566 354.529,313.435 414.918,499.295 256.814,384.427 98.713,499.295 159.102,313.435 1,198.566 196.426,198.566 "/></svg>',St={starWidth:"32px",normalFill:"gray",ratedFill:"#f39c12",numStars:5,maxValue:5,precision:1,rating:0,fullStar:!1,halfStar:!1,readOnly:!1,spacing:"0px",rtl:!1,multiColor:null,onInit:null,onChange:null,onSet:null,starSvg:null};function q(W,v,C){return W===v?W=v:W===C&&(W=C),W}function H(W){return void 0!==W}var p=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i,E=function(W){if(!p.test(W))return null;var v=p.exec(W);return{r:parseInt(v[1],16),g:parseInt(v[2],16),b:parseInt(v[3],16)}};function f(W,v,C){var R=C/100*(v-W);return 1===(R=Math.round(W+R).toString(16)).length&&(R="0"+R),R}function b(W,v){this.node=W.get(0);var C=this;W.empty().addClass("jq-ry-container");var R,ge,ee,re,pe,Me,ze=We("<div/>").addClass("jq-ry-group-wrapper").appendTo(W),Be=We("<div/>").addClass("jq-ry-normal-group").addClass("jq-ry-group").appendTo(ze),g=We("<div/>").addClass("jq-ry-rated-group").addClass("jq-ry-group").appendTo(ze),ct=v.rating,mn=!1;function be(Qe){H(Qe)||(Qe=v.rating);var lt=(ct=Qe)/R,ft=lt*ee;1<lt&&(ft+=(Math.ceil(lt)-1)*pe),At(v.ratedFill),(ft=v.rtl?100-ft:ft)<0?ft=0:100<ft&&(ft=100),g.css("width",ft+"%")}function it(){ee=ge/(Me=ge*v.numStars+re*(v.numStars-1))*100,pe=re/Me*100,W.width(Me),be()}function st(Qe){var lt=v.starWidth=Qe;return ge=window.parseFloat(v.starWidth.replace("px","")),Be.find("svg").attr({width:v.starWidth,height:lt}),g.find("svg").attr({width:v.starWidth,height:lt}),it(),W}function yt(Qe){return v.spacing=Qe,re=parseFloat(v.spacing.replace("px","")),Be.find("svg:not(:first-child)").css({"margin-left":Qe}),g.find("svg:not(:first-child)").css({"margin-left":Qe}),it(),W}function xt(Qe){return v.normalFill=Qe,(v.rtl?g:Be).find("svg").attr({fill:v.normalFill}),W}var Ht=v.ratedFill;function At(Qe){if(v.multiColor){var ft=v.multiColor||{};Qe=function(Wt,an,Xe){if(!Wt||!an)return null;Xe=H(Xe)?Xe:0,Wt=E(Wt),an=E(an);var fn=f(Wt.r,an.r,Xe),d=f(Wt.b,an.b,Xe);return"#"+fn+f(Wt.g,an.g,Xe)+d}(ft.startColor||"#c0392b",ft.endColor||"#f1c40f",(ct-0)/v.maxValue*100)}else Ht=Qe;return v.ratedFill=Qe,(v.rtl?Be:g).find("svg").attr({fill:v.ratedFill}),W}function sn(Qe){v.rtl=Qe=!!Qe,xt(v.normalFill),be()}function Kt(Qe){At((v.multiColor=Qe)||Ht)}function $n(Qe){v.numStars=Qe,R=v.maxValue/v.numStars,Be.empty(),g.empty();for(var lt=0;lt<v.numStars;lt++)Be.append(We(v.starSvg||Et)),g.append(We(v.starSvg||Et));return st(v.starWidth),xt(v.normalFill),yt(v.spacing),be(),W}function ir(Qe){return v.maxValue=Qe,R=v.maxValue/v.numStars,v.rating>Qe&&gr(Qe),be(),W}function cr(Qe){return v.precision=Qe,gr(v.rating),W}function fr(Qe){return v.halfStar=Qe,W}function qn(Qe){return v.fullStar=Qe,W}function Lr(Qe){var lt,ft,Wt,an,Xe,fn=Be.offset().left,d=fn+Be.width(),t=v.maxValue,o=Qe.pageX,h=0;if(o<fn)h=0;else if(d<o)h=t;else{var P=(o-fn)/(d-fn);if(0<re)for(var S=P*=100;0<S;)ee<S?(h+=R,S-=ee+pe):(h+=S/ee*R,S=0);else h=P*v.maxValue;ft=(lt=h)%R,Wt=R/2,an=v.halfStar,((Xe=v.fullStar)||an)&&(Xe||an&&Wt<ft?lt+=R-ft:(lt-=ft,0<ft&&(lt+=Wt))),h=lt}return v.rtl&&(h=t-h),parseFloat(h)}function mr(Qe){return v.readOnly=Qe,W.attr("readonly",!0),ri(),Qe||(W.removeAttr("readonly"),W.on("mousemove",Vn).on("mouseenter",Vn).on("mouseleave",En).on("click",dn).on("rateyo.init",_n).on("rateyo.change",jr).on("rateyo.set",en)),W}function gr(Qe){var lt=Qe,ft=v.maxValue;return"string"==typeof lt&&("%"===lt[lt.length-1]&&(lt=lt.substr(0,lt.length-1),ir(ft=100)),lt=parseFloat(lt)),function(Wt,an,Xe){if(!(0<=Wt&&Wt<=Xe))throw Error("Invalid Rating, expected value between 0 and "+Xe)}(lt,0,ft),lt=parseFloat(lt.toFixed(v.precision)),q(parseFloat(lt),0,ft),v.rating=lt,be(),mn&&W.trigger("rateyo.set",{rating:lt}),W}function _r(Qe){return v.onInit=Qe,W}function Fn(Qe){return v.onSet=Qe,W}function Jn(Qe){return v.onChange=Qe,W}function Vn(Qe){var lt=Lr(Qe).toFixed(v.precision),ft=v.maxValue;be(lt=q(parseFloat(lt),0,ft)),W.trigger("rateyo.change",{rating:lt})}function En(){var Qe,lt;lt=!1,Qe=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(Qe)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(Qe.substr(0,4)))&&(lt=!0),lt||(be(),W.trigger("rateyo.change",{rating:v.rating}))}function dn(Qe){var lt=Lr(Qe).toFixed(v.precision);lt=parseFloat(lt),C.rating(lt)}function _n(Qe,lt){v.onInit&&"function"==typeof v.onInit&&v.onInit.apply(this,[lt.rating,C])}function jr(Qe,lt){v.onChange&&"function"==typeof v.onChange&&v.onChange.apply(this,[lt.rating,C])}function en(Qe,lt){v.onSet&&"function"==typeof v.onSet&&v.onSet.apply(this,[lt.rating,C])}function ri(){W.off("mousemove",Vn).off("mouseenter",Vn).off("mouseleave",En).off("click",dn).off("rateyo.init",_n).off("rateyo.change",jr).off("rateyo.set",en)}this.rating=function(Qe){return H(Qe)?(gr(Qe),W):v.rating},this.destroy=function(){var Qe,lt;return v.readOnly||ri(),b.prototype.collection=(Qe=W.get(0),We.each(lt=this.collection,function(ft){if(Qe===this.node){var Wt=lt.slice(0,ft),an=lt.slice(ft+1,lt.length);return lt=Wt.concat(an),!1}}),lt),W.removeClass("jq-ry-container").children().remove(),W},this.method=function(Qe){if(!Qe)throw Error("Method name not specified!");if(!H(this[Qe]))throw Error("Method "+Qe+" doesn't exist!");var lt=Array.prototype.slice.apply(arguments,[]).slice(1);return this[Qe].apply(this,lt)},this.option=function(Qe,lt){if(!H(Qe))return v;var ft;switch(Qe){case"starWidth":ft=st;break;case"numStars":ft=$n;break;case"normalFill":ft=xt;break;case"ratedFill":ft=At;break;case"multiColor":ft=Kt;break;case"maxValue":ft=ir;break;case"precision":ft=cr;break;case"rating":ft=gr;break;case"halfStar":ft=fr;break;case"fullStar":ft=qn;break;case"readOnly":ft=mr;break;case"spacing":ft=yt;break;case"rtl":ft=sn;break;case"onInit":ft=_r;break;case"onSet":ft=Fn;break;case"onChange":ft=Jn;break;default:throw Error("No such option as "+Qe)}return H(lt)?ft(lt):v[Qe]},$n(v.numStars),mr(v.readOnly),v.rtl&&sn(v.rtl),this.collection.push(this),this.rating(v.rating,!0),mn=!0,W.trigger("rateyo.init",{rating:v.rating})}function N(W,v){var C;return We.each(v,function(){if(W===this.node)return C=this,!1}),C}b.prototype.collection=[],window.RateYo=b,We.fn.rateYo=function(){return function(W){var v=b.prototype.collection,C=We(this);if(0===C.length)return C;var R=Array.prototype.slice.apply(arguments,[]);if(0===R.length)W=R[0]={};else{if(1!==R.length||"object"!=typeof R[0]){if(1<=R.length&&"string"==typeof R[0]){var ge=R[0],ee=R.slice(1),re=[];return We.each(C,function(pe,Me){var ze=N(Me,v);if(!ze)throw Error("Trying to set options before even initialization");var Be=ze[ge];if(!Be)throw Error("Method "+ge+" does not exist!");var g=Be.apply(ze,ee);re.push(g)}),re=1===re.length?re[0]:re}throw Error("Invalid Arguments")}W=R[0]}return W=We.extend({},St,W),We.each(C,function(){var pe=N(this,v);if(pe)return pe;var Me=We(this),ze={},Be=We.extend({},W);return We.each(Me.data(),function(g,gt){if(0===g.indexOf("rateyo")){var ct=g.replace(/^rateyo/,"");ct=ct[0].toLowerCase()+ct.slice(1),ze[ct]=gt,delete Be[ct]}}),new b(We(this),We.extend({},ze,Be))})}.apply(this,Array.prototype.slice.apply(arguments,[]))}}(window.jQuery),function(We,Et){"object"==typeof exports&&"object"==typeof module?module.exports=Et():"function"==typeof define&&define.amd?define([],Et):"object"==typeof exports?exports.IVSBroadcastClient=Et():We.IVSBroadcastClient=Et()}(self,()=>(()=>{var We={9669:(q,H,p)=>{q.exports=p(1609)},5448:(q,H,p)=>{"use strict";var E=p(4867),f=p(6026),b=p(4372),N=p(5327),W=p(4097),v=p(4109),C=p(7985),R=p(7874),ge=p(2648),ee=p(644),re=p(205);q.exports=function(pe){return new Promise(function(Me,ze){var Be,g=pe.data,gt=pe.headers,ct=pe.responseType;function mn(){pe.cancelToken&&pe.cancelToken.unsubscribe(Be),pe.signal&&pe.signal.removeEventListener("abort",Be)}E.isFormData(g)&&E.isStandardBrowserEnv()&&delete gt["Content-Type"];var be=new XMLHttpRequest;if(pe.auth){var it=pe.auth.username||"",st=pe.auth.password?unescape(encodeURIComponent(pe.auth.password)):"";gt.Authorization="Basic "+btoa(it+":"+st)}var yt=W(pe.baseURL,pe.url);function xt(){if(be){var sn="getAllResponseHeaders"in be?v(be.getAllResponseHeaders()):null;f(function($n){Me($n),mn()},function($n){ze($n),mn()},{data:ct&&"text"!==ct&&"json"!==ct?be.response:be.responseText,status:be.status,statusText:be.statusText,headers:sn,config:pe,request:be}),be=null}}if(be.open(pe.method.toUpperCase(),N(yt,pe.params,pe.paramsSerializer),!0),be.timeout=pe.timeout,"onloadend"in be?be.onloadend=xt:be.onreadystatechange=function(){be&&4===be.readyState&&(0!==be.status||be.responseURL&&0===be.responseURL.indexOf("file:"))&&setTimeout(xt)},be.onabort=function(){be&&(ze(new ge("Request aborted",ge.ECONNABORTED,pe,be)),be=null)},be.onerror=function(){ze(new ge("Network Error",ge.ERR_NETWORK,pe,be,be)),be=null},be.ontimeout=function(){var sn=pe.timeout?"timeout of "+pe.timeout+"ms exceeded":"timeout exceeded";pe.timeoutErrorMessage&&(sn=pe.timeoutErrorMessage),ze(new ge(sn,(pe.transitional||R).clarifyTimeoutError?ge.ETIMEDOUT:ge.ECONNABORTED,pe,be)),be=null},E.isStandardBrowserEnv()){var Ht=(pe.withCredentials||C(yt))&&pe.xsrfCookieName?b.read(pe.xsrfCookieName):void 0;Ht&&(gt[pe.xsrfHeaderName]=Ht)}"setRequestHeader"in be&&E.forEach(gt,function(sn,Kt){void 0===g&&"content-type"===Kt.toLowerCase()?delete gt[Kt]:be.setRequestHeader(Kt,sn)}),E.isUndefined(pe.withCredentials)||(be.withCredentials=!!pe.withCredentials),ct&&"json"!==ct&&(be.responseType=pe.responseType),"function"==typeof pe.onDownloadProgress&&be.addEventListener("progress",pe.onDownloadProgress),"function"==typeof pe.onUploadProgress&&be.upload&&be.upload.addEventListener("progress",pe.onUploadProgress),(pe.cancelToken||pe.signal)&&(Be=function(sn){be&&(ze(!sn||sn&&sn.type?new ee:sn),be.abort(),be=null)},pe.cancelToken&&pe.cancelToken.subscribe(Be),pe.signal&&(pe.signal.aborted?Be():pe.signal.addEventListener("abort",Be))),g||(g=null);var At=re(yt);At&&-1===["http","https","file"].indexOf(At)?ze(new ge("Unsupported protocol "+At+":",ge.ERR_BAD_REQUEST,pe)):be.send(g)})}},1609:(q,H,p)=>{"use strict";var E=p(4867),f=p(1849),b=p(321),N=p(7185),W=function v(C){var R=new b(C),ge=f(b.prototype.request,R);return E.extend(ge,b.prototype,R),E.extend(ge,R),ge.create=function(ee){return v(N(C,ee))},ge}(p(5546));W.Axios=b,W.CanceledError=p(644),W.CancelToken=p(4972),W.isCancel=p(6502),W.VERSION=p(7288).version,W.toFormData=p(7675),W.AxiosError=p(2648),W.Cancel=W.CanceledError,W.all=function(v){return Promise.all(v)},W.spread=p(8713),W.isAxiosError=p(6268),q.exports=W,q.exports.default=W},4972:(q,H,p)=>{"use strict";var E=p(644);function f(b){if("function"!=typeof b)throw new TypeError("executor must be a function.");var N;this.promise=new Promise(function(v){N=v});var W=this;this.promise.then(function(v){if(W._listeners){var C,R=W._listeners.length;for(C=0;C<R;C++)W._listeners[C](v);W._listeners=null}}),this.promise.then=function(v){var C,R=new Promise(function(ge){W.subscribe(ge),C=ge}).then(v);return R.cancel=function(){W.unsubscribe(C)},R},b(function(v){W.reason||(W.reason=new E(v),N(W.reason))})}f.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},f.prototype.subscribe=function(b){this.reason?b(this.reason):this._listeners?this._listeners.push(b):this._listeners=[b]},f.prototype.unsubscribe=function(b){if(this._listeners){var N=this._listeners.indexOf(b);-1!==N&&this._listeners.splice(N,1)}},f.source=function(){var b;return{token:new f(function(N){b=N}),cancel:b}},q.exports=f},644:(q,H,p)=>{"use strict";var E=p(2648);function f(b){E.call(this,b??"canceled",E.ERR_CANCELED),this.name="CanceledError"}p(4867).inherits(f,E,{__CANCEL__:!0}),q.exports=f},6502:q=>{"use strict";q.exports=function(H){return!(!H||!H.__CANCEL__)}},321:(q,H,p)=>{"use strict";var E=p(4867),f=p(5327),b=p(782),N=p(3572),W=p(7185),v=p(4097),C=p(4875),R=C.validators;function ge(ee){this.defaults=ee,this.interceptors={request:new b,response:new b}}ge.prototype.request=function(ee,re){"string"==typeof ee?(re=re||{}).url=ee:re=ee||{},re.method=(re=W(this.defaults,re)).method?re.method.toLowerCase():this.defaults.method?this.defaults.method.toLowerCase():"get";var pe=re.transitional;void 0!==pe&&C.assertOptions(pe,{silentJSONParsing:R.transitional(R.boolean),forcedJSONParsing:R.transitional(R.boolean),clarifyTimeoutError:R.transitional(R.boolean)},!1);var Me=[],ze=!0;this.interceptors.request.forEach(function(it){"function"==typeof it.runWhen&&!1===it.runWhen(re)||(ze=ze&&it.synchronous,Me.unshift(it.fulfilled,it.rejected))});var Be,g=[];if(this.interceptors.response.forEach(function(it){g.push(it.fulfilled,it.rejected)}),!ze){var gt=[N,void 0];for(Array.prototype.unshift.apply(gt,Me),gt=gt.concat(g),Be=Promise.resolve(re);gt.length;)Be=Be.then(gt.shift(),gt.shift());return Be}for(var ct=re;Me.length;){var mn=Me.shift(),be=Me.shift();try{ct=mn(ct)}catch(it){be(it);break}}try{Be=N(ct)}catch(it){return Promise.reject(it)}for(;g.length;)Be=Be.then(g.shift(),g.shift());return Be},ge.prototype.getUri=function(ee){ee=W(this.defaults,ee);var re=v(ee.baseURL,ee.url);return f(re,ee.params,ee.paramsSerializer)},E.forEach(["delete","get","head","options"],function(ee){ge.prototype[ee]=function(re,pe){return this.request(W(pe||{},{method:ee,url:re,data:(pe||{}).data}))}}),E.forEach(["post","put","patch"],function(ee){function re(pe){return function(Me,ze,Be){return this.request(W(Be||{},{method:ee,headers:pe?{"Content-Type":"multipart/form-data"}:{},url:Me,data:ze}))}}ge.prototype[ee]=re(),ge.prototype[ee+"Form"]=re(!0)}),q.exports=ge},2648:(q,H,p)=>{"use strict";var E=p(4867);function f(W,v,C,R,ge){Error.call(this),this.message=W,this.name="AxiosError",v&&(this.code=v),C&&(this.config=C),R&&(this.request=R),ge&&(this.response=ge)}E.inherits(f,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var b=f.prototype,N={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(W){N[W]={value:W}}),Object.defineProperties(f,N),Object.defineProperty(b,"isAxiosError",{value:!0}),f.from=function(W,v,C,R,ge,ee){var re=Object.create(b);return E.toFlatObject(W,re,function(pe){return pe!==Error.prototype}),f.call(re,W.message,v,C,R,ge),re.name=W.name,ee&&Object.assign(re,ee),re},q.exports=f},782:(q,H,p)=>{"use strict";var E=p(4867);function f(){this.handlers=[]}f.prototype.use=function(b,N,W){return this.handlers.push({fulfilled:b,rejected:N,synchronous:!!W&&W.synchronous,runWhen:W?W.runWhen:null}),this.handlers.length-1},f.prototype.eject=function(b){this.handlers[b]&&(this.handlers[b]=null)},f.prototype.forEach=function(b){E.forEach(this.handlers,function(N){null!==N&&b(N)})},q.exports=f},4097:(q,H,p)=>{"use strict";var E=p(1793),f=p(7303);q.exports=function(b,N){return b&&!E(N)?f(b,N):N}},3572:(q,H,p)=>{"use strict";var E=p(4867),f=p(8527),b=p(6502),N=p(5546),W=p(644);function v(C){if(C.cancelToken&&C.cancelToken.throwIfRequested(),C.signal&&C.signal.aborted)throw new W}q.exports=function(C){return v(C),C.headers=C.headers||{},C.data=f.call(C,C.data,C.headers,C.transformRequest),C.headers=E.merge(C.headers.common||{},C.headers[C.method]||{},C.headers),E.forEach(["delete","get","head","post","put","patch","common"],function(R){delete C.headers[R]}),(C.adapter||N.adapter)(C).then(function(R){return v(C),R.data=f.call(C,R.data,R.headers,C.transformResponse),R},function(R){return b(R)||(v(C),R&&R.response&&(R.response.data=f.call(C,R.response.data,R.response.headers,C.transformResponse))),Promise.reject(R)})}},7185:(q,H,p)=>{"use strict";var E=p(4867);q.exports=function(f,b){b=b||{};var N={};function W(re,pe){return E.isPlainObject(re)&&E.isPlainObject(pe)?E.merge(re,pe):E.isPlainObject(pe)?E.merge({},pe):E.isArray(pe)?pe.slice():pe}function v(re){return E.isUndefined(b[re])?E.isUndefined(f[re])?void 0:W(void 0,f[re]):W(f[re],b[re])}function C(re){if(!E.isUndefined(b[re]))return W(void 0,b[re])}function R(re){return E.isUndefined(b[re])?E.isUndefined(f[re])?void 0:W(void 0,f[re]):W(void 0,b[re])}function ge(re){return re in b?W(f[re],b[re]):re in f?W(void 0,f[re]):void 0}var ee={url:C,method:C,data:C,baseURL:R,transformRequest:R,transformResponse:R,paramsSerializer:R,timeout:R,timeoutMessage:R,withCredentials:R,adapter:R,responseType:R,xsrfCookieName:R,xsrfHeaderName:R,onUploadProgress:R,onDownloadProgress:R,decompress:R,maxContentLength:R,maxBodyLength:R,beforeRedirect:R,transport:R,httpAgent:R,httpsAgent:R,cancelToken:R,socketPath:R,responseEncoding:R,validateStatus:ge};return E.forEach(Object.keys(f).concat(Object.keys(b)),function(re){var pe=ee[re]||v,Me=pe(re);E.isUndefined(Me)&&pe!==ge||(N[re]=Me)}),N}},6026:(q,H,p)=>{"use strict";var E=p(2648);q.exports=function(f,b,N){var W=N.config.validateStatus;N.status&&W&&!W(N.status)?b(new E("Request failed with status code "+N.status,[E.ERR_BAD_REQUEST,E.ERR_BAD_RESPONSE][Math.floor(N.status/100)-4],N.config,N.request,N)):f(N)}},8527:(q,H,p)=>{"use strict";var E=p(4867),f=p(5546);q.exports=function(b,N,W){var v=this||f;return E.forEach(W,function(C){b=C.call(v,b,N)}),b}},5546:(q,H,p)=>{"use strict";var E=p(4867),f=p(6016),b=p(2648),N=p(7874),W=p(7675),v={"Content-Type":"application/x-www-form-urlencoded"};function C(ee,re){!E.isUndefined(ee)&&E.isUndefined(ee["Content-Type"])&&(ee["Content-Type"]=re)}var R,ge={transitional:N,adapter:((typeof XMLHttpRequest<"u"||typeof process<"u"&&"[object process]"===Object.prototype.toString.call(process))&&(R=p(5448)),R),transformRequest:[function(ee,re){if(f(re,"Accept"),f(re,"Content-Type"),E.isFormData(ee)||E.isArrayBuffer(ee)||E.isBuffer(ee)||E.isStream(ee)||E.isFile(ee)||E.isBlob(ee))return ee;if(E.isArrayBufferView(ee))return ee.buffer;if(E.isURLSearchParams(ee))return C(re,"application/x-www-form-urlencoded;charset=utf-8"),ee.toString();var pe,Me=E.isObject(ee),ze=re&&re["Content-Type"];if((pe=E.isFileList(ee))||Me&&"multipart/form-data"===ze){var Be=this.env&&this.env.FormData;return W(pe?{"files[]":ee}:ee,Be&&new Be)}return Me||"application/json"===ze?(C(re,"application/json"),function(g,gt,ct){if(E.isString(g))try{return(0,JSON.parse)(g),E.trim(g)}catch(mn){if("SyntaxError"!==mn.name)throw mn}return(0,JSON.stringify)(g)}(ee)):ee}],transformResponse:[function(ee){var re=this.transitional||ge.transitional,ze=!(re&&re.silentJSONParsing)&&"json"===this.responseType;if(ze||re&&re.forcedJSONParsing&&E.isString(ee)&&ee.length)try{return JSON.parse(ee)}catch(Be){if(ze)throw"SyntaxError"===Be.name?b.from(Be,b.ERR_BAD_RESPONSE,this,null,this.response):Be}return ee}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:p(1623)},validateStatus:function(ee){return ee>=200&&ee<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};E.forEach(["delete","get","head"],function(ee){ge.headers[ee]={}}),E.forEach(["post","put","patch"],function(ee){ge.headers[ee]=E.merge(v)}),q.exports=ge},7874:q=>{"use strict";q.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},7288:q=>{q.exports={version:"0.27.2"}},1849:q=>{"use strict";q.exports=function(H,p){return function(){for(var E=new Array(arguments.length),f=0;f<E.length;f++)E[f]=arguments[f];return H.apply(p,E)}}},5327:(q,H,p)=>{"use strict";var E=p(4867);function f(b){return encodeURIComponent(b).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}q.exports=function(b,N,W){if(!N)return b;var v;if(W)v=W(N);else if(E.isURLSearchParams(N))v=N.toString();else{var C=[];E.forEach(N,function(ge,ee){null!=ge&&(E.isArray(ge)?ee+="[]":ge=[ge],E.forEach(ge,function(re){E.isDate(re)?re=re.toISOString():E.isObject(re)&&(re=JSON.stringify(re)),C.push(f(ee)+"="+f(re))}))}),v=C.join("&")}if(v){var R=b.indexOf("#");-1!==R&&(b=b.slice(0,R)),b+=(-1===b.indexOf("?")?"?":"&")+v}return b}},7303:q=>{"use strict";q.exports=function(H,p){return p?H.replace(/\/+$/,"")+"/"+p.replace(/^\/+/,""):H}},4372:(q,H,p)=>{"use strict";var E=p(4867);q.exports=E.isStandardBrowserEnv()?{write:function(f,b,N,W,v,C){var R=[];R.push(f+"="+encodeURIComponent(b)),E.isNumber(N)&&R.push("expires="+new Date(N).toGMTString()),E.isString(W)&&R.push("path="+W),E.isString(v)&&R.push("domain="+v),!0===C&&R.push("secure"),document.cookie=R.join("; ")},read:function(f){var b=document.cookie.match(new RegExp("(^|;\\s*)("+f+")=([^;]*)"));return b?decodeURIComponent(b[3]):null},remove:function(f){this.write(f,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1793:q=>{"use strict";q.exports=function(H){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(H)}},6268:(q,H,p)=>{"use strict";var E=p(4867);q.exports=function(f){return E.isObject(f)&&!0===f.isAxiosError}},7985:(q,H,p)=>{"use strict";var E=p(4867);q.exports=E.isStandardBrowserEnv()?function(){var f,b=/(msie|trident)/i.test(navigator.userAgent),N=document.createElement("a");function W(v){var C=v;return b&&(N.setAttribute("href",C),C=N.href),N.setAttribute("href",C),{href:N.href,protocol:N.protocol?N.protocol.replace(/:$/,""):"",host:N.host,search:N.search?N.search.replace(/^\?/,""):"",hash:N.hash?N.hash.replace(/^#/,""):"",hostname:N.hostname,port:N.port,pathname:"/"===N.pathname.charAt(0)?N.pathname:"/"+N.pathname}}return f=W(window.location.href),function(v){var C=E.isString(v)?W(v):v;return C.protocol===f.protocol&&C.host===f.host}}():function(){return!0}},6016:(q,H,p)=>{"use strict";var E=p(4867);q.exports=function(f,b){E.forEach(f,function(N,W){W!==b&&W.toUpperCase()===b.toUpperCase()&&(f[b]=N,delete f[W])})}},1623:q=>{q.exports=null},4109:(q,H,p)=>{"use strict";var E=p(4867),f=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];q.exports=function(b){var N,W,v,C={};return b&&E.forEach(b.split("\n"),function(R){if(v=R.indexOf(":"),N=E.trim(R.substr(0,v)).toLowerCase(),W=E.trim(R.substr(v+1)),N){if(C[N]&&f.indexOf(N)>=0)return;C[N]="set-cookie"===N?(C[N]?C[N]:[]).concat([W]):C[N]?C[N]+", "+W:W}}),C}},205:q=>{"use strict";q.exports=function(H){var p=/^([-+\w]{1,25})(:?\/\/|:)/.exec(H);return p&&p[1]||""}},8713:q=>{"use strict";q.exports=function(H){return function(p){return H.apply(null,p)}}},7675:(q,H,p)=>{"use strict";var E=p(4867);q.exports=function(f,b){b=b||new FormData;var N=[];function W(v){return null===v?"":E.isDate(v)?v.toISOString():E.isArrayBuffer(v)||E.isTypedArray(v)?"function"==typeof Blob?new Blob([v]):Buffer.from(v):v}return function v(C,R){if(E.isPlainObject(C)||E.isArray(C)){if(-1!==N.indexOf(C))throw Error("Circular reference detected in "+R);N.push(C),E.forEach(C,function(ge,ee){if(!E.isUndefined(ge)){var re,pe=R?R+"."+ee:ee;if(ge&&!R&&"object"==typeof ge)if(E.endsWith(ee,"{}"))ge=JSON.stringify(ge);else if(E.endsWith(ee,"[]")&&(re=E.toArray(ge)))return void re.forEach(function(Me){!E.isUndefined(Me)&&b.append(pe,W(Me))});v(ge,pe)}}),N.pop()}else b.append(R,W(C))}(f),b}},4875:(q,H,p)=>{"use strict";var E=p(7288).version,f=p(2648),b={};["object","boolean","number","function","string","symbol"].forEach(function(W,v){b[W]=function(C){return typeof C===W||"a"+(v<1?"n ":" ")+W}});var N={};b.transitional=function(W,v,C){function R(ge,ee){return"[Axios v"+E+"] Transitional option '"+ge+"'"+ee+(C?". "+C:"")}return function(ge,ee,re){if(!1===W)throw new f(R(ee," has been removed"+(v?" in "+v:"")),f.ERR_DEPRECATED);return v&&!N[ee]&&(N[ee]=!0,console.warn(R(ee," has been deprecated since v"+v+" and will be removed in the near future"))),!W||W(ge,ee,re)}},q.exports={assertOptions:function(W,v,C){if("object"!=typeof W)throw new f("options must be an object",f.ERR_BAD_OPTION_VALUE);for(var R=Object.keys(W),ge=R.length;ge-- >0;){var ee=R[ge],re=v[ee];if(re){var pe=W[ee],Me=void 0===pe||re(pe,ee,W);if(!0!==Me)throw new f("option "+ee+" must be "+Me,f.ERR_BAD_OPTION_VALUE)}else if(!0!==C)throw new f("Unknown option "+ee,f.ERR_BAD_OPTION)}},validators:b}},4867:(q,H,p)=>{"use strict";var E,f=p(1849),b=Object.prototype.toString,N=(E=Object.create(null),function(be){var it=b.call(be);return E[it]||(E[it]=it.slice(8,-1).toLowerCase())});function W(be){return be=be.toLowerCase(),function(it){return N(it)===be}}function v(be){return Array.isArray(be)}function C(be){return void 0===be}var R=W("ArrayBuffer");function ge(be){return null!==be&&"object"==typeof be}function ee(be){if("object"!==N(be))return!1;var it=Object.getPrototypeOf(be);return null===it||it===Object.prototype}var re=W("Date"),pe=W("File"),Me=W("Blob"),ze=W("FileList");function Be(be){return"[object Function]"===b.call(be)}var g=W("URLSearchParams");function gt(be,it){if(null!=be)if("object"!=typeof be&&(be=[be]),v(be))for(var st=0,yt=be.length;st<yt;st++)it.call(null,be[st],st,be);else for(var xt in be)Object.prototype.hasOwnProperty.call(be,xt)&&it.call(null,be[xt],xt,be)}var ct,mn=(ct=typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array),function(be){return ct&&be instanceof ct});q.exports={isArray:v,isArrayBuffer:R,isBuffer:function(be){return null!==be&&!C(be)&&null!==be.constructor&&!C(be.constructor)&&"function"==typeof be.constructor.isBuffer&&be.constructor.isBuffer(be)},isFormData:function(be){var it="[object FormData]";return be&&("function"==typeof FormData&&be instanceof FormData||b.call(be)===it||Be(be.toString)&&be.toString()===it)},isArrayBufferView:function(be){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(be):be&&be.buffer&&R(be.buffer)},isString:function(be){return"string"==typeof be},isNumber:function(be){return"number"==typeof be},isObject:ge,isPlainObject:ee,isUndefined:C,isDate:re,isFile:pe,isBlob:Me,isFunction:Be,isStream:function(be){return ge(be)&&Be(be.pipe)},isURLSearchParams:g,isStandardBrowserEnv:function(){return(typeof navigator>"u"||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&typeof window<"u"&&typeof document<"u"},forEach:gt,merge:function be(){var it={};function st(Ht,At){it[At]=ee(it[At])&&ee(Ht)?be(it[At],Ht):ee(Ht)?be({},Ht):v(Ht)?Ht.slice():Ht}for(var yt=0,xt=arguments.length;yt<xt;yt++)gt(arguments[yt],st);return it},extend:function(be,it,st){return gt(it,function(yt,xt){be[xt]=st&&"function"==typeof yt?f(yt,st):yt}),be},trim:function(be){return be.trim?be.trim():be.replace(/^\s+|\s+$/g,"")},stripBOM:function(be){return 65279===be.charCodeAt(0)&&(be=be.slice(1)),be},inherits:function(be,it,st,yt){be.prototype=Object.create(it.prototype,yt),be.prototype.constructor=be,st&&Object.assign(be.prototype,st)},toFlatObject:function(be,it,st){var yt,xt,Ht,At={};it=it||{};do{for(xt=(yt=Object.getOwnPropertyNames(be)).length;xt-- >0;)At[Ht=yt[xt]]||(it[Ht]=be[Ht],At[Ht]=!0);be=Object.getPrototypeOf(be)}while(be&&(!st||st(be,it))&&be!==Object.prototype);return it},kindOf:N,kindOfTest:W,endsWith:function(be,it,st){be=String(be),(void 0===st||st>be.length)&&(st=be.length);var yt=be.indexOf(it,st-=it.length);return-1!==yt&&yt===st},toArray:function(be){if(!be)return null;var it=be.length;if(C(it))return null;for(var st=new Array(it);it-- >0;)st[it]=be[it];return st},isTypedArray:mn,isFileList:ze}},1206:function(q){q.exports=function(H){var p={};function E(f){if(p[f])return p[f].exports;var b=p[f]={i:f,l:!1,exports:{}};return H[f].call(b.exports,b,b.exports,E),b.l=!0,b.exports}return E.m=H,E.c=p,E.d=function(f,b,N){E.o(f,b)||Object.defineProperty(f,b,{enumerable:!0,get:N})},E.r=function(f){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},E.t=function(f,b){if(1&b&&(f=E(f)),8&b||4&b&&"object"==typeof f&&f&&f.__esModule)return f;var N=Object.create(null);if(E.r(N),Object.defineProperty(N,"default",{enumerable:!0,value:f}),2&b&&"string"!=typeof f)for(var W in f)E.d(N,W,function(v){return f[v]}.bind(null,W));return N},E.n=function(f){var b=f&&f.__esModule?function(){return f.default}:function(){return f};return E.d(b,"a",b),b},E.o=function(f,b){return Object.prototype.hasOwnProperty.call(f,b)},E.p="",E(E.s=90)}({17:function(H,p,E){"use strict";p.__esModule=!0,p.default=void 0;var f=E(18),b=function(){function N(){}return N.getFirstMatch=function(W,v){var C=v.match(W);return C&&C.length>0&&C[1]||""},N.getSecondMatch=function(W,v){var C=v.match(W);return C&&C.length>1&&C[2]||""},N.matchAndReturnConst=function(W,v,C){if(W.test(v))return C},N.getWindowsVersionName=function(W){switch(W){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},N.getMacOSVersionName=function(W){var v=W.split(".").splice(0,2).map(function(C){return parseInt(C,10)||0});if(v.push(0),10===v[0])switch(v[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},N.getAndroidVersionName=function(W){var v=W.split(".").splice(0,2).map(function(C){return parseInt(C,10)||0});if(v.push(0),!(1===v[0]&&v[1]<5))return 1===v[0]&&v[1]<6?"Cupcake":1===v[0]&&v[1]>=6?"Donut":2===v[0]&&v[1]<2?"Eclair":2===v[0]&&2===v[1]?"Froyo":2===v[0]&&v[1]>2?"Gingerbread":3===v[0]?"Honeycomb":4===v[0]&&v[1]<1?"Ice Cream Sandwich":4===v[0]&&v[1]<4?"Jelly Bean":4===v[0]&&v[1]>=4?"KitKat":5===v[0]?"Lollipop":6===v[0]?"Marshmallow":7===v[0]?"Nougat":8===v[0]?"Oreo":9===v[0]?"Pie":void 0},N.getVersionPrecision=function(W){return W.split(".").length},N.compareVersions=function(W,v,C){void 0===C&&(C=!1);var R=N.getVersionPrecision(W),ge=N.getVersionPrecision(v),ee=Math.max(R,ge),re=0,pe=N.map([W,v],function(Me){var ze=ee-N.getVersionPrecision(Me),Be=Me+new Array(ze+1).join(".0");return N.map(Be.split("."),function(g){return new Array(20-g.length).join("0")+g}).reverse()});for(C&&(re=ee-Math.min(R,ge)),ee-=1;ee>=re;){if(pe[0][ee]>pe[1][ee])return 1;if(pe[0][ee]===pe[1][ee]){if(ee===re)return 0;ee-=1}else if(pe[0][ee]<pe[1][ee])return-1}},N.map=function(W,v){var C,R=[];if(Array.prototype.map)return Array.prototype.map.call(W,v);for(C=0;C<W.length;C+=1)R.push(v(W[C]));return R},N.find=function(W,v){var C,R;if(Array.prototype.find)return Array.prototype.find.call(W,v);for(C=0,R=W.length;C<R;C+=1){var ge=W[C];if(v(ge,C))return ge}},N.assign=function(W){for(var v,C,R=W,ge=arguments.length,ee=new Array(ge>1?ge-1:0),re=1;re<ge;re++)ee[re-1]=arguments[re];if(Object.assign)return Object.assign.apply(Object,[W].concat(ee));var pe=function(){var Me=ee[v];"object"==typeof Me&&null!==Me&&Object.keys(Me).forEach(function(ze){R[ze]=Me[ze]})};for(v=0,C=ee.length;v<C;v+=1)pe();return W},N.getBrowserAlias=function(W){return f.BROWSER_ALIASES_MAP[W]},N.getBrowserTypeByAlias=function(W){return f.BROWSER_MAP[W]||""},N}();p.default=b,H.exports=p.default},18:function(H,p,E){"use strict";p.__esModule=!0,p.ENGINE_MAP=p.OS_MAP=p.PLATFORMS_MAP=p.BROWSER_MAP=p.BROWSER_ALIASES_MAP=void 0,p.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},p.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},p.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},p.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},p.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(H,p,E){"use strict";p.__esModule=!0,p.default=void 0;var f,b=(f=E(91))&&f.__esModule?f:{default:f},N=E(18);function W(C,R){for(var ge=0;ge<R.length;ge++){var ee=R[ge];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(C,ee.key,ee)}}var v=function(){function C(){}var R,ee;return C.getParser=function(re,pe){if(void 0===pe&&(pe=!1),"string"!=typeof re)throw new Error("UserAgent should be a string");return new b.default(re,pe)},C.parse=function(re){return new b.default(re).getResult()},R=C,(ee=[{key:"BROWSER_MAP",get:function(){return N.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return N.ENGINE_MAP}},{key:"OS_MAP",get:function(){return N.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return N.PLATFORMS_MAP}}])&&W(R,ee),C}();p.default=v,H.exports=p.default},91:function(H,p,E){"use strict";p.__esModule=!0,p.default=void 0;var f=C(E(92)),b=C(E(93)),N=C(E(94)),W=C(E(95)),v=C(E(17));function C(ge){return ge&&ge.__esModule?ge:{default:ge}}var R=function(){function ge(re,pe){if(void 0===pe&&(pe=!1),null==re||""===re)throw new Error("UserAgent parameter can't be empty");this._ua=re,this.parsedResult={},!0!==pe&&this.parse()}var ee=ge.prototype;return ee.getUA=function(){return this._ua},ee.test=function(re){return re.test(this._ua)},ee.parseBrowser=function(){var re=this;this.parsedResult.browser={};var pe=v.default.find(f.default,function(Me){if("function"==typeof Me.test)return Me.test(re);if(Me.test instanceof Array)return Me.test.some(function(ze){return re.test(ze)});throw new Error("Browser's test function is not valid")});return pe&&(this.parsedResult.browser=pe.describe(this.getUA())),this.parsedResult.browser},ee.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},ee.getBrowserName=function(re){return re?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},ee.getBrowserVersion=function(){return this.getBrowser().version},ee.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},ee.parseOS=function(){var re=this;this.parsedResult.os={};var pe=v.default.find(b.default,function(Me){if("function"==typeof Me.test)return Me.test(re);if(Me.test instanceof Array)return Me.test.some(function(ze){return re.test(ze)});throw new Error("Browser's test function is not valid")});return pe&&(this.parsedResult.os=pe.describe(this.getUA())),this.parsedResult.os},ee.getOSName=function(re){var pe=this.getOS().name;return re?String(pe).toLowerCase()||"":pe||""},ee.getOSVersion=function(){return this.getOS().version},ee.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},ee.getPlatformType=function(re){void 0===re&&(re=!1);var pe=this.getPlatform().type;return re?String(pe).toLowerCase()||"":pe||""},ee.parsePlatform=function(){var re=this;this.parsedResult.platform={};var pe=v.default.find(N.default,function(Me){if("function"==typeof Me.test)return Me.test(re);if(Me.test instanceof Array)return Me.test.some(function(ze){return re.test(ze)});throw new Error("Browser's test function is not valid")});return pe&&(this.parsedResult.platform=pe.describe(this.getUA())),this.parsedResult.platform},ee.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},ee.getEngineName=function(re){return re?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},ee.parseEngine=function(){var re=this;this.parsedResult.engine={};var pe=v.default.find(W.default,function(Me){if("function"==typeof Me.test)return Me.test(re);if(Me.test instanceof Array)return Me.test.some(function(ze){return re.test(ze)});throw new Error("Browser's test function is not valid")});return pe&&(this.parsedResult.engine=pe.describe(this.getUA())),this.parsedResult.engine},ee.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},ee.getResult=function(){return v.default.assign({},this.parsedResult)},ee.satisfies=function(re){var pe=this,Me={},ze=0,Be={},g=0;if(Object.keys(re).forEach(function(xt){var Ht=re[xt];"string"==typeof Ht?(Be[xt]=Ht,g+=1):"object"==typeof Ht&&(Me[xt]=Ht,ze+=1)}),ze>0){var gt=Object.keys(Me),ct=v.default.find(gt,function(xt){return pe.isOS(xt)});if(ct){var mn=this.satisfies(Me[ct]);if(void 0!==mn)return mn}var be=v.default.find(gt,function(xt){return pe.isPlatform(xt)});if(be){var it=this.satisfies(Me[be]);if(void 0!==it)return it}}if(g>0){var st=Object.keys(Be),yt=v.default.find(st,function(xt){return pe.isBrowser(xt,!0)});if(void 0!==yt)return this.compareVersion(Be[yt])}},ee.isBrowser=function(re,pe){void 0===pe&&(pe=!1);var Me=this.getBrowserName().toLowerCase(),ze=re.toLowerCase(),Be=v.default.getBrowserTypeByAlias(ze);return pe&&Be&&(ze=Be.toLowerCase()),ze===Me},ee.compareVersion=function(re){var pe=[0],Me=re,ze=!1,Be=this.getBrowserVersion();if("string"==typeof Be)return">"===re[0]||"<"===re[0]?(Me=re.substr(1),"="===re[1]?(ze=!0,Me=re.substr(2)):pe=[],pe.push(">"===re[0]?1:-1)):"="===re[0]?Me=re.substr(1):"~"===re[0]&&(ze=!0,Me=re.substr(1)),pe.indexOf(v.default.compareVersions(Be,Me,ze))>-1},ee.isOS=function(re){return this.getOSName(!0)===String(re).toLowerCase()},ee.isPlatform=function(re){return this.getPlatformType(!0)===String(re).toLowerCase()},ee.isEngine=function(re){return this.getEngineName(!0)===String(re).toLowerCase()},ee.is=function(re,pe){return void 0===pe&&(pe=!1),this.isBrowser(re,pe)||this.isOS(re)||this.isPlatform(re)},ee.some=function(re){var pe=this;return void 0===re&&(re=[]),re.some(function(Me){return pe.is(Me)})},ge}();p.default=R,H.exports=p.default},92:function(H,p,E){"use strict";p.__esModule=!0,p.default=void 0;var f,b=(f=E(17))&&f.__esModule?f:{default:f},N=/version\/(\d+(\.?_?\d+)+)/i;p.default=[{test:[/googlebot/i],describe:function(v){var C={name:"Googlebot"},R=b.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,v)||b.default.getFirstMatch(N,v);return R&&(C.version=R),C}},{test:[/opera/i],describe:function(v){var C={name:"Opera"},R=b.default.getFirstMatch(N,v)||b.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,v);return R&&(C.version=R),C}},{test:[/opr\/|opios/i],describe:function(v){var C={name:"Opera"},R=b.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,v)||b.default.getFirstMatch(N,v);return R&&(C.version=R),C}},{test:[/SamsungBrowser/i],describe:function(v){var C={name:"Samsung Internet for Android"},R=b.default.getFirstMatch(N,v)||b.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,v);return R&&(C.version=R),C}},{test:[/Whale/i],describe:function(v){var C={name:"NAVER Whale Browser"},R=b.default.getFirstMatch(N,v)||b.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,v);return R&&(C.version=R),C}},{test:[/MZBrowser/i],describe:function(v){var C={name:"MZ Browser"},R=b.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,v)||b.default.getFirstMatch(N,v);return R&&(C.version=R),C}},{test:[/focus/i],describe:function(v){var C={name:"Focus"},R=b.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,v)||b.default.getFirstMatch(N,v);return R&&(C.version=R),C}},{test:[/swing/i],describe:function(v){var C={name:"Swing"},R=b.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,v)||b.default.getFirstMatch(N,v);return R&&(C.version=R),C}},{test:[/coast/i],describe:function(v){var C={name:"Opera Coast"},R=b.default.getFirstMatch(N,v)||b.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,v);return R&&(C.version=R),C}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(v){var C={name:"Opera Touch"},R=b.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,v)||b.default.getFirstMatch(N,v);return R&&(C.version=R),C}},{test:[/yabrowser/i],describe:function(v){var C={name:"Yandex Browser"},R=b.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,v)||b.default.getFirstMatch(N,v);return R&&(C.version=R),C}},{test:[/ucbrowser/i],describe:function(v){var C={name:"UC Browser"},R=b.default.getFirstMatch(N,v)||b.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,v);return R&&(C.version=R),C}},{test:[/Maxthon|mxios/i],describe:function(v){var C={name:"Maxthon"},R=b.default.getFirstMatch(N,v)||b.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,v);return R&&(C.version=R),C}},{test:[/epiphany/i],describe:function(v){var C={name:"Epiphany"},R=b.default.getFirstMatch(N,v)||b.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,v);return R&&(C.version=R),C}},{test:[/puffin/i],describe:function(v){var C={name:"Puffin"},R=b.default.getFirstMatch(N,v)||b.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,v);return R&&(C.version=R),C}},{test:[/sleipnir/i],describe:function(v){var C={name:"Sleipnir"},R=b.default.getFirstMatch(N,v)||b.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,v);return R&&(C.version=R),C}},{test:[/k-meleon/i],describe:function(v){var C={name:"K-Meleon"},R=b.default.getFirstMatch(N,v)||b.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,v);return R&&(C.version=R),C}},{test:[/micromessenger/i],describe:function(v){var C={name:"WeChat"},R=b.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,v)||b.default.getFirstMatch(N,v);return R&&(C.version=R),C}},{test:[/qqbrowser/i],describe:function(v){var C={name:/qqbrowserlite/i.test(v)?"QQ Browser Lite":"QQ Browser"},R=b.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,v)||b.default.getFirstMatch(N,v);return R&&(C.version=R),C}},{test:[/msie|trident/i],describe:function(v){var C={name:"Internet Explorer"},R=b.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,v);return R&&(C.version=R),C}},{test:[/\sedg\//i],describe:function(v){var C={name:"Microsoft Edge"},R=b.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,v);return R&&(C.version=R),C}},{test:[/edg([ea]|ios)/i],describe:function(v){var C={name:"Microsoft Edge"},R=b.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,v);return R&&(C.version=R),C}},{test:[/vivaldi/i],describe:function(v){var C={name:"Vivaldi"},R=b.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,v);return R&&(C.version=R),C}},{test:[/seamonkey/i],describe:function(v){var C={name:"SeaMonkey"},R=b.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,v);return R&&(C.version=R),C}},{test:[/sailfish/i],describe:function(v){var C={name:"Sailfish"},R=b.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,v);return R&&(C.version=R),C}},{test:[/silk/i],describe:function(v){var C={name:"Amazon Silk"},R=b.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,v);return R&&(C.version=R),C}},{test:[/phantom/i],describe:function(v){var C={name:"PhantomJS"},R=b.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,v);return R&&(C.version=R),C}},{test:[/slimerjs/i],describe:function(v){var C={name:"SlimerJS"},R=b.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,v);return R&&(C.version=R),C}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(v){var C={name:"BlackBerry"},R=b.default.getFirstMatch(N,v)||b.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,v);return R&&(C.version=R),C}},{test:[/(web|hpw)[o0]s/i],describe:function(v){var C={name:"WebOS Browser"},R=b.default.getFirstMatch(N,v)||b.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,v);return R&&(C.version=R),C}},{test:[/bada/i],describe:function(v){var C={name:"Bada"},R=b.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,v);return R&&(C.version=R),C}},{test:[/tizen/i],describe:function(v){var C={name:"Tizen"},R=b.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,v)||b.default.getFirstMatch(N,v);return R&&(C.version=R),C}},{test:[/qupzilla/i],describe:function(v){var C={name:"QupZilla"},R=b.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,v)||b.default.getFirstMatch(N,v);return R&&(C.version=R),C}},{test:[/firefox|iceweasel|fxios/i],describe:function(v){var C={name:"Firefox"},R=b.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,v);return R&&(C.version=R),C}},{test:[/electron/i],describe:function(v){var C={name:"Electron"},R=b.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,v);return R&&(C.version=R),C}},{test:[/MiuiBrowser/i],describe:function(v){var C={name:"Miui"},R=b.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,v);return R&&(C.version=R),C}},{test:[/chromium/i],describe:function(v){var C={name:"Chromium"},R=b.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,v)||b.default.getFirstMatch(N,v);return R&&(C.version=R),C}},{test:[/chrome|crios|crmo/i],describe:function(v){var C={name:"Chrome"},R=b.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,v);return R&&(C.version=R),C}},{test:[/GSA/i],describe:function(v){var C={name:"Google Search"},R=b.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,v);return R&&(C.version=R),C}},{test:function(v){var C=!v.test(/like android/i),R=v.test(/android/i);return C&&R},describe:function(v){var C={name:"Android Browser"},R=b.default.getFirstMatch(N,v);return R&&(C.version=R),C}},{test:[/playstation 4/i],describe:function(v){var C={name:"PlayStation 4"},R=b.default.getFirstMatch(N,v);return R&&(C.version=R),C}},{test:[/safari|applewebkit/i],describe:function(v){var C={name:"Safari"},R=b.default.getFirstMatch(N,v);return R&&(C.version=R),C}},{test:[/.*/i],describe:function(v){var C=-1!==v.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:b.default.getFirstMatch(C,v),version:b.default.getSecondMatch(C,v)}}}],H.exports=p.default},93:function(H,p,E){"use strict";p.__esModule=!0,p.default=void 0;var f,b=(f=E(17))&&f.__esModule?f:{default:f},N=E(18);p.default=[{test:[/Roku\/DVP/],describe:function(v){var C=b.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,v);return{name:N.OS_MAP.Roku,version:C}}},{test:[/windows phone/i],describe:function(v){var C=b.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,v);return{name:N.OS_MAP.WindowsPhone,version:C}}},{test:[/windows /i],describe:function(v){var C=b.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,v),R=b.default.getWindowsVersionName(C);return{name:N.OS_MAP.Windows,version:C,versionName:R}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(v){var C={name:N.OS_MAP.iOS},R=b.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,v);return R&&(C.version=R),C}},{test:[/macintosh/i],describe:function(v){var C=b.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,v).replace(/[_\s]/g,"."),R=b.default.getMacOSVersionName(C),ge={name:N.OS_MAP.MacOS,version:C};return R&&(ge.versionName=R),ge}},{test:[/(ipod|iphone|ipad)/i],describe:function(v){var C=b.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,v).replace(/[_\s]/g,".");return{name:N.OS_MAP.iOS,version:C}}},{test:function(v){var C=!v.test(/like android/i),R=v.test(/android/i);return C&&R},describe:function(v){var C=b.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,v),R=b.default.getAndroidVersionName(C),ge={name:N.OS_MAP.Android,version:C};return R&&(ge.versionName=R),ge}},{test:[/(web|hpw)[o0]s/i],describe:function(v){var C=b.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,v),R={name:N.OS_MAP.WebOS};return C&&C.length&&(R.version=C),R}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(v){var C=b.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,v)||b.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,v)||b.default.getFirstMatch(/\bbb(\d+)/i,v);return{name:N.OS_MAP.BlackBerry,version:C}}},{test:[/bada/i],describe:function(v){var C=b.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,v);return{name:N.OS_MAP.Bada,version:C}}},{test:[/tizen/i],describe:function(v){var C=b.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,v);return{name:N.OS_MAP.Tizen,version:C}}},{test:[/linux/i],describe:function(){return{name:N.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:N.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(v){var C=b.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,v);return{name:N.OS_MAP.PlayStation4,version:C}}}],H.exports=p.default},94:function(H,p,E){"use strict";p.__esModule=!0,p.default=void 0;var f,b=(f=E(17))&&f.__esModule?f:{default:f},N=E(18);p.default=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(v){var C=b.default.getFirstMatch(/(can-l01)/i,v)&&"Nova",R={type:N.PLATFORMS_MAP.mobile,vendor:"Huawei"};return C&&(R.model=C),R}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:N.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:N.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:N.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:N.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:N.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:N.PLATFORMS_MAP.tablet}}},{test:function(v){var C=v.test(/ipod|iphone/i),R=v.test(/like (ipod|iphone)/i);return C&&!R},describe:function(v){var C=b.default.getFirstMatch(/(ipod|iphone)/i,v);return{type:N.PLATFORMS_MAP.mobile,vendor:"Apple",model:C}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:N.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:N.PLATFORMS_MAP.mobile}}},{test:function(v){return"blackberry"===v.getBrowserName(!0)},describe:function(){return{type:N.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(v){return"bada"===v.getBrowserName(!0)},describe:function(){return{type:N.PLATFORMS_MAP.mobile}}},{test:function(v){return"windows phone"===v.getBrowserName()},describe:function(){return{type:N.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(v){var C=Number(String(v.getOSVersion()).split(".")[0]);return"android"===v.getOSName(!0)&&C>=3},describe:function(){return{type:N.PLATFORMS_MAP.tablet}}},{test:function(v){return"android"===v.getOSName(!0)},describe:function(){return{type:N.PLATFORMS_MAP.mobile}}},{test:function(v){return"macos"===v.getOSName(!0)},describe:function(){return{type:N.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(v){return"windows"===v.getOSName(!0)},describe:function(){return{type:N.PLATFORMS_MAP.desktop}}},{test:function(v){return"linux"===v.getOSName(!0)},describe:function(){return{type:N.PLATFORMS_MAP.desktop}}},{test:function(v){return"playstation 4"===v.getOSName(!0)},describe:function(){return{type:N.PLATFORMS_MAP.tv}}},{test:function(v){return"roku"===v.getOSName(!0)},describe:function(){return{type:N.PLATFORMS_MAP.tv}}}],H.exports=p.default},95:function(H,p,E){"use strict";p.__esModule=!0,p.default=void 0;var f,b=(f=E(17))&&f.__esModule?f:{default:f},N=E(18);p.default=[{test:function(v){return"microsoft edge"===v.getBrowserName(!0)},describe:function(v){if(/\sedg\//i.test(v))return{name:N.ENGINE_MAP.Blink};var C=b.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,v);return{name:N.ENGINE_MAP.EdgeHTML,version:C}}},{test:[/trident/i],describe:function(v){var C={name:N.ENGINE_MAP.Trident},R=b.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,v);return R&&(C.version=R),C}},{test:function(v){return v.test(/presto/i)},describe:function(v){var C={name:N.ENGINE_MAP.Presto},R=b.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,v);return R&&(C.version=R),C}},{test:function(v){var C=v.test(/gecko/i),R=v.test(/like gecko/i);return C&&!R},describe:function(v){var C={name:N.ENGINE_MAP.Gecko},R=b.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,v);return R&&(C.version=R),C}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:N.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(v){var C={name:N.ENGINE_MAP.WebKit},R=b.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,v);return R&&(C.version=R),C}}],H.exports=p.default}})},6729:q=>{"use strict";var H=Object.prototype.hasOwnProperty,p="~";function E(){}function f(v,C,R){this.fn=v,this.context=C,this.once=R||!1}function b(v,C,R,ge,ee){if("function"!=typeof R)throw new TypeError("The listener must be a function");var re=new f(R,ge||v,ee),pe=p?p+C:C;return v._events[pe]?v._events[pe].fn?v._events[pe]=[v._events[pe],re]:v._events[pe].push(re):(v._events[pe]=re,v._eventsCount++),v}function N(v,C){0==--v._eventsCount?v._events=new E:delete v._events[C]}function W(){this._events=new E,this._eventsCount=0}Object.create&&(E.prototype=Object.create(null),(new E).__proto__||(p=!1)),W.prototype.eventNames=function(){var v,C,R=[];if(0===this._eventsCount)return R;for(C in v=this._events)H.call(v,C)&&R.push(p?C.slice(1):C);return Object.getOwnPropertySymbols?R.concat(Object.getOwnPropertySymbols(v)):R},W.prototype.listeners=function(v){var R=this._events[p?p+v:v];if(!R)return[];if(R.fn)return[R.fn];for(var ge=0,ee=R.length,re=new Array(ee);ge<ee;ge++)re[ge]=R[ge].fn;return re},W.prototype.listenerCount=function(v){var R=this._events[p?p+v:v];return R?R.fn?1:R.length:0},W.prototype.emit=function(v,C,R,ge,ee,re){var pe=p?p+v:v;if(!this._events[pe])return!1;var Me,ze,Be=this._events[pe],g=arguments.length;if(Be.fn){switch(Be.once&&this.removeListener(v,Be.fn,void 0,!0),g){case 1:return Be.fn.call(Be.context),!0;case 2:return Be.fn.call(Be.context,C),!0;case 3:return Be.fn.call(Be.context,C,R),!0;case 4:return Be.fn.call(Be.context,C,R,ge),!0;case 5:return Be.fn.call(Be.context,C,R,ge,ee),!0;case 6:return Be.fn.call(Be.context,C,R,ge,ee,re),!0}for(ze=1,Me=new Array(g-1);ze<g;ze++)Me[ze-1]=arguments[ze];Be.fn.apply(Be.context,Me)}else{var gt,ct=Be.length;for(ze=0;ze<ct;ze++)switch(Be[ze].once&&this.removeListener(v,Be[ze].fn,void 0,!0),g){case 1:Be[ze].fn.call(Be[ze].context);break;case 2:Be[ze].fn.call(Be[ze].context,C);break;case 3:Be[ze].fn.call(Be[ze].context,C,R);break;case 4:Be[ze].fn.call(Be[ze].context,C,R,ge);break;default:if(!Me)for(gt=1,Me=new Array(g-1);gt<g;gt++)Me[gt-1]=arguments[gt];Be[ze].fn.apply(Be[ze].context,Me)}}return!0},W.prototype.on=function(v,C,R){return b(this,v,C,R,!1)},W.prototype.once=function(v,C,R){return b(this,v,C,R,!0)},W.prototype.removeListener=function(v,C,R,ge){var ee=p?p+v:v;if(!this._events[ee])return this;if(!C)return N(this,ee),this;var re=this._events[ee];if(re.fn)re.fn!==C||ge&&!re.once||R&&re.context!==R||N(this,ee);else{for(var pe=0,Me=[],ze=re.length;pe<ze;pe++)(re[pe].fn!==C||ge&&!re[pe].once||R&&re[pe].context!==R)&&Me.push(re[pe]);Me.length?this._events[ee]=1===Me.length?Me[0]:Me:N(this,ee)}return this},W.prototype.removeAllListeners=function(v){var C;return v?this._events[C=p?p+v:v]&&N(this,C):(this._events=new E,this._eventsCount=0),this},W.prototype.off=W.prototype.removeListener,W.prototype.addListener=W.prototype.on,W.prefixed=p,W.EventEmitter=W,q.exports=W},1989:(q,H,p)=>{var E=p(1789),f=p(401),b=p(7667),N=p(1327),W=p(1866);function v(C){var R=-1,ge=null==C?0:C.length;for(this.clear();++R<ge;){var ee=C[R];this.set(ee[0],ee[1])}}v.prototype.clear=E,v.prototype.delete=f,v.prototype.get=b,v.prototype.has=N,v.prototype.set=W,q.exports=v},8407:(q,H,p)=>{var E=p(7040),f=p(4125),b=p(2117),N=p(7518),W=p(4705);function v(C){var R=-1,ge=null==C?0:C.length;for(this.clear();++R<ge;){var ee=C[R];this.set(ee[0],ee[1])}}v.prototype.clear=E,v.prototype.delete=f,v.prototype.get=b,v.prototype.has=N,v.prototype.set=W,q.exports=v},7071:(q,H,p)=>{var E=p(852)(p(5639),"Map");q.exports=E},3369:(q,H,p)=>{var E=p(4785),f=p(1285),b=p(6e3),N=p(9916),W=p(5265);function v(C){var R=-1,ge=null==C?0:C.length;for(this.clear();++R<ge;){var ee=C[R];this.set(ee[0],ee[1])}}v.prototype.clear=E,v.prototype.delete=f,v.prototype.get=b,v.prototype.has=N,v.prototype.set=W,q.exports=v},6384:(q,H,p)=>{var E=p(8407),f=p(7465),b=p(3779),N=p(7599),W=p(4758),v=p(4309);function C(R){var ge=this.__data__=new E(R);this.size=ge.size}C.prototype.clear=f,C.prototype.delete=b,C.prototype.get=N,C.prototype.has=W,C.prototype.set=v,q.exports=C},2705:(q,H,p)=>{var E=p(5639).Symbol;q.exports=E},1149:(q,H,p)=>{var E=p(5639).Uint8Array;q.exports=E},6874:q=>{q.exports=function(H,p,E){switch(E.length){case 0:return H.call(p);case 1:return H.call(p,E[0]);case 2:return H.call(p,E[0],E[1]);case 3:return H.call(p,E[0],E[1],E[2])}return H.apply(p,E)}},4636:(q,H,p)=>{var E=p(2545),f=p(5694),b=p(1469),N=p(4144),W=p(5776),v=p(6719),C=Object.prototype.hasOwnProperty;q.exports=function(R,ge){var ee=b(R),re=!ee&&f(R),pe=!ee&&!re&&N(R),Me=!ee&&!re&&!pe&&v(R),ze=ee||re||pe||Me,Be=ze?E(R.length,String):[],g=Be.length;for(var gt in R)!ge&&!C.call(R,gt)||ze&&("length"==gt||pe&&("offset"==gt||"parent"==gt)||Me&&("buffer"==gt||"byteLength"==gt||"byteOffset"==gt)||W(gt,g))||Be.push(gt);return Be}},6556:(q,H,p)=>{var E=p(9465),f=p(7813);q.exports=function(b,N,W){(void 0!==W&&!f(b[N],W)||void 0===W&&!(N in b))&&E(b,N,W)}},4865:(q,H,p)=>{var E=p(9465),f=p(7813),b=Object.prototype.hasOwnProperty;q.exports=function(N,W,v){var C=N[W];b.call(N,W)&&f(C,v)&&(void 0!==v||W in N)||E(N,W,v)}},8470:(q,H,p)=>{var E=p(7813);q.exports=function(f,b){for(var N=f.length;N--;)if(E(f[N][0],b))return N;return-1}},9465:(q,H,p)=>{var E=p(8777);q.exports=function(f,b,N){"__proto__"==b&&E?E(f,b,{configurable:!0,enumerable:!0,value:N,writable:!0}):f[b]=N}},3118:(q,H,p)=>{var E=p(3218),f=Object.create,b=function(){function N(){}return function(W){if(!E(W))return{};if(f)return f(W);N.prototype=W;var v=new N;return N.prototype=void 0,v}}();q.exports=b},8483:(q,H,p)=>{var E=p(5063)();q.exports=E},4239:(q,H,p)=>{var E=p(2705),f=p(9607),b=p(2333),v=E?E.toStringTag:void 0;q.exports=function(C){return null==C?void 0===C?"[object Undefined]":"[object Null]":v&&v in Object(C)?f(C):b(C)}},9454:(q,H,p)=>{var E=p(4239),f=p(7005);q.exports=function(N){return f(N)&&"[object Arguments]"==E(N)}},8458:(q,H,p)=>{var E=p(3560),f=p(5346),b=p(3218),N=p(346),W=/^\[object .+?Constructor\]$/,ee=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");q.exports=function(re){return!(!b(re)||f(re))&&(E(re)?ee:W).test(N(re))}},8749:(q,H,p)=>{var E=p(4239),f=p(1780),b=p(7005),N={};N["[object Float32Array]"]=N["[object Float64Array]"]=N["[object Int8Array]"]=N["[object Int16Array]"]=N["[object Int32Array]"]=N["[object Uint8Array]"]=N["[object Uint8ClampedArray]"]=N["[object Uint16Array]"]=N["[object Uint32Array]"]=!0,N["[object Arguments]"]=N["[object Array]"]=N["[object ArrayBuffer]"]=N["[object Boolean]"]=N["[object DataView]"]=N["[object Date]"]=N["[object Error]"]=N["[object Function]"]=N["[object Map]"]=N["[object Number]"]=N["[object Object]"]=N["[object RegExp]"]=N["[object Set]"]=N["[object String]"]=N["[object WeakMap]"]=!1,q.exports=function(W){return b(W)&&f(W.length)&&!!N[E(W)]}},313:(q,H,p)=>{var E=p(3218),f=p(5726),b=p(3498),N=Object.prototype.hasOwnProperty;q.exports=function(W){if(!E(W))return b(W);var v=f(W),C=[];for(var R in W)("constructor"!=R||!v&&N.call(W,R))&&C.push(R);return C}},2980:(q,H,p)=>{var E=p(6384),f=p(6556),b=p(8483),N=p(9783),W=p(3218),v=p(1704),C=p(6390);q.exports=function R(ge,ee,re,pe,Me){ge!==ee&&b(ee,function(ze,Be){if(Me||(Me=new E),W(ze))N(ge,ee,Be,re,R,pe,Me);else{var g=pe?pe(C(ge,Be),ze,Be+"",ge,ee,Me):void 0;void 0===g&&(g=ze),f(ge,Be,g)}},v)}},9783:(q,H,p)=>{var E=p(6556),f=p(4626),b=p(7133),N=p(278),W=p(8517),v=p(5694),C=p(1469),R=p(9246),ge=p(4144),ee=p(3560),re=p(3218),pe=p(8630),Me=p(6719),ze=p(6390),Be=p(9881);q.exports=function(g,gt,ct,mn,be,it,st){var yt=ze(g,ct),xt=ze(gt,ct),Ht=st.get(xt);if(Ht)E(g,ct,Ht);else{var At=it?it(yt,xt,ct+"",g,gt,st):void 0,sn=void 0===At;if(sn){var Kt=C(xt),$n=!Kt&&ge(xt),ir=!Kt&&!$n&&Me(xt);At=xt,Kt||$n||ir?C(yt)?At=yt:R(yt)?At=N(yt):$n?(sn=!1,At=f(xt,!0)):ir?(sn=!1,At=b(xt,!0)):At=[]:pe(xt)||v(xt)?(At=yt,v(yt)?At=Be(yt):re(yt)&&!ee(yt)||(At=W(xt))):sn=!1}sn&&(st.set(xt,At),be(At,xt,mn,it,st),st.delete(xt)),E(g,ct,At)}}},5976:(q,H,p)=>{var E=p(6557),f=p(5357),b=p(61);q.exports=function(N,W){return b(f(N,W,E),N+"")}},6560:(q,H,p)=>{var E=p(5703),f=p(8777),b=p(6557);q.exports=f?function(W,v){return f(W,"toString",{configurable:!0,enumerable:!1,value:E(v),writable:!0})}:b},2545:q=>{q.exports=function(H,p){for(var E=-1,f=Array(H);++E<H;)f[E]=p(E);return f}},1717:q=>{q.exports=function(H){return function(p){return H(p)}}},4318:(q,H,p)=>{var E=p(1149);q.exports=function(f){var b=new f.constructor(f.byteLength);return new E(b).set(new E(f)),b}},4626:(q,H,p)=>{q=p.nmd(q);var E=p(5639),f=H&&!H.nodeType&&H,b=f&&q&&!q.nodeType&&q,N=b&&b.exports===f?E.Buffer:void 0,W=N?N.allocUnsafe:void 0;q.exports=function(v,C){if(C)return v.slice();var R=v.length,ge=W?W(R):new v.constructor(R);return v.copy(ge),ge}},7133:(q,H,p)=>{var E=p(4318);q.exports=function(f,b){var N=b?E(f.buffer):f.buffer;return new f.constructor(N,f.byteOffset,f.length)}},278:q=>{q.exports=function(H,p){var E=-1,f=H.length;for(p||(p=Array(f));++E<f;)p[E]=H[E];return p}},8363:(q,H,p)=>{var E=p(4865),f=p(9465);q.exports=function(b,N,W,v){var C=!W;W||(W={});for(var R=-1,ge=N.length;++R<ge;){var ee=N[R],re=v?v(W[ee],b[ee],ee,W,b):void 0;void 0===re&&(re=b[ee]),C?f(W,ee,re):E(W,ee,re)}return W}},4429:(q,H,p)=>{var E=p(5639)["__core-js_shared__"];q.exports=E},1463:(q,H,p)=>{var E=p(5976),f=p(6612);q.exports=function(b){return E(function(N,W){var v=-1,C=W.length,R=C>1?W[C-1]:void 0,ge=C>2?W[2]:void 0;for(R=b.length>3&&"function"==typeof R?(C--,R):void 0,ge&&f(W[0],W[1],ge)&&(R=C<3?void 0:R,C=1),N=Object(N);++v<C;){var ee=W[v];ee&&b(N,ee,v,R)}return N})}},5063:q=>{q.exports=function(H){return function(p,E,f){for(var b=-1,N=Object(p),W=f(p),v=W.length;v--;){var C=W[H?v:++b];if(!1===E(N[C],C,N))break}return p}}},8777:(q,H,p)=>{var E=p(852),f=function(){try{var b=E(Object,"defineProperty");return b({},"",{}),b}catch{}}();q.exports=f},1957:(q,H,p)=>{q.exports="object"==typeof p.g&&p.g&&p.g.Object===Object&&p.g},5050:(q,H,p)=>{var E=p(7019);q.exports=function(f,b){var N=f.__data__;return E(b)?N["string"==typeof b?"string":"hash"]:N.map}},852:(q,H,p)=>{var E=p(8458),f=p(7801);q.exports=function(b,N){var W=f(b,N);return E(W)?W:void 0}},5924:(q,H,p)=>{var E=p(5569)(Object.getPrototypeOf,Object);q.exports=E},9607:(q,H,p)=>{var E=p(2705),f=Object.prototype,b=f.hasOwnProperty,N=f.toString,W=E?E.toStringTag:void 0;q.exports=function(v){var C=b.call(v,W),R=v[W];try{v[W]=void 0;var ge=!0}catch{}var ee=N.call(v);return ge&&(C?v[W]=R:delete v[W]),ee}},7801:q=>{q.exports=function(H,p){return H?.[p]}},1789:(q,H,p)=>{var E=p(4536);q.exports=function(){this.__data__=E?E(null):{},this.size=0}},401:q=>{q.exports=function(H){var p=this.has(H)&&delete this.__data__[H];return this.size-=p?1:0,p}},7667:(q,H,p)=>{var E=p(4536),b=Object.prototype.hasOwnProperty;q.exports=function(N){var W=this.__data__;if(E){var v=W[N];return"__lodash_hash_undefined__"===v?void 0:v}return b.call(W,N)?W[N]:void 0}},1327:(q,H,p)=>{var E=p(4536),f=Object.prototype.hasOwnProperty;q.exports=function(b){var N=this.__data__;return E?void 0!==N[b]:f.call(N,b)}},1866:(q,H,p)=>{var E=p(4536);q.exports=function(b,N){var W=this.__data__;return this.size+=this.has(b)?0:1,W[b]=E&&void 0===N?"__lodash_hash_undefined__":N,this}},8517:(q,H,p)=>{var E=p(3118),f=p(5924),b=p(5726);q.exports=function(N){return"function"!=typeof N.constructor||b(N)?{}:E(f(N))}},5776:q=>{var p=/^(?:0|[1-9]\d*)$/;q.exports=function(E,f){var b=typeof E;return!!(f=f??9007199254740991)&&("number"==b||"symbol"!=b&&p.test(E))&&E>-1&&E%1==0&&E<f}},6612:(q,H,p)=>{var E=p(7813),f=p(8612),b=p(5776),N=p(3218);q.exports=function(W,v,C){if(!N(C))return!1;var R=typeof v;return!!("number"==R?f(C)&&b(v,C.length):"string"==R&&v in C)&&E(C[v],W)}},7019:q=>{q.exports=function(H){var p=typeof H;return"string"==p||"number"==p||"symbol"==p||"boolean"==p?"__proto__"!==H:null===H}},5346:(q,H,p)=>{var E,f=p(4429),b=(E=/[^.]+$/.exec(f&&f.keys&&f.keys.IE_PROTO||""))?"Symbol(src)_1."+E:"";q.exports=function(N){return!!b&&b in N}},5726:q=>{var H=Object.prototype;q.exports=function(p){var E=p&&p.constructor;return p===("function"==typeof E&&E.prototype||H)}},7040:q=>{q.exports=function(){this.__data__=[],this.size=0}},4125:(q,H,p)=>{var E=p(8470),f=Array.prototype.splice;q.exports=function(b){var N=this.__data__,W=E(N,b);return!(W<0||(W==N.length-1?N.pop():f.call(N,W,1),--this.size,0))}},2117:(q,H,p)=>{var E=p(8470);q.exports=function(f){var b=this.__data__,N=E(b,f);return N<0?void 0:b[N][1]}},7518:(q,H,p)=>{var E=p(8470);q.exports=function(f){return E(this.__data__,f)>-1}},4705:(q,H,p)=>{var E=p(8470);q.exports=function(f,b){var N=this.__data__,W=E(N,f);return W<0?(++this.size,N.push([f,b])):N[W][1]=b,this}},4785:(q,H,p)=>{var E=p(1989),f=p(8407),b=p(7071);q.exports=function(){this.size=0,this.__data__={hash:new E,map:new(b||f),string:new E}}},1285:(q,H,p)=>{var E=p(5050);q.exports=function(f){var b=E(this,f).delete(f);return this.size-=b?1:0,b}},6e3:(q,H,p)=>{var E=p(5050);q.exports=function(f){return E(this,f).get(f)}},9916:(q,H,p)=>{var E=p(5050);q.exports=function(f){return E(this,f).has(f)}},5265:(q,H,p)=>{var E=p(5050);q.exports=function(f,b){var N=E(this,f),W=N.size;return N.set(f,b),this.size+=N.size==W?0:1,this}},4536:(q,H,p)=>{var E=p(852)(Object,"create");q.exports=E},3498:q=>{q.exports=function(H){var p=[];if(null!=H)for(var E in Object(H))p.push(E);return p}},1167:(q,H,p)=>{q=p.nmd(q);var E=p(1957),f=H&&!H.nodeType&&H,b=f&&q&&!q.nodeType&&q,N=b&&b.exports===f&&E.process,W=function(){try{return b&&b.require&&b.require("util").types||N&&N.binding&&N.binding("util")}catch{}}();q.exports=W},2333:q=>{var H=Object.prototype.toString;q.exports=function(p){return H.call(p)}},5569:q=>{q.exports=function(H,p){return function(E){return H(p(E))}}},5357:(q,H,p)=>{var E=p(6874),f=Math.max;q.exports=function(b,N,W){return N=f(void 0===N?b.length-1:N,0),function(){for(var v=arguments,C=-1,R=f(v.length-N,0),ge=Array(R);++C<R;)ge[C]=v[N+C];C=-1;for(var ee=Array(N+1);++C<N;)ee[C]=v[C];return ee[N]=W(ge),E(b,this,ee)}}},5639:(q,H,p)=>{var E=p(1957),f="object"==typeof self&&self&&self.Object===Object&&self,b=E||f||Function("return this")();q.exports=b},6390:q=>{q.exports=function(H,p){if(("constructor"!==p||"function"!=typeof H[p])&&"__proto__"!=p)return H[p]}},61:(q,H,p)=>{var E=p(6560),f=p(1275)(E);q.exports=f},1275:q=>{var E=Date.now;q.exports=function(f){var b=0,N=0;return function(){var W=E(),v=16-(W-N);if(N=W,v>0){if(++b>=800)return arguments[0]}else b=0;return f.apply(void 0,arguments)}}},7465:(q,H,p)=>{var E=p(8407);q.exports=function(){this.__data__=new E,this.size=0}},3779:q=>{q.exports=function(H){var p=this.__data__,E=p.delete(H);return this.size=p.size,E}},7599:q=>{q.exports=function(H){return this.__data__.get(H)}},4758:q=>{q.exports=function(H){return this.__data__.has(H)}},4309:(q,H,p)=>{var E=p(8407),f=p(7071),b=p(3369);q.exports=function(W,v){var C=this.__data__;if(C instanceof E){var R=C.__data__;if(!f||R.length<199)return R.push([W,v]),this.size=++C.size,this;C=this.__data__=new b(R)}return C.set(W,v),this.size=C.size,this}},346:q=>{var H=Function.prototype.toString;q.exports=function(p){if(null!=p){try{return H.call(p)}catch{}try{return p+""}catch{}}return""}},5703:q=>{q.exports=function(H){return function(){return H}}},7813:q=>{q.exports=function(H,p){return H===p||H!=H&&p!=p}},6557:q=>{q.exports=function(H){return H}},5694:(q,H,p)=>{var E=p(9454),f=p(7005),b=Object.prototype,N=b.hasOwnProperty,W=b.propertyIsEnumerable,v=E(function(){return arguments}())?E:function(C){return f(C)&&N.call(C,"callee")&&!W.call(C,"callee")};q.exports=v},1469:q=>{q.exports=Array.isArray},8612:(q,H,p)=>{var E=p(3560),f=p(1780);q.exports=function(b){return null!=b&&f(b.length)&&!E(b)}},9246:(q,H,p)=>{var E=p(8612),f=p(7005);q.exports=function(b){return f(b)&&E(b)}},4144:(q,H,p)=>{q=p.nmd(q);var E=p(5639),f=p(5062),b=H&&!H.nodeType&&H,N=b&&q&&!q.nodeType&&q,W=N&&N.exports===b?E.Buffer:void 0;q.exports=(W?W.isBuffer:void 0)||f},3560:(q,H,p)=>{var E=p(4239),f=p(3218);q.exports=function(C){if(!f(C))return!1;var R=E(C);return"[object Function]"==R||"[object GeneratorFunction]"==R||"[object AsyncFunction]"==R||"[object Proxy]"==R}},1780:q=>{q.exports=function(p){return"number"==typeof p&&p>-1&&p%1==0&&p<=9007199254740991}},3218:q=>{q.exports=function(H){var p=typeof H;return null!=H&&("object"==p||"function"==p)}},7005:q=>{q.exports=function(H){return null!=H&&"object"==typeof H}},8630:(q,H,p)=>{var E=p(4239),f=p(5924),b=p(7005),C=Function.prototype.toString,R=Object.prototype.hasOwnProperty,ge=C.call(Object);q.exports=function(ee){if(!b(ee)||"[object Object]"!=E(ee))return!1;var re=f(ee);if(null===re)return!0;var pe=R.call(re,"constructor")&&re.constructor;return"function"==typeof pe&&pe instanceof pe&&C.call(pe)==ge}},6719:(q,H,p)=>{var E=p(8749),f=p(1717),b=p(1167),N=b&&b.isTypedArray,W=N?f(N):E;q.exports=W},1704:(q,H,p)=>{var E=p(4636),f=p(313),b=p(8612);q.exports=function(N){return b(N)?E(N,!0):f(N)}},6486:function(q,H,p){var E;q=p.nmd(q),function(){var f,b="Expected a function",N="__lodash_hash_undefined__",W="__lodash_placeholder__",C=32,re=1/0,pe=9007199254740991,ze=4294967295,Be=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",C],["partialRight",64],["rearg",256]],g="[object Arguments]",gt="[object Array]",ct="[object Boolean]",mn="[object Date]",be="[object Error]",it="[object Function]",st="[object GeneratorFunction]",yt="[object Map]",xt="[object Number]",Ht="[object Object]",At="[object Promise]",sn="[object RegExp]",Kt="[object Set]",$n="[object String]",ir="[object Symbol]",cr="[object WeakMap]",fr="[object ArrayBuffer]",qn="[object DataView]",Lr="[object Float32Array]",mr="[object Float64Array]",gr="[object Int8Array]",_r="[object Int16Array]",Fn="[object Int32Array]",Jn="[object Uint8Array]",Vn="[object Uint8ClampedArray]",En="[object Uint16Array]",dn="[object Uint32Array]",_n=/\b__p \+= '';/g,jr=/\b(__p \+=) '' \+/g,en=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ri=/&(?:amp|lt|gt|quot|#39);/g,Qe=/[&<>"']/g,lt=RegExp(ri.source),ft=RegExp(Qe.source),Wt=/<%-([\s\S]+?)%>/g,an=/<%([\s\S]+?)%>/g,Xe=/<%=([\s\S]+?)%>/g,fn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,d=/^\w*$/,t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/[\\^$.*+?()[\]{}|]/g,h=RegExp(o.source),P=/^\s+/,S=/\s/,A=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,$=/\{\n\/\* \[wrapped with (.+)\] \*/,j=/,? & /,G=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,V=/[()=,{}\[\]\/\s]/,y=/\\(\\)?/g,_=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,F=/\w*$/,Q=/^[-+]0x[0-9a-f]+$/i,Y=/^0b[01]+$/i,Z=/^\[object .+?Constructor\]$/,fe=/^0o[0-7]+$/i,le=/^(?:0|[1-9]\d*)$/,se=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ae=/($^)/,ve=/['\n\r\u2028\u2029\\]/g,Le="\\ud800-\\udfff",Je="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Oe="\\u2700-\\u27bf",Ye="a-z\\xdf-\\xf6\\xf8-\\xff",we="A-Z\\xc0-\\xd6\\xd8-\\xde",Pe="\\ufe0e\\ufe0f",je="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Nt="["+Le+"]",He="["+je+"]",Tt="["+Je+"]",mt="\\d+",Lt="["+Oe+"]",Vt="["+Ye+"]",$r="[^"+Le+je+mt+Oe+Ye+we+"]",vr="\\ud83c[\\udffb-\\udfff]",Br="[^"+Le+"]",xr="(?:\\ud83c[\\udde6-\\uddff]){2}",lr="[\\ud800-\\udbff][\\udc00-\\udfff]",er="["+we+"]",Gi="(?:"+Vt+"|"+$r+")",fi="(?:"+er+"|"+$r+")",ii="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ur="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",kr="(?:"+Tt+"|"+vr+")?",si="["+Pe+"]?",mi=si+kr+"(?:\\u200d(?:"+[Br,xr,lr].join("|")+")"+si+kr+")*",gi="(?:"+[Lt,xr,lr].join("|")+")"+mi,vi="(?:"+[Br+Tt+"?",Tt,xr,lr,Nt].join("|")+")",us=RegExp("['\u2019]","g"),Ir=RegExp(Tt,"g"),Dn=RegExp(vr+"(?="+vr+")|"+vi+mi,"g"),yi=RegExp([er+"?"+Vt+"+"+ii+"(?="+[He,er,"$"].join("|")+")",fi+"+"+Ur+"(?="+[He,er+Gi,"$"].join("|")+")",er+"?"+Gi+"+"+ii,er+"+"+Ur,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",mt,gi].join("|"),"g"),ds=RegExp("[\\u200d"+Le+Je+Pe+"]"),qi=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Vi=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],zs=-1,yn={};yn[Lr]=yn[mr]=yn[gr]=yn[_r]=yn[Fn]=yn[Jn]=yn[Vn]=yn[En]=yn[dn]=!0,yn[g]=yn[gt]=yn[fr]=yn[ct]=yn[qn]=yn[mn]=yn[be]=yn[it]=yn[yt]=yn[xt]=yn[Ht]=yn[sn]=yn[Kt]=yn[$n]=yn[cr]=!1;var pn={};pn[g]=pn[gt]=pn[fr]=pn[qn]=pn[ct]=pn[mn]=pn[Lr]=pn[mr]=pn[gr]=pn[_r]=pn[Fn]=pn[yt]=pn[xt]=pn[Ht]=pn[sn]=pn[Kt]=pn[$n]=pn[ir]=pn[Jn]=pn[Vn]=pn[En]=pn[dn]=!0,pn[be]=pn[it]=pn[cr]=!1;var _s={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Xi=parseFloat,xs=parseInt,Pr="object"==typeof p.g&&p.g&&p.g.Object===Object&&p.g,Hs="object"==typeof self&&self&&self.Object===Object&&self,It=Pr||Hs||Function("return this")(),Yi=H&&!H.nodeType&&H,Di=Yi&&q&&!q.nodeType&&q,ai=Di&&Di.exports===Yi,bi=ai&&Pr.process,Kn=function(){try{return Di&&Di.require&&Di.require("util").types||bi&&bi.binding&&bi.binding("util")}catch{}}(),ua=Kn&&Kn.isArrayBuffer,oi=Kn&&Kn.isDate,ks=Kn&&Kn.isMap,Ni=Kn&&Kn.isRegExp,Li=Kn&&Kn.isSet,on=Kn&&Kn.isTypedArray;function ur(Ee,Ae,xe){switch(xe.length){case 0:return Ee.call(Ae);case 1:return Ee.call(Ae,xe[0]);case 2:return Ee.call(Ae,xe[0],xe[1]);case 3:return Ee.call(Ae,xe[0],xe[1],xe[2])}return Ee.apply(Ae,xe)}function Ws(Ee,Ae,xe,Ge){for(var tt=-1,wt=null==Ee?0:Ee.length;++tt<wt;){var Pn=Ee[tt];Ae(Ge,Pn,xe(Pn),Ee)}return Ge}function Fr(Ee,Ae){for(var xe=-1,Ge=null==Ee?0:Ee.length;++xe<Ge&&!1!==Ae(Ee[xe],xe,Ee););return Ee}function Pa(Ee,Ae){for(var xe=null==Ee?0:Ee.length;xe--&&!1!==Ae(Ee[xe],xe,Ee););return Ee}function ps(Ee,Ae){for(var xe=-1,Ge=null==Ee?0:Ee.length;++xe<Ge;)if(!Ae(Ee[xe],xe,Ee))return!1;return!0}function Zt(Ee,Ae){for(var xe=-1,Ge=null==Ee?0:Ee.length,tt=0,wt=[];++xe<Ge;){var Pn=Ee[xe];Ae(Pn,xe,Ee)&&(wt[tt++]=Pn)}return wt}function Is(Ee,Ae){return!(null==Ee||!Ee.length)&&Ii(Ee,Ae,0)>-1}function Gs(Ee,Ae,xe){for(var Ge=-1,tt=null==Ee?0:Ee.length;++Ge<tt;)if(xe(Ae,Ee[Ge]))return!0;return!1}function xn(Ee,Ae){for(var xe=-1,Ge=null==Ee?0:Ee.length,tt=Array(Ge);++xe<Ge;)tt[xe]=Ae(Ee[xe],xe,Ee);return tt}function Si(Ee,Ae){for(var xe=-1,Ge=Ae.length,tt=Ee.length;++xe<Ge;)Ee[tt+xe]=Ae[xe];return Ee}function Ps(Ee,Ae,xe,Ge){var tt=-1,wt=null==Ee?0:Ee.length;for(Ge&&wt&&(xe=Ee[++tt]);++tt<wt;)xe=Ae(xe,Ee[tt],tt,Ee);return xe}function qs(Ee,Ae,xe,Ge){var tt=null==Ee?0:Ee.length;for(Ge&&tt&&(xe=Ee[--tt]);tt--;)xe=Ae(xe,Ee[tt],tt,Ee);return xe}function hs(Ee,Ae){for(var xe=-1,Ge=null==Ee?0:Ee.length;++xe<Ge;)if(Ae(Ee[xe],xe,Ee))return!0;return!1}var da=As("length");function Os(Ee,Ae,xe){var Ge;return xe(Ee,function(tt,wt,Pn){if(Ae(tt,wt,Pn))return Ge=wt,!1}),Ge}function Ji(Ee,Ae,xe,Ge){for(var tt=Ee.length,wt=xe+(Ge?1:-1);Ge?wt--:++wt<tt;)if(Ae(Ee[wt],wt,Ee))return wt;return-1}function Ii(Ee,Ae,xe){return Ae==Ae?function(Ge,tt,wt){for(var Pn=wt-1,zr=Ge.length;++Pn<zr;)if(Ge[Pn]===tt)return Pn;return-1}(Ee,Ae,xe):Ji(Ee,Vs,xe)}function Rs(Ee,Ae,xe,Ge){for(var tt=xe-1,wt=Ee.length;++tt<wt;)if(Ge(Ee[tt],Ae))return tt;return-1}function Vs(Ee){return Ee!=Ee}function Ki(Ee,Ae){var xe=null==Ee?0:Ee.length;return xe?Xs(Ee,Ae)/xe:NaN}function As(Ee){return function(Ae){return null==Ae?f:Ae[Ee]}}function fs(Ee){return function(Ae){return null==Ee?f:Ee[Ae]}}function Ms(Ee,Ae,xe,Ge,tt){return tt(Ee,function(wt,Pn,zr){xe=Ge?(Ge=!1,wt):Ae(xe,wt,Pn,zr)}),xe}function Xs(Ee,Ae){for(var xe,Ge=-1,tt=Ee.length;++Ge<tt;){var wt=Ae(Ee[Ge]);wt!==f&&(xe=xe===f?wt:xe+wt)}return xe}function Ys(Ee,Ae){for(var xe=-1,Ge=Array(Ee);++xe<Ee;)Ge[xe]=Ae(xe);return Ge}function Nn(Ee){return Ee&&Ee.slice(0,Rt(Ee)+1).replace(P,"")}function r(Ee){return function(Ae){return Ee(Ae)}}function a(Ee,Ae){return xn(Ae,function(xe){return Ee[xe]})}function m(Ee,Ae){return Ee.has(Ae)}function w(Ee,Ae){for(var xe=-1,Ge=Ee.length;++xe<Ge&&Ii(Ae,Ee[xe],0)>-1;);return xe}function L(Ee,Ae){for(var xe=Ee.length;xe--&&Ii(Ae,Ee[xe],0)>-1;);return xe}var z=fs({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),J=fs({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function oe(Ee){return"\\"+_s[Ee]}function ne(Ee){return ds.test(Ee)}function he(Ee){var Ae=-1,xe=Array(Ee.size);return Ee.forEach(function(Ge,tt){xe[++Ae]=[tt,Ge]}),xe}function _e(Ee,Ae){return function(xe){return Ee(Ae(xe))}}function Ie(Ee,Ae){for(var xe=-1,Ge=Ee.length,tt=0,wt=[];++xe<Ge;){var Pn=Ee[xe];Pn!==Ae&&Pn!==W||(Ee[xe]=W,wt[tt++]=xe)}return wt}function ye(Ee){var Ae=-1,xe=Array(Ee.size);return Ee.forEach(function(Ge){xe[++Ae]=Ge}),xe}function ut(Ee){return ne(Ee)?function(Ae){for(var xe=Dn.lastIndex=0;Dn.test(Ae);)++xe;return xe}(Ee):da(Ee)}function De(Ee){return ne(Ee)?Ee.match(Dn)||[]:Ee.split("")}function Rt(Ee){for(var Ae=Ee.length;Ae--&&S.test(Ee.charAt(Ae)););return Ae}var In=fs({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),ht=function Ee(Ae){var xe,Ge=(Ae=null==Ae?It:ht.defaults(It.Object(),Ae,ht.pick(It,Vi))).Array,tt=Ae.Date,wt=Ae.Error,Pn=Ae.Function,zr=Ae.Math,tn=Ae.Object,Ei=Ae.RegExp,Or=Ae.String,Xn=Ae.TypeError,wi=Ge.prototype,On=tn.prototype,Rn=Ae["__core-js_shared__"],An=Pn.prototype.toString,Qt=On.hasOwnProperty,dr=0,kt=(xe=/[^.]+$/.exec(Rn&&Rn.keys&&Rn.keys.IE_PROTO||""))?"Symbol(src)_1."+xe:"",kn=On.toString,wn=An.call(tn),Cn=It._,Xr=Ei("^"+An.call(Qt).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Yr=ai?Ae.Buffer:f,Hr=Ae.Symbol,Rr=Ae.Uint8Array,Ds=Yr?Yr.allocUnsafe:f,Ar=_e(tn.getPrototypeOf,tn),Ns=tn.create,Qi=On.propertyIsEnumerable,bt=wi.splice,Ci=Hr?Hr.isConcatSpreadable:f,zn=Hr?Hr.iterator:f,ci=Hr?Hr.toStringTag:f,Zi=function(){try{var e=_t(tn,"defineProperty");return e({},"",{}),e}catch{}}(),Js=Ae.clearTimeout!==It.clearTimeout&&Ae.clearTimeout,Ks=tt&&tt.now!==It.Date.now&&tt.now,es=Ae.setTimeout!==It.setTimeout&&Ae.setTimeout,te=zr.ceil,ue=zr.floor,Te=tn.getOwnPropertySymbols,ke=Yr?Yr.isBuffer:f,Ne=Ae.isFinite,dt=wi.join,pt=_e(tn.keys,tn),nt=zr.max,Ke=zr.min,nn=tt.now,Ft=Ae.parseInt,jt=zr.random,rn=wi.reverse,rt=_t(Ae,"DataView"),bn=_t(Ae,"Map"),cn=_t(Ae,"Promise"),ln=_t(Ae,"Set"),Ln=_t(Ae,"WeakMap"),$t=_t(tn,"create"),jn=Ln&&new Ln,hn={},li=oa(rt),br=oa(bn),ts=oa(cn),ms=oa(ln),pa=oa(Ln),Pi=Hr?Hr.prototype:f,gs=Pi?Pi.valueOf:f,ha=Pi?Pi.toString:f;function X(e){if(Zn(e)&&!qt(e)&&!(e instanceof Yt)){if(e instanceof Jr)return e;if(Qt.call(e,"__wrapped__"))return hc(e)}return new Jr(e)}var vs=function(){function e(){}return function(n){if(!Yn(n))return{};if(Ns)return Ns(n);e.prototype=n;var l=new e;return e.prototype=f,l}}();function Qs(){}function Jr(e,n){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=f}function Yt(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ze,this.__views__=[]}function ns(e){var n=-1,l=null==e?0:e.length;for(this.clear();++n<l;){var x=e[n];this.set(x[0],x[1])}}function Oi(e){var n=-1,l=null==e?0:e.length;for(this.clear();++n<l;){var x=e[n];this.set(x[0],x[1])}}function ji(e){var n=-1,l=null==e?0:e.length;for(this.clear();++n<l;){var x=e[n];this.set(x[0],x[1])}}function $i(e){var n=-1,l=null==e?0:e.length;for(this.__data__=new ji;++n<l;)this.add(e[n])}function Kr(e){var n=this.__data__=new Oi(e);this.size=n.size}function Qa(e,n){var l=qt(e),x=!l&&ca(e),U=!l&&!x&&Us(e),K=!l&&!x&&!U&&ka(e),ce=l||x||U||K,de=ce?Ys(e.length,Or):[],Ce=de.length;for(var Ue in e)!n&&!Qt.call(e,Ue)||ce&&("length"==Ue||U&&("offset"==Ue||"parent"==Ue)||K&&("buffer"==Ue||"byteLength"==Ue||"byteOffset"==Ue)||Gn(Ue,Ce))||de.push(Ue);return de}function Za(e){var n=e.length;return n?e[Bs(0,n-1)]:f}function Mo(e,n){return vo(or(e),Qr(n,0,e.length))}function Do(e){return vo(or(e))}function Oa(e,n,l){(l!==f&&!Wi(e[n],l)||l===f&&!(n in e))&&Bi(e,n,l)}function Zs(e,n,l){var x=e[n];Qt.call(e,n)&&Wi(x,l)&&(l!==f||n in e)||Bi(e,n,l)}function fa(e,n){for(var l=e.length;l--;)if(Wi(e[l][0],n))return l;return-1}function No(e,n,l,x){return Ui(e,function(U,K,ce){n(x,U,l(U),ce)}),x}function eo(e,n){return e&&Dr(n,Tr(n),e)}function Bi(e,n,l){"__proto__"==n&&Zi?Zi(e,n,{configurable:!0,enumerable:!0,value:l,writable:!0}):e[n]=l}function ma(e,n){for(var l=-1,x=n.length,U=Ge(x),K=null==e;++l<x;)U[l]=K?f:Vo(e,n[l]);return U}function Qr(e,n,l){return e==e&&(l!==f&&(e=e<=l?e:l),n!==f&&(e=e>=n?e:n)),e}function Zr(e,n,l,x,U,K){var ce,de=1&n,Ce=2&n,Ue=4&n;if(l&&(ce=U?l(e,x,U,K):l(e)),ce!==f)return ce;if(!Yn(e))return e;var Fe,Ze,Bt,$e=qt(e);if($e){if(Bt=new(Fe=e).constructor(Ze=Fe.length),Ze&&"string"==typeof Fe[0]&&Qt.call(Fe,"index")&&(Bt.index=Fe.index,Bt.input=Fe.input),ce=Bt,!de)return or(e,ce)}else{var Ve=un(e),vt=Ve==it||Ve==st;if(Us(e))return ra(e,de);if(Ve==Ht||Ve==g||vt&&!U){if(ce=Ce||vt?{}:xi(e),!de)return Ce?function(Fe,Ze){return Dr(Fe,gn(Fe),Ze)}(e,function(Fe,Ze){return Fe&&Dr(Ze,pi(Ze),Fe)}(ce,e)):function(Fe,Ze){return Dr(Fe,Mt(Fe),Ze)}(e,eo(ce,e))}else{if(!pn[Ve])return U?e:{};ce=function(Fe,Ze,Bt){var zt,Pt,at=Fe.constructor;switch(Ze){case fr:return Wa(Fe);case ct:case mn:return new at(+Fe);case qn:return zt=Fe,Pt=Bt?Wa(zt.buffer):zt.buffer,new zt.constructor(Pt,zt.byteOffset,zt.byteLength);case Lr:case mr:case gr:case _r:case Fn:case Jn:case Vn:case En:case dn:return po(Fe,Bt);case yt:return new at;case xt:case $n:return new at(Fe);case sn:return function(zt){var vn=new zt.constructor(zt.source,F.exec(zt));return vn.lastIndex=zt.lastIndex,vn}(Fe);case Kt:return new at;case ir:return gs?tn(gs.call(Fe)):{}}}(e,Ve,de)}}K||(K=new Kr);var Ct=K.get(e);if(Ct)return Ct;K.set(e,ce),Rc(e)?e.forEach(function(Fe){ce.add(Zr(Fe,n,l,Fe,e,K))}):Pc(e)&&e.forEach(function(Fe,Ze){ce.set(Ze,Zr(Fe,n,l,Ze,e,K))});var Dt=$e?f:(Ue?Ce?O:M:Ce?pi:Tr)(e);return Fr(Dt||e,function(Fe,Ze){Dt&&(Fe=e[Ze=Fe]),Zs(ce,Ze,Zr(Fe,n,l,Ze,e,K))}),ce}function ea(e,n,l){var x=l.length;if(null==e)return!x;for(e=tn(e);x--;){var U=l[x],ce=e[U];if(ce===f&&!(U in e)||!(0,n[U])(ce))return!1}return!0}function Ra(e,n,l){if("function"!=typeof e)throw new Xn(b);return Ja(function(){e.apply(f,l)},n)}function Ls(e,n,l,x){var U=-1,K=Is,ce=!0,de=e.length,Ce=[],Ue=n.length;if(!de)return Ce;l&&(n=xn(n,r(l))),x?(K=Gs,ce=!1):n.length>=200&&(K=m,ce=!1,n=new $i(n));e:for(;++U<de;){var $e=e[U],Ve=null==l?$e:l($e);if($e=x||0!==$e?$e:0,ce&&Ve==Ve){for(var vt=Ue;vt--;)if(n[vt]===Ve)continue e;Ce.push($e)}else K(n,Ve,x)||Ce.push($e)}return Ce}X.templateSettings={escape:Wt,evaluate:an,interpolate:Xe,variable:"",imports:{_:X}},(X.prototype=Qs.prototype).constructor=X,(Jr.prototype=vs(Qs.prototype)).constructor=Jr,(Yt.prototype=vs(Qs.prototype)).constructor=Yt,ns.prototype.clear=function(){this.__data__=$t?$t(null):{},this.size=0},ns.prototype.delete=function(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n},ns.prototype.get=function(e){var n=this.__data__;if($t){var l=n[e];return l===N?f:l}return Qt.call(n,e)?n[e]:f},ns.prototype.has=function(e){var n=this.__data__;return $t?n[e]!==f:Qt.call(n,e)},ns.prototype.set=function(e,n){var l=this.__data__;return this.size+=this.has(e)?0:1,l[e]=$t&&n===f?N:n,this},Oi.prototype.clear=function(){this.__data__=[],this.size=0},Oi.prototype.delete=function(e){var n=this.__data__,l=fa(n,e);return!(l<0||(l==n.length-1?n.pop():bt.call(n,l,1),--this.size,0))},Oi.prototype.get=function(e){var n=this.__data__,l=fa(n,e);return l<0?f:n[l][1]},Oi.prototype.has=function(e){return fa(this.__data__,e)>-1},Oi.prototype.set=function(e,n){var l=this.__data__,x=fa(l,e);return x<0?(++this.size,l.push([e,n])):l[x][1]=n,this},ji.prototype.clear=function(){this.size=0,this.__data__={hash:new ns,map:new(bn||Oi),string:new ns}},ji.prototype.delete=function(e){var n=ot(this,e).delete(e);return this.size-=n?1:0,n},ji.prototype.get=function(e){return ot(this,e).get(e)},ji.prototype.has=function(e){return ot(this,e).has(e)},ji.prototype.set=function(e,n){var l=ot(this,e),x=l.size;return l.set(e,n),this.size+=l.size==x?0:1,this},$i.prototype.add=$i.prototype.push=function(e){return this.__data__.set(e,N),this},$i.prototype.has=function(e){return this.__data__.has(e)},Kr.prototype.clear=function(){this.__data__=new Oi,this.size=0},Kr.prototype.delete=function(e){var n=this.__data__,l=n.delete(e);return this.size=n.size,l},Kr.prototype.get=function(e){return this.__data__.get(e)},Kr.prototype.has=function(e){return this.__data__.has(e)},Kr.prototype.set=function(e,n){var l=this.__data__;if(l instanceof Oi){var x=l.__data__;if(!bn||x.length<199)return x.push([e,n]),this.size=++l.size,this;l=this.__data__=new ji(x)}return l.set(e,n),this.size=l.size,this};var Ui=mo(ui),Aa=mo(Na,!0);function Lo(e,n){var l=!0;return Ui(e,function(x,U,K){return l=!!n(x,U,K)}),l}function js(e,n,l){for(var x=-1,U=e.length;++x<U;){var K=e[x],ce=n(K);if(null!=ce&&(de===f?ce==ce&&!ki(ce):l(ce,de)))var de=ce,Ce=K}return Ce}function Ma(e,n){var l=[];return Ui(e,function(x,U,K){n(x,U,K)&&l.push(x)}),l}function sr(e,n,l,x,U){var K=-1,ce=e.length;for(l||(l=pr),U||(U=[]);++K<ce;){var de=e[K];n>0&&l(de)?n>1?sr(de,n-1,l,x,U):Si(U,de):x||(U[U.length]=de)}return U}var Da=wa(),to=wa(!0);function ui(e,n){return e&&Da(e,n,Tr)}function Na(e,n){return e&&to(e,n,Tr)}function ga(e,n){return Zt(n,function(l){return Cs(e[l])})}function Qn(e,n){for(var l=0,x=(n=as(n,e)).length;null!=e&&l<x;)e=e[cs(n[l++])];return l&&l==x?e:f}function La(e,n,l){var x=n(e);return qt(e)?x:Si(x,l(e))}function Sr(e){return null==e?e===f?"[object Undefined]":"[object Null]":ci&&ci in tn(e)?function(n){var l=Qt.call(n,ci),x=n[ci];try{n[ci]=f;var U=!0}catch{}var K=kn.call(n);return U&&(l?n[ci]=x:delete n[ci]),K}(e):kn.call(e)}function ja(e,n){return e>n}function ar(e,n){return null!=e&&Qt.call(e,n)}function Hn(e,n){return null!=e&&n in tn(e)}function ys(e,n,l){for(var x=l?Gs:Is,U=e[0].length,K=e.length,ce=K,de=Ge(K),Ce=1/0,Ue=[];ce--;){var $e=e[ce];ce&&n&&($e=xn($e,r(n))),Ce=Ke($e.length,Ce),de[ce]=!l&&(n||U>=120&&$e.length>=120)?new $i(ce&&$e):f}$e=e[0];var Ve=-1,vt=de[0];e:for(;++Ve<U&&Ue.length<Ce;){var Ct=$e[Ve],Dt=n?n(Ct):Ct;if(Ct=l||0!==Ct?Ct:0,!(vt?m(vt,Dt):x(Ue,Dt,l))){for(ce=K;--ce;){var Fe=de[ce];if(!(Fe?m(Fe,Dt):x(e[ce],Dt,l)))continue e}vt&&vt.push(Dt),Ue.push(Ct)}}return Ue}function Ti(e,n,l){var x=null==(e=cc(e,n=as(n,e)))?e:e[cs(Ai(n))];return null==x?f:ur(x,e,l)}function $a(e){return Zn(e)&&Sr(e)==g}function bs(e,n,l,x,U){return e===n||(null==e||null==n||!Zn(e)&&!Zn(n)?e!=e&&n!=n:function(K,ce,de,Ce,Ue,$e){var Ve=qt(K),vt=qt(ce),Ct=Ve?gt:un(K),Dt=vt?gt:un(ce),Fe=(Ct=Ct==g?Ht:Ct)==Ht,Ze=(Dt=Dt==g?Ht:Dt)==Ht,Bt=Ct==Dt;if(Bt&&Us(K)){if(!Us(ce))return!1;Ve=!0,Fe=!1}if(Bt&&!Fe)return $e||($e=new Kr),Ve||ka(K)?T(K,ce,de,Ce,Ue,$e):function(Pt,Ut,hr,rr,ni,Un,qr){switch(hr){case qn:if(Pt.byteLength!=Ut.byteLength||Pt.byteOffset!=Ut.byteOffset)return!1;Pt=Pt.buffer,Ut=Ut.buffer;case fr:return!(Pt.byteLength!=Ut.byteLength||!Un(new Rr(Pt),new Rr(Ut)));case ct:case mn:case xt:return Wi(+Pt,+Ut);case be:return Pt.name==Ut.name&&Pt.message==Ut.message;case sn:case $n:return Pt==Ut+"";case yt:var ls=he;case Kt:if(ls||(ls=ye),Pt.size!=Ut.size&&!(1&rr))return!1;var xo=qr.get(Pt);if(xo)return xo==Ut;rr|=2,qr.set(Pt,Ut);var rc=T(ls(Pt),ls(Ut),rr,ni,Un,qr);return qr.delete(Pt),rc;case ir:if(gs)return gs.call(Pt)==gs.call(Ut)}return!1}(K,ce,Ct,de,Ce,Ue,$e);if(!(1&de)){var at=Fe&&Qt.call(K,"__wrapped__"),Xt=Ze&&Qt.call(ce,"__wrapped__");if(at||Xt){var zt=at?K.value():K,vn=Xt?ce.value():ce;return $e||($e=new Kr),Ue(zt,vn,de,Ce,$e)}}return!!Bt&&($e||($e=new Kr),function(Pt,Ut,hr,rr,ni,Un){var qr=1&hr,ls=M(Pt),Fs=ls.length;if(Fs!=M(Ut).length&&!qr)return!1;for(var ko=Fs;ko--;){var la=ls[ko];if(!(qr?la in Ut:Qt.call(Ut,la)))return!1}var Gc=Un.get(Pt),qc=Un.get(Ut);if(Gc&&qc)return Gc==Ut&&qc==Pt;var Io=!0;Un.set(Pt,Ut),Un.set(Ut,Pt);for(var ic=qr;++ko<Fs;){var Po=Pt[la=ls[ko]],Oo=Ut[la];if(rr)var Vc=qr?rr(Oo,Po,la,Ut,Pt,Un):rr(Po,Oo,la,Pt,Ut,Un);if(!(Vc===f?Po===Oo||ni(Po,Oo,hr,rr,Un):Vc)){Io=!1;break}ic||(ic="constructor"==la)}if(Io&&!ic){var Ro=Pt.constructor,Ao=Ut.constructor;Ro==Ao||!("constructor"in Pt)||!("constructor"in Ut)||"function"==typeof Ro&&Ro instanceof Ro&&"function"==typeof Ao&&Ao instanceof Ao||(Io=!1)}return Un.delete(Pt),Un.delete(Ut),Io}(K,ce,de,Ce,Ue,$e))}(e,n,l,x,bs,U))}function Ba(e,n,l,x){var U=l.length,K=U,ce=!x;if(null==e)return!K;for(e=tn(e);U--;){var de=l[U];if(ce&&de[2]?de[1]!==e[de[0]]:!(de[0]in e))return!1}for(;++U<K;){var Ce=(de=l[U])[0],Ue=e[Ce],$e=de[1];if(ce&&de[2]){if(Ue===f&&!(Ce in e))return!1}else{var Ve=new Kr;if(x)var vt=x(Ue,$e,Ce,e,n,Ve);if(!(vt===f?bs($e,Ue,3,x,Ve):vt))return!1}}return!0}function Wn(e){return!(!Yn(e)||(n=e,kt&&kt in n))&&(Cs(e)?Xr:Z).test(oa(e));var n}function no(e){return"function"==typeof e?e:null==e?hi:"object"==typeof e?qt(e)?so(e[0],e[1]):io(e):Wc(e)}function Ua(e){if(!Ya(e))return pt(e);var n=[];for(var l in tn(e))Qt.call(e,l)&&"constructor"!=l&&n.push(l);return n}function Fa(e,n){return e<n}function ro(e,n){var l=-1,x=di(e)?Ge(e.length):[];return Ui(e,function(U,K,ce){x[++l]=n(U,K,ce)}),x}function io(e){var n=Ot(e);return 1==n.length&&n[0][2]?ac(n[0][0],n[0][1]):function(l){return l===e||Ba(l,e,n)}}function so(e,n){return Cr(e)&&sc(n)?ac(cs(e),n):function(l){var x=Vo(l,e);return x===f&&x===n?Xo(l,e):bs(n,x,3)}}function va(e,n,l,x,U){e!==n&&Da(n,function(K,ce){if(U||(U=new Kr),Yn(K))!function(Ce,Ue,$e,Ve,vt,Ct,Dt){var Fe=Bo(Ce,$e),Ze=Bo(Ue,$e),Bt=Dt.get(Ze);if(Bt)Oa(Ce,$e,Bt);else{var at=Ct?Ct(Fe,Ze,$e+"",Ce,Ue,Dt):f,Xt=at===f;if(Xt){var zt=qt(Ze),vn=!zt&&Us(Ze),Pt=!zt&&!vn&&ka(Ze);at=Ze,zt||vn||Pt?qt(Fe)?at=Fe:nr(Fe)?at=or(Fe):vn?(Xt=!1,at=ra(Ze,!0)):Pt?(Xt=!1,at=po(Ze,!0)):at=[]:Ka(Ze)||ca(Ze)?(at=Fe,ca(Fe)?at=Dc(Fe):Yn(Fe)&&!Cs(Fe)||(at=xi(Ze))):Xt=!1}Xt&&(Dt.set(Ze,at),vt(at,Ze,Ve,Ct,Dt),Dt.delete(Ze)),Oa(Ce,$e,at)}}(e,n,ce,l,va,x,U);else{var de=x?x(Bo(e,ce),K,ce+"",e,n,U):f;de===f&&(de=K),Oa(e,ce,de)}},pi)}function ao(e,n){var l=e.length;if(l)return Gn(n+=n<0?l:0,l)?e[n]:f}function ya(e,n,l){n=n.length?xn(n,function(K){return qt(K)?function(ce){return Qn(ce,1===K.length?K[0]:K)}:K}):[hi];var x=-1;return n=xn(n,r(me())),function(K,ce){var de=K.length;for(K.sort(function(K,ce){return function(de,Ce,Ue){for(var $e=-1,Ve=de.criteria,vt=Ce.criteria,Ct=Ve.length,Dt=Ue.length;++$e<Ct;){var Fe=ia(Ve[$e],vt[$e]);if(Fe)return $e>=Dt?Fe:Fe*("desc"==Ue[$e]?-1:1)}return de.index-Ce.index}(K,ce,l)});de--;)K[de]=K[de].value;return K}(ro(e,function(K,ce,de){return{criteria:xn(n,function(Ue){return Ue(K)}),index:++x,value:K}}))}function oo(e,n,l){for(var x=-1,U=n.length,K={};++x<U;){var ce=n[x],de=Qn(e,ce);l(de,ce)&&rs(K,as(ce,e),de)}return K}function $s(e,n,l,x){var U=x?Rs:Ii,K=-1,ce=n.length,de=e;for(e===n&&(n=or(n)),l&&(de=xn(e,r(l)));++K<ce;)for(var Ce=0,Ue=n[K],$e=l?l(Ue):Ue;(Ce=U(de,$e,Ce,x))>-1;)de!==e&&bt.call(de,Ce,1),bt.call(e,Ce,1);return e}function ba(e,n){for(var l=e?n.length:0,x=l-1;l--;){var U=n[l];if(l==x||U!==K){var K=U;Gn(U)?bt.call(e,U,1):Mn(e,U)}}return e}function Bs(e,n){return e+ue(jt()*(n-e+1))}function Er(e,n){var l="";if(!e||n<1||n>pe)return l;do{n%2&&(l+=e),(n=ue(n/2))&&(e+=e)}while(n);return l}function Gt(e,n){return Uo(oc(e,n,hi),e+"")}function co(e){return Za(Ia(e))}function ta(e,n){var l=Ia(e);return vo(l,Qr(n,0,l.length))}function rs(e,n,l,x){if(!Yn(e))return e;for(var U=-1,K=(n=as(n,e)).length,ce=K-1,de=e;null!=de&&++U<K;){var Ce=cs(n[U]),Ue=l;if("__proto__"===Ce||"constructor"===Ce||"prototype"===Ce)return e;if(U!=ce){var $e=de[Ce];(Ue=x?x($e,Ce,de):f)===f&&(Ue=Yn($e)?$e:Gn(n[U+1])?[]:{})}Zs(de,Ce,Ue),de=de[Ce]}return e}var Mr=jn?function(e,n){return jn.set(e,n),e}:hi,ei=Zi?function(e,n){return Zi(e,"toString",{configurable:!0,enumerable:!1,value:Jo(n),writable:!0})}:hi;function na(e){return vo(Ia(e))}function Wr(e,n,l){var x=-1,U=e.length;n<0&&(n=-n>U?0:U+n),(l=l>U?U:l)<0&&(l+=U),U=n>l?0:l-n>>>0,n>>>=0;for(var K=Ge(U);++x<U;)K[x]=e[x+n];return K}function $o(e,n){var l;return Ui(e,function(x,U,K){return!(l=n(x,U,K))}),!!l}function Sa(e,n,l){var x=0,U=null==e?x:e.length;if("number"==typeof n&&n==n&&U<=2147483647){for(;x<U;){var K=x+U>>>1,ce=e[K];null!==ce&&!ki(ce)&&(l?ce<=n:ce<n)?x=K+1:U=K}return U}return za(e,n,hi,l)}function za(e,n,l,x){var U=0,K=null==e?0:e.length;if(0===K)return 0;for(var ce=(n=l(n))!=n,de=null===n,Ce=ki(n),Ue=n===f;U<K;){var $e=ue((U+K)/2),Ve=l(e[$e]),vt=Ve!==f,Ct=null===Ve,Dt=Ve==Ve,Fe=ki(Ve);if(ce)var Ze=x||Dt;else Ze=Ue?Dt&&(x||vt):de?Dt&&vt&&(x||!Ct):Ce?Dt&&vt&&!Ct&&(x||!Fe):!Ct&&!Fe&&(x?Ve<=n:Ve<n);Ze?U=$e+1:K=$e}return Ke(K,4294967294)}function lo(e,n){for(var l=-1,x=e.length,U=0,K=[];++l<x;){var ce=e[l],de=n?n(ce):ce;if(!l||!Wi(de,Ce)){var Ce=de;K[U++]=0===ce?0:ce}}return K}function Ha(e){return"number"==typeof e?e:ki(e)?NaN:+e}function ti(e){if("string"==typeof e)return e;if(qt(e))return xn(e,ti)+"";if(ki(e))return ha?ha.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}function is(e,n,l){var x=-1,U=Is,K=e.length,ce=!0,de=[],Ce=de;if(l)ce=!1,U=Gs;else if(K>=200){var Ue=n?null:c(e);if(Ue)return ye(Ue);ce=!1,U=m,Ce=new $i}else Ce=n?[]:de;e:for(;++x<K;){var $e=e[x],Ve=n?n($e):$e;if($e=l||0!==$e?$e:0,ce&&Ve==Ve){for(var vt=Ce.length;vt--;)if(Ce[vt]===Ve)continue e;n&&Ce.push(Ve),de.push($e)}else U(Ce,Ve,l)||(Ce!==de&&Ce.push(Ve),de.push($e))}return de}function Mn(e,n){return null==(e=cc(e,n=as(n,e)))||delete e[cs(Ai(n))]}function Ri(e,n,l,x){return rs(e,n,l(Qn(e,n)),x)}function Bn(e,n,l,x){for(var U=e.length,K=x?U:-1;(x?K--:++K<U)&&n(e[K],K,e););return l?Wr(e,x?0:K,x?K+1:U):Wr(e,x?K+1:0,x?U:K)}function Gr(e,n){var l=e;return l instanceof Yt&&(l=l.value()),Ps(n,function(x,U){return U.func.apply(U.thisArg,Si([x],U.args))},l)}function ss(e,n,l){var x=e.length;if(x<2)return x?is(e[0]):[];for(var U=-1,K=Ge(x);++U<x;)for(var ce=e[U],de=-1;++de<x;)de!=U&&(K[U]=Ls(K[U]||ce,e[de],n,l));return is(sr(K,1),n,l)}function Ss(e,n,l){for(var x=-1,U=e.length,K=n.length,ce={};++x<U;)l(ce,e[x],x<K?n[x]:f);return ce}function Fi(e){return nr(e)?e:[]}function Ea(e){return"function"==typeof e?e:hi}function as(e,n){return qt(e)?e:Cr(e,n)?[e]:pc(Sn(e))}var uo=Gt;function zi(e,n,l){var x=e.length;return l=l===f?x:l,!n&&l>=x?e:Wr(e,n,l)}var Hi=Js||function(e){return It.clearTimeout(e)};function ra(e,n){if(n)return e.slice();var l=e.length,x=Ds?Ds(l):new e.constructor(l);return e.copy(x),x}function Wa(e){var n=new e.constructor(e.byteLength);return new Rr(n).set(new Rr(e)),n}function po(e,n){var l=n?Wa(e.buffer):e.buffer;return new e.constructor(l,e.byteOffset,e.length)}function ia(e,n){if(e!==n){var l=e!==f,x=null===e,U=e==e,K=ki(e),ce=n!==f,de=null===n,Ce=n==n,Ue=ki(n);if(!de&&!Ue&&!K&&e>n||K&&ce&&Ce&&!de&&!Ue||x&&ce&&Ce||!l&&Ce||!U)return 1;if(!x&&!K&&!Ue&&e<n||Ue&&l&&U&&!x&&!K||de&&l&&U||!ce&&U||!Ce)return-1}return 0}function ho(e,n,l,x){for(var U=-1,K=e.length,ce=l.length,de=-1,Ce=n.length,Ue=nt(K-ce,0),$e=Ge(Ce+Ue),Ve=!x;++de<Ce;)$e[de]=n[de];for(;++U<ce;)(Ve||U<K)&&($e[l[U]]=e[U]);for(;Ue--;)$e[de++]=e[U++];return $e}function fo(e,n,l,x){for(var U=-1,K=e.length,ce=-1,de=l.length,Ce=-1,Ue=n.length,$e=nt(K-de,0),Ve=Ge($e+Ue),vt=!x;++U<$e;)Ve[U]=e[U];for(var Ct=U;++Ce<Ue;)Ve[Ct+Ce]=n[Ce];for(;++ce<de;)(vt||U<K)&&(Ve[Ct+l[ce]]=e[U++]);return Ve}function or(e,n){var l=-1,x=e.length;for(n||(n=Ge(x));++l<x;)n[l]=e[l];return n}function Dr(e,n,l,x){var U=!l;l||(l={});for(var K=-1,ce=n.length;++K<ce;){var de=n[K],Ce=x?x(l[de],e[de],de,l,e):f;Ce===f&&(Ce=e[de]),U?Bi(l,de,Ce):Zs(l,de,Ce)}return l}function Es(e,n){return function(l,x){var U=qt(l)?Ws:No,K=n?n():{};return U(l,e,me(x,2),K)}}function os(e){return Gt(function(n,l){var x=-1,U=l.length,K=U>1?l[U-1]:f,ce=U>2?l[2]:f;for(K=e.length>3&&"function"==typeof K?(U--,K):f,ce&&Tn(l[0],l[1],ce)&&(K=U<3?f:K,U=1),n=tn(n);++x<U;){var de=l[x];de&&e(n,de,x,K)}return n})}function mo(e,n){return function(l,x){if(null==l)return l;if(!di(l))return e(l,x);for(var U=l.length,K=n?U:-1,ce=tn(l);(n?K--:++K<U)&&!1!==x(ce[K],K,ce););return l}}function wa(e){return function(n,l,x){for(var U=-1,K=tn(n),ce=x(n),de=ce.length;de--;){var Ce=ce[e?de:++U];if(!1===l(K[Ce],Ce,K))break}return n}}function Ga(e){return function(n){var l=ne(n=Sn(n))?De(n):f,x=l?l[0]:n.charAt(0),U=l?zi(l,1).join(""):n.slice(1);return x[e]()+U}}function _i(e){return function(n){return Ps(zc(Fc(n).replace(us,"")),e,"")}}function wr(e){return function(){var n=arguments;switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3]);case 5:return new e(n[0],n[1],n[2],n[3],n[4]);case 6:return new e(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var l=vs(e.prototype),x=e.apply(l,n);return Yn(x)?x:l}}function Ca(e){return function(n,l,x){var U=tn(n);if(!di(n)){var K=me(l,3);n=Tr(n),l=function(de){return K(U[de],de,U)}}var ce=e(n,l,x);return ce>-1?U[K?n[ce]:ce]:f}}function ws(e){return B(function(n){var l=n.length,x=l,U=Jr.prototype.thru;for(e&&n.reverse();x--;){var K=n[x];if("function"!=typeof K)throw new Xn(b);if(U&&!ce&&"wrapper"==ie(K))var ce=new Jr([],!0)}for(x=ce?x:l;++x<l;){var de=ie(K=n[x]),Ce="wrapper"==de?D(K):f;ce=Ce&&aa(Ce[0])&&424==Ce[1]&&!Ce[4].length&&1==Ce[9]?ce[ie(Ce[0])].apply(ce,Ce[3]):1==K.length&&aa(K)?ce[de]():ce.thru(K)}return function(){var Ue=arguments,$e=Ue[0];if(ce&&1==Ue.length&&qt($e))return ce.plant($e).value();for(var Ve=0,vt=l?n[Ve].apply(this,Ue):$e;++Ve<l;)vt=n[Ve].call(this,vt);return vt}})}function Ta(e,n,l,x,U,K,ce,de,Ce,Ue){var $e=128&n,Ve=1&n,vt=2&n,Ct=24&n,Dt=512&n,Fe=vt?f:wr(e);return function Ze(){for(var Bt=arguments.length,at=Ge(Bt),Xt=Bt;Xt--;)at[Xt]=arguments[Xt];if(Ct)var zt=Se(Ze),vn=function(rr,ni){for(var Un=rr.length,qr=0;Un--;)rr[Un]===ni&&++qr;return qr}(at,zt);if(x&&(at=ho(at,x,U,Ct)),K&&(at=fo(at,K,ce,Ct)),Bt-=vn,Ct&&Bt<Ue){var Pt=Ie(at,zt);return Nr(e,n,Ta,Ze.placeholder,l,at,Pt,de,Ce,Ue-Bt)}var Ut=Ve?l:this,hr=vt?Ut[e]:e;return Bt=at.length,de?at=function(rr,ni){for(var Un=rr.length,qr=Ke(ni.length,Un),ls=or(rr);qr--;){var Fs=ni[qr];rr[qr]=Gn(Fs,Un)?ls[Fs]:f}return rr}(at,de):Dt&&Bt>1&&at.reverse(),$e&&Ce<Bt&&(at.length=Ce),this&&this!==It&&this instanceof Ze&&(hr=Fe||wr(hr)),hr.apply(Ut,at)}}function go(e,n){return function(l,x){return U=l,K=e,ce=n(x),de={},ui(U,function(Ce,Ue,$e){K(de,ce(Ce),Ue,$e)}),de;var U,K,ce,de}}function _a(e,n){return function(l,x){var U;if(l===f&&x===f)return n;if(l!==f&&(U=l),x!==f){if(U===f)return x;"string"==typeof l||"string"==typeof x?(l=ti(l),x=ti(x)):(l=Ha(l),x=Ha(x)),U=e(l,x)}return U}}function qa(e){return B(function(n){return n=xn(n,r(me())),Gt(function(l){var x=this;return e(n,function(U){return ur(U,x,l)})})})}function sa(e,n){var l=(n=n===f?" ":ti(n)).length;if(l<2)return l?Er(n,e):n;var x=Er(n,te(e/ut(n)));return ne(n)?zi(De(x),0,e).join(""):x.slice(0,e)}function Va(e){return function(n,l,x){return x&&"number"!=typeof x&&Tn(n,l,x)&&(l=x=f),n=Ts(n),l===f?(l=n,n=0):l=Ts(l),function(U,K,ce,de){for(var Ce=-1,Ue=nt(te((K-U)/(ce||1)),0),$e=Ge(Ue);Ue--;)$e[de?Ue:++Ce]=U,U+=ce;return $e}(n,l,x=x===f?n<l?1:-1:Ts(x),e)}}function xa(e){return function(n,l){return"string"==typeof n&&"string"==typeof l||(n=Mi(n),l=Mi(l)),e(n,l)}}function Nr(e,n,l,x,U,K,ce,de,Ce,Ue){var $e=8&n;n|=$e?C:64,4&(n&=~($e?64:C))||(n&=-4);var Ve=[e,n,U,$e?K:f,$e?ce:f,$e?f:K,$e?f:ce,de,Ce,Ue],vt=l.apply(f,Ve);return aa(e)&&lc(vt,Ve),vt.placeholder=x,uc(vt,e,n)}function Xa(e){var n=zr[e];return function(l,x){if(l=Mi(l),(x=null==x?0:Ke(Jt(x),292))&&Ne(l)){var U=(Sn(l)+"e").split("e");return+((U=(Sn(n(U[0]+"e"+(+U[1]+x)))+"e").split("e"))[0]+"e"+(+U[1]-x))}return n(l)}}var c=ln&&1/ye(new ln([,-0]))[1]==re?function(e){return new ln(e)}:Zo;function i(e){return function(n){var x,l=un(n);return l==yt?he(n):l==Kt?function Re(Ee){var Ae=-1,xe=Array(Ee.size);return Ee.forEach(function(Ge){xe[++Ae]=[Ge,Ge]}),xe}(n):(x=n,xn(e(n),function(K){return[K,x[K]]}))}}function s(e,n,l,x,U,K,ce,de){var Ce=2&n;if(!Ce&&"function"!=typeof e)throw new Xn(b);var Ue=x?x.length:0;if(Ue||(n&=-97,x=U=f),ce=ce===f?ce:nt(Jt(ce),0),de=de===f?de:Jt(de),Ue-=U?U.length:0,64&n){var $e=x,Ve=U;x=U=f}var Fe,Ze,Bt,at,vt=Ce?f:D(e),Ct=[e,n,l,x,U,$e,Ve,K,ce,de];if(vt&&function(Fe,Ze){var Bt=Fe[1],at=Ze[1],Xt=Bt|at;if(!(Xt<131||128==at&&8==Bt||128==at&&256==Bt&&Fe[7].length<=Ze[8]||384==at&&Ze[7].length<=Ze[8]&&8==Bt))return Fe;1&at&&(Fe[2]=Ze[2],Xt|=1&Bt?0:4);var Pt=Ze[3];if(Pt){var Ut=Fe[3];Fe[3]=Ut?ho(Ut,Pt,Ze[4]):Pt,Fe[4]=Ut?Ie(Fe[3],W):Ze[4]}(Pt=Ze[5])&&(Fe[5]=(Ut=Fe[5])?fo(Ut,Pt,Ze[6]):Pt,Fe[6]=Ut?Ie(Fe[5],W):Ze[6]),(Pt=Ze[7])&&(Fe[7]=Pt),128&at&&(Fe[8]=null==Fe[8]?Ze[8]:Ke(Fe[8],Ze[8])),null==Fe[9]&&(Fe[9]=Ze[9]),Fe[0]=Ze[0],Fe[1]=Xt}(Ct,vt),e=Ct[0],n=Ct[1],l=Ct[2],x=Ct[3],U=Ct[4],!(de=Ct[9]=Ct[9]===f?Ce?0:e.length:nt(Ct[9]-Ue,0))&&24&n&&(n&=-25),n&&1!=n)Dt=8==n||16==n?(Ze=n,Bt=de,at=wr(Fe=e),function Xt(){for(var zt=arguments.length,vn=Ge(zt),Pt=zt,Ut=Se(Xt);Pt--;)vn[Pt]=arguments[Pt];var hr=zt<3&&vn[0]!==Ut&&vn[zt-1]!==Ut?[]:Ie(vn,Ut);return(zt-=hr.length)<Bt?Nr(Fe,Ze,Ta,Xt.placeholder,f,vn,hr,f,f,Bt-zt):ur(this&&this!==It&&this instanceof Xt?at:Fe,this,vn)}):n!=C&&33!=n||U.length?Ta.apply(f,Ct):function(Fe,Ze,Bt,at){var Xt=1&Ze,zt=wr(Fe);return function vn(){for(var Pt=-1,Ut=arguments.length,hr=-1,rr=at.length,ni=Ge(rr+Ut),Un=this&&this!==It&&this instanceof vn?zt:Fe;++hr<rr;)ni[hr]=at[hr];for(;Ut--;)ni[hr++]=arguments[++Pt];return ur(Un,Xt?Bt:this,ni)}}(e,n,l,x);else var Dt=function(Fe,Ze,Bt){var at=1&Ze,Xt=wr(Fe);return function zt(){return(this&&this!==It&&this instanceof zt?Xt:Fe).apply(at?Bt:this,arguments)}}(e,n,l);return uc((vt?Mr:lc)(Dt,Ct),e,n)}function u(e,n,l,x){return e===f||Wi(e,On[l])&&!Qt.call(x,l)?n:e}function k(e,n,l,x,U,K){return Yn(e)&&Yn(n)&&(K.set(n,e),va(e,n,f,k,K),K.delete(n)),e}function I(e){return Ka(e)?f:e}function T(e,n,l,x,U,K){var ce=1&l,de=e.length,Ce=n.length;if(de!=Ce&&!(ce&&Ce>de))return!1;var Ue=K.get(e),$e=K.get(n);if(Ue&&$e)return Ue==n&&$e==e;var Ve=-1,vt=!0,Ct=2&l?new $i:f;for(K.set(e,n),K.set(n,e);++Ve<de;){var Dt=e[Ve],Fe=n[Ve];if(x)var Ze=ce?x(Fe,Dt,Ve,n,e,K):x(Dt,Fe,Ve,e,n,K);if(Ze!==f){if(Ze)continue;vt=!1;break}if(Ct){if(!hs(n,function(Bt,at){if(!m(Ct,at)&&(Dt===Bt||U(Dt,Bt,l,x,K)))return Ct.push(at)})){vt=!1;break}}else if(Dt!==Fe&&!U(Dt,Fe,l,x,K)){vt=!1;break}}return K.delete(e),K.delete(n),vt}function B(e){return Uo(oc(e,f,gc),e+"")}function M(e){return La(e,Tr,Mt)}function O(e){return La(e,pi,gn)}var D=jn?function(e){return jn.get(e)}:Zo;function ie(e){for(var n=e.name+"",l=hn[n],x=Qt.call(hn,n)?l.length:0;x--;){var U=l[x],K=U.func;if(null==K||K==e)return U.name}return n}function Se(e){return(Qt.call(X,"placeholder")?X:e).placeholder}function me(){var e=X.iteratee||Ko;return e=e===Ko?no:e,arguments.length?e(arguments[0],arguments[1]):e}function ot(e,n){var l,x,U=e.__data__;return("string"==(x=typeof(l=n))||"number"==x||"symbol"==x||"boolean"==x?"__proto__"!==l:null===l)?U["string"==typeof n?"string":"hash"]:U.map}function Ot(e){for(var n=Tr(e),l=n.length;l--;){var x=n[l],U=e[x];n[l]=[x,U,sc(U)]}return n}function _t(e,n){var x,l=null==(x=e)?f:x[n];return Wn(l)?l:f}var Mt=Te?function(e){return null==e?[]:(e=tn(e),Zt(Te(e),function(n){return Qi.call(e,n)}))}:ec,gn=Te?function(e){for(var n=[];e;)Si(n,Mt(e)),e=Ar(e);return n}:ec,un=Sr;function tr(e,n,l){for(var x=-1,U=(n=as(n,e)).length,K=!1;++x<U;){var ce=cs(n[x]);if(!(K=null!=e&&l(e,ce)))break;e=e[ce]}return K||++x!=U?K:!!(U=null==e?0:e.length)&&Co(U)&&Gn(ce,U)&&(qt(e)||ca(e))}function xi(e){return"function"!=typeof e.constructor||Ya(e)?{}:vs(Ar(e))}function pr(e){return qt(e)||ca(e)||!!(Ci&&e&&e[Ci])}function Gn(e,n){var l=typeof e;return!!(n=n??pe)&&("number"==l||"symbol"!=l&&le.test(e))&&e>-1&&e%1==0&&e<n}function Tn(e,n,l){if(!Yn(l))return!1;var x=typeof n;return!!("number"==x?di(l)&&Gn(n,l.length):"string"==x&&n in l)&&Wi(l[n],e)}function Cr(e,n){if(qt(e))return!1;var l=typeof e;return!("number"!=l&&"symbol"!=l&&"boolean"!=l&&null!=e&&!ki(e))||d.test(e)||!fn.test(e)||null!=n&&e in tn(n)}function aa(e){var n=ie(e),l=X[n];if("function"!=typeof l||!(n in Yt.prototype))return!1;if(e===l)return!0;var x=D(l);return!!x&&e===x[0]}(rt&&un(new rt(new ArrayBuffer(1)))!=qn||bn&&un(new bn)!=yt||cn&&un(cn.resolve())!=At||ln&&un(new ln)!=Kt||Ln&&un(new Ln)!=cr)&&(un=function(e){var n=Sr(e),l=n==Ht?e.constructor:f,x=l?oa(l):"";if(x)switch(x){case li:return qn;case br:return yt;case ts:return At;case ms:return Kt;case pa:return cr}return n});var Xc=Rn?Cs:tc;function Ya(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||On)}function sc(e){return e==e&&!Yn(e)}function ac(e,n){return function(l){return null!=l&&l[e]===n&&(n!==f||e in tn(l))}}function oc(e,n,l){return n=nt(n===f?e.length-1:n,0),function(){for(var x=arguments,U=-1,K=nt(x.length-n,0),ce=Ge(K);++U<K;)ce[U]=x[n+U];U=-1;for(var de=Ge(n+1);++U<n;)de[U]=x[U];return de[n]=l(ce),ur(e,this,de)}}function cc(e,n){return n.length<2?e:Qn(e,Wr(n,0,-1))}function Bo(e,n){if(("constructor"!==n||"function"!=typeof e[n])&&"__proto__"!=n)return e[n]}var lc=dc(Mr),Ja=es||function(e,n){return It.setTimeout(e,n)},Uo=dc(ei);function uc(e,n,l){var K,x=n+"";return Uo(e,function(U,K){var ce=K.length;if(!ce)return U;var de=ce-1;return K[de]=(ce>1?"& ":"")+K[de],K=K.join(ce>2?", ":" "),U.replace(A,"{\n/* [wrapped with "+K+"] */\n")}(x,function(U,K){return Fr(Be,function(ce){var de="_."+ce[0];K&ce[1]&&!Is(U,de)&&U.push(de)}),U.sort()}((K=x.match($))?K[1].split(j):[],l)))}function dc(e){var n=0,l=0;return function(){var x=nn(),U=16-(x-l);if(l=x,U>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(f,arguments)}}function vo(e,n){var l=-1,x=e.length,U=x-1;for(n=n===f?x:n;++l<n;){var K=Bs(l,U),ce=e[K];e[K]=e[l],e[l]=ce}return e.length=n,e}var n,l,pc=(n=Eo(function(e){var n=[];return 46===e.charCodeAt(0)&&n.push(""),e.replace(t,function(l,x,U,K){n.push(U?K.replace(y,"$1"):x||l)}),n},function(x){return 500===l.size&&l.clear(),x}),l=n.cache,n);function cs(e){if("string"==typeof e||ki(e))return e;var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}function oa(e){if(null!=e){try{return An.call(e)}catch{}try{return e+""}catch{}}return""}function hc(e){if(e instanceof Yt)return e.clone();var n=new Jr(e.__wrapped__,e.__chain__);return n.__actions__=or(e.__actions__),n.__index__=e.__index__,n.__values__=e.__values__,n}var Yc=Gt(function(e,n){return nr(e)?Ls(e,sr(n,1,nr,!0)):[]}),Jc=Gt(function(e,n){var l=Ai(n);return nr(l)&&(l=f),nr(e)?Ls(e,sr(n,1,nr,!0),me(l,2)):[]}),Kc=Gt(function(e,n){var l=Ai(n);return nr(l)&&(l=f),nr(e)?Ls(e,sr(n,1,nr,!0),f,l):[]});function fc(e,n,l){var x=null==e?0:e.length;if(!x)return-1;var U=null==l?0:Jt(l);return U<0&&(U=nt(x+U,0)),Ji(e,me(n,3),U)}function mc(e,n,l){var x=null==e?0:e.length;if(!x)return-1;var U=x-1;return l!==f&&(U=Jt(l),U=l<0?nt(x+U,0):Ke(U,x-1)),Ji(e,me(n,3),U,!0)}function gc(e){return null!=e&&e.length?sr(e,1):[]}function vc(e){return e&&e.length?e[0]:f}var Qc=Gt(function(e){var n=xn(e,Fi);return n.length&&n[0]===e[0]?ys(n):[]}),Zc=Gt(function(e){var n=Ai(e),l=xn(e,Fi);return n===Ai(l)?n=f:l.pop(),l.length&&l[0]===e[0]?ys(l,me(n,2)):[]}),el=Gt(function(e){var n=Ai(e),l=xn(e,Fi);return(n="function"==typeof n?n:f)&&l.pop(),l.length&&l[0]===e[0]?ys(l,f,n):[]});function Ai(e){var n=null==e?0:e.length;return n?e[n-1]:f}var tl=Gt(yc);function yc(e,n){return e&&e.length&&n&&n.length?$s(e,n):e}var nl=B(function(e,n){var l=null==e?0:e.length,x=ma(e,n);return ba(e,xn(n,function(U){return Gn(U,l)?+U:U}).sort(ia)),x});function Fo(e){return null==e?e:rn.call(e)}var rl=Gt(function(e){return is(sr(e,1,nr,!0))}),il=Gt(function(e){var n=Ai(e);return nr(n)&&(n=f),is(sr(e,1,nr,!0),me(n,2))}),sl=Gt(function(e){var n=Ai(e);return n="function"==typeof n?n:f,is(sr(e,1,nr,!0),f,n)});function zo(e){if(!e||!e.length)return[];var n=0;return e=Zt(e,function(l){if(nr(l))return n=nt(l.length,n),!0}),Ys(n,function(l){return xn(e,As(l))})}function bc(e,n){if(!e||!e.length)return[];var l=zo(e);return null==n?l:xn(l,function(x){return ur(n,f,x)})}var al=Gt(function(e,n){return nr(e)?Ls(e,n):[]}),ol=Gt(function(e){return ss(Zt(e,nr))}),cl=Gt(function(e){var n=Ai(e);return nr(n)&&(n=f),ss(Zt(e,nr),me(n,2))}),ll=Gt(function(e){var n=Ai(e);return n="function"==typeof n?n:f,ss(Zt(e,nr),f,n)}),ul=Gt(zo),dl=Gt(function(e){var n=e.length,l=n>1?e[n-1]:f;return l="function"==typeof l?(e.pop(),l):f,bc(e,l)});function Sc(e){var n=X(e);return n.__chain__=!0,n}function yo(e,n){return n(e)}var pl=B(function(e){var n=e.length,l=n?e[0]:0,x=this.__wrapped__,U=function(K){return ma(K,e)};return!(n>1||this.__actions__.length)&&x instanceof Yt&&Gn(l)?((x=x.slice(l,+l+(n?1:0))).__actions__.push({func:yo,args:[U],thisArg:f}),new Jr(x,this.__chain__).thru(function(K){return n&&!K.length&&K.push(f),K})):this.thru(U)}),hl=Es(function(e,n,l){Qt.call(e,l)?++e[l]:Bi(e,l,1)}),fl=Ca(fc),ml=Ca(mc);function Ec(e,n){return(qt(e)?Fr:Ui)(e,me(n,3))}function wc(e,n){return(qt(e)?Pa:Aa)(e,me(n,3))}var gl=Es(function(e,n,l){Qt.call(e,l)?e[l].push(n):Bi(e,l,[n])}),vl=Gt(function(e,n,l){var x=-1,U="function"==typeof n,K=di(e)?Ge(e.length):[];return Ui(e,function(ce){K[++x]=U?ur(n,ce,l):Ti(ce,n,l)}),K}),yl=Es(function(e,n,l){Bi(e,l,n)});function bo(e,n){return(qt(e)?xn:ro)(e,me(n,3))}var bl=Es(function(e,n,l){e[l?0:1].push(n)},function(){return[[],[]]}),Sl=Gt(function(e,n){if(null==e)return[];var l=n.length;return l>1&&Tn(e,n[0],n[1])?n=[]:l>2&&Tn(n[0],n[1],n[2])&&(n=[n[0]]),ya(e,sr(n,1),[])}),So=Ks||function(){return It.Date.now()};function Cc(e,n,l){return n=l?f:n,s(e,128,f,f,f,f,n=e&&null==n?e.length:n)}function Tc(e,n){var l;if("function"!=typeof n)throw new Xn(b);return e=Jt(e),function(){return--e>0&&(l=n.apply(this,arguments)),e<=1&&(n=f),l}}var Ho=Gt(function(e,n,l){var x=1;if(l.length){var U=Ie(l,Se(Ho));x|=C}return s(e,x,n,l,U)}),_c=Gt(function(e,n,l){var x=3;if(l.length){var U=Ie(l,Se(_c));x|=C}return s(n,x,e,l,U)});function xc(e,n,l){var x,U,K,ce,de,Ce,Ue=0,$e=!1,Ve=!1,vt=!0;if("function"!=typeof e)throw new Xn(b);function Ct(at){var Xt=x,zt=U;return x=U=f,Ue=at,ce=e.apply(zt,Xt)}function Dt(at){var Xt=at-Ce;return Ce===f||Xt>=n||Xt<0||Ve&&at-Ue>=K}function Fe(){var Xt,zt,at=So();if(Dt(at))return Ze(at);de=Ja(Fe,(zt=n-((Xt=at)-Ce),Ve?Ke(zt,K-(Xt-Ue)):zt))}function Ze(at){return de=f,vt&&x?Ct(at):(x=U=f,ce)}function Bt(){var zt,at=So(),Xt=Dt(at);if(x=arguments,U=this,Ce=at,Xt){if(de===f)return Ue=zt=Ce,de=Ja(Fe,n),$e?Ct(zt):ce;if(Ve)return Hi(de),de=Ja(Fe,n),Ct(Ce)}return de===f&&(de=Ja(Fe,n)),ce}return n=Mi(n)||0,Yn(l)&&($e=!!l.leading,K=(Ve="maxWait"in l)?nt(Mi(l.maxWait)||0,n):K,vt="trailing"in l?!!l.trailing:vt),Bt.cancel=function(){de!==f&&Hi(de),Ue=0,x=Ce=U=de=f},Bt.flush=function(){return de===f?ce:Ze(So())},Bt}var El=Gt(function(e,n){return Ra(e,1,n)}),wl=Gt(function(e,n,l){return Ra(e,Mi(n)||0,l)});function Eo(e,n){if("function"!=typeof e||null!=n&&"function"!=typeof n)throw new Xn(b);var l=function(){var x=arguments,U=n?n.apply(this,x):x[0],K=l.cache;if(K.has(U))return K.get(U);var ce=e.apply(this,x);return l.cache=K.set(U,ce)||K,ce};return l.cache=new(Eo.Cache||ji),l}function wo(e){if("function"!=typeof e)throw new Xn(b);return function(){var n=arguments;switch(n.length){case 0:return!e.call(this);case 1:return!e.call(this,n[0]);case 2:return!e.call(this,n[0],n[1]);case 3:return!e.call(this,n[0],n[1],n[2])}return!e.apply(this,n)}}Eo.Cache=ji;var Cl=uo(function(e,n){var l=(n=1==n.length&&qt(n[0])?xn(n[0],r(me())):xn(sr(n,1),r(me()))).length;return Gt(function(x){for(var U=-1,K=Ke(x.length,l);++U<K;)x[U]=n[U].call(this,x[U]);return ur(e,this,x)})}),Wo=Gt(function(e,n){var l=Ie(n,Se(Wo));return s(e,C,f,n,l)}),kc=Gt(function(e,n){var l=Ie(n,Se(kc));return s(e,64,f,n,l)}),Tl=B(function(e,n){return s(e,256,f,f,f,n)});function Wi(e,n){return e===n||e!=e&&n!=n}var _l=xa(ja),xl=xa(function(e,n){return e>=n}),ca=$a(function(){return arguments}())?$a:function(e){return Zn(e)&&Qt.call(e,"callee")&&!Qi.call(e,"callee")},qt=Ge.isArray,kl=ua?r(ua):function(e){return Zn(e)&&Sr(e)==fr};function di(e){return null!=e&&Co(e.length)&&!Cs(e)}function nr(e){return Zn(e)&&di(e)}var Us=ke||tc,Il=oi?r(oi):function(e){return Zn(e)&&Sr(e)==mn};function Go(e){if(!Zn(e))return!1;var n=Sr(e);return n==be||"[object DOMException]"==n||"string"==typeof e.message&&"string"==typeof e.name&&!Ka(e)}function Cs(e){if(!Yn(e))return!1;var n=Sr(e);return n==it||n==st||"[object AsyncFunction]"==n||"[object Proxy]"==n}function Ic(e){return"number"==typeof e&&e==Jt(e)}function Co(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=pe}function Yn(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)}function Zn(e){return null!=e&&"object"==typeof e}var Pc=ks?r(ks):function(e){return Zn(e)&&un(e)==yt};function Oc(e){return"number"==typeof e||Zn(e)&&Sr(e)==xt}function Ka(e){if(!Zn(e)||Sr(e)!=Ht)return!1;var n=Ar(e);if(null===n)return!0;var l=Qt.call(n,"constructor")&&n.constructor;return"function"==typeof l&&l instanceof l&&An.call(l)==wn}var qo=Ni?r(Ni):function(e){return Zn(e)&&Sr(e)==sn},Rc=Li?r(Li):function(e){return Zn(e)&&un(e)==Kt};function To(e){return"string"==typeof e||!qt(e)&&Zn(e)&&Sr(e)==$n}function ki(e){return"symbol"==typeof e||Zn(e)&&Sr(e)==ir}var ka=on?r(on):function(e){return Zn(e)&&Co(e.length)&&!!yn[Sr(e)]},Pl=xa(Fa),Ol=xa(function(e,n){return e<=n});function Ac(e){if(!e)return[];if(di(e))return To(e)?De(e):or(e);if(zn&&e[zn])return function(l){for(var x,U=[];!(x=l.next()).done;)U.push(x.value);return U}(e[zn]());var n=un(e);return(n==yt?he:n==Kt?ye:Ia)(e)}function Ts(e){return e?(e=Mi(e))===re||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function Jt(e){var n=Ts(e),l=n%1;return n==n?l?n-l:n:0}function Mc(e){return e?Qr(Jt(e),0,ze):0}function Mi(e){if("number"==typeof e)return e;if(ki(e))return NaN;if(Yn(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=Yn(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=Nn(e);var l=Y.test(e);return l||fe.test(e)?xs(e.slice(2),l?2:8):Q.test(e)?NaN:+e}function Dc(e){return Dr(e,pi(e))}function Sn(e){return null==e?"":ti(e)}var Rl=os(function(e,n){if(Ya(n)||di(n))Dr(n,Tr(n),e);else for(var l in n)Qt.call(n,l)&&Zs(e,l,n[l])}),Nc=os(function(e,n){Dr(n,pi(n),e)}),_o=os(function(e,n,l,x){Dr(n,pi(n),e,x)}),Al=os(function(e,n,l,x){Dr(n,Tr(n),e,x)}),Ml=B(ma),Dl=Gt(function(e,n){e=tn(e);var l=-1,x=n.length,U=x>2?n[2]:f;for(U&&Tn(n[0],n[1],U)&&(x=1);++l<x;)for(var K=n[l],ce=pi(K),de=-1,Ce=ce.length;++de<Ce;){var Ue=ce[de],$e=e[Ue];($e===f||Wi($e,On[Ue])&&!Qt.call(e,Ue))&&(e[Ue]=K[Ue])}return e}),Nl=Gt(function(e){return e.push(f,k),ur(Lc,f,e)});function Vo(e,n,l){var x=null==e?f:Qn(e,n);return x===f?l:x}function Xo(e,n){return null!=e&&tr(e,n,Hn)}var Ll=go(function(e,n,l){null!=n&&"function"!=typeof n.toString&&(n=kn.call(n)),e[n]=l},Jo(hi)),jl=go(function(e,n,l){null!=n&&"function"!=typeof n.toString&&(n=kn.call(n)),Qt.call(e,n)?e[n].push(l):e[n]=[l]},me),$l=Gt(Ti);function Tr(e){return di(e)?Qa(e):Ua(e)}function pi(e){return di(e)?Qa(e,!0):function jo(e){if(!Yn(e))return function(U){var K=[];if(null!=U)for(var ce in tn(U))K.push(ce);return K}(e);var n=Ya(e),l=[];for(var x in e)("constructor"!=x||!n&&Qt.call(e,x))&&l.push(x);return l}(e)}var Bl=os(function(e,n,l){va(e,n,l)}),Lc=os(function(e,n,l,x){va(e,n,l,x)}),Ul=B(function(e,n){var l={};if(null==e)return l;var x=!1;n=xn(n,function(K){return K=as(K,e),x||(x=K.length>1),K}),Dr(e,O(e),l),x&&(l=Zr(l,7,I));for(var U=n.length;U--;)Mn(l,n[U]);return l}),Fl=B(function(e,n){return null==e?{}:function(l,x){return oo(l,x,function(U,K){return Xo(l,K)})}(e,n)});function jc(e,n){if(null==e)return{};var l=xn(O(e),function(x){return[x]});return n=me(n),oo(e,l,function(x,U){return n(x,U[0])})}var $c=i(Tr),Bc=i(pi);function Ia(e){return null==e?[]:a(e,Tr(e))}var zl=_i(function(e,n,l){return n=n.toLowerCase(),e+(l?Uc(n):n)});function Uc(e){return Yo(Sn(e).toLowerCase())}function Fc(e){return(e=Sn(e))&&e.replace(se,z).replace(Ir,"")}var Hl=_i(function(e,n,l){return e+(l?"-":"")+n.toLowerCase()}),Wl=_i(function(e,n,l){return e+(l?" ":"")+n.toLowerCase()}),Gl=Ga("toLowerCase"),ql=_i(function(e,n,l){return e+(l?"_":"")+n.toLowerCase()}),Vl=_i(function(e,n,l){return e+(l?" ":"")+Yo(n)}),Xl=_i(function(e,n,l){return e+(l?" ":"")+n.toUpperCase()}),Yo=Ga("toUpperCase");function zc(e,n,l){return e=Sn(e),(n=l?f:n)===f?qi.test(e)?e.match(yi)||[]:function(x){return x.match(G)||[]}(e):e.match(n)||[]}var Hc=Gt(function(e,n){try{return ur(e,f,n)}catch(l){return Go(l)?l:new wt(l)}}),Yl=B(function(e,n){return Fr(n,function(l){l=cs(l),Bi(e,l,Ho(e[l],e))}),e});function Jo(e){return function(){return e}}var Jl=ws(),Kl=ws(!0);function hi(e){return e}function Ko(e){return no("function"==typeof e?e:Zr(e,1))}var Ql=Gt(function(e,n){return function(l){return Ti(l,e,n)}}),Zl=Gt(function(e,n){return function(l){return Ti(e,l,n)}});function Qo(e,n,l){var x=Tr(n),U=ga(n,x);null!=l||Yn(n)&&(U.length||!x.length)||(l=n,n=e,e=this,U=ga(n,Tr(n)));var K=!(Yn(l)&&"chain"in l&&!l.chain),ce=Cs(e);return Fr(U,function(de){var Ce=n[de];e[de]=Ce,ce&&(e.prototype[de]=function(){var Ue=this.__chain__;if(K||Ue){var $e=e(this.__wrapped__);return($e.__actions__=or(this.__actions__)).push({func:Ce,args:arguments,thisArg:e}),$e.__chain__=Ue,$e}return Ce.apply(e,Si([this.value()],arguments))})}),e}function Zo(){}var eu=qa(xn),tu=qa(ps),nu=qa(hs);function Wc(e){return Cr(e)?As(cs(e)):function(n){return function(l){return Qn(l,n)}}(e)}var ru=Va(),iu=Va(!0);function ec(){return[]}function tc(){return!1}var nc,su=_a(function(e,n){return e+n},0),au=Xa("ceil"),ou=_a(function(e,n){return e/n},1),cu=Xa("floor"),lu=_a(function(e,n){return e*n},1),uu=Xa("round"),du=_a(function(e,n){return e-n},0);return X.after=function(e,n){if("function"!=typeof n)throw new Xn(b);return e=Jt(e),function(){if(--e<1)return n.apply(this,arguments)}},X.ary=Cc,X.assign=Rl,X.assignIn=Nc,X.assignInWith=_o,X.assignWith=Al,X.at=Ml,X.before=Tc,X.bind=Ho,X.bindAll=Yl,X.bindKey=_c,X.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return qt(e)?e:[e]},X.chain=Sc,X.chunk=function(e,n,l){n=(l?Tn(e,n,l):n===f)?1:nt(Jt(n),0);var x=null==e?0:e.length;if(!x||n<1)return[];for(var U=0,K=0,ce=Ge(te(x/n));U<x;)ce[K++]=Wr(e,U,U+=n);return ce},X.compact=function(e){for(var n=-1,l=null==e?0:e.length,x=0,U=[];++n<l;){var K=e[n];K&&(U[x++]=K)}return U},X.concat=function(){var e=arguments.length;if(!e)return[];for(var n=Ge(e-1),l=arguments[0],x=e;x--;)n[x-1]=arguments[x];return Si(qt(l)?or(l):[l],sr(n,1))},X.cond=function(e){var n=null==e?0:e.length,l=me();return e=n?xn(e,function(x){if("function"!=typeof x[1])throw new Xn(b);return[l(x[0]),x[1]]}):[],Gt(function(x){for(var U=-1;++U<n;){var K=e[U];if(ur(K[0],this,x))return ur(K[1],this,x)}})},X.conforms=function(e){return function(n){var l=Tr(n);return function(x){return ea(x,n,l)}}(Zr(e,1))},X.constant=Jo,X.countBy=hl,X.create=function(e,n){var l=vs(e);return null==n?l:eo(l,n)},X.curry=function e(n,l,x){var U=s(n,8,f,f,f,f,f,l=x?f:l);return U.placeholder=e.placeholder,U},X.curryRight=function e(n,l,x){var U=s(n,16,f,f,f,f,f,l=x?f:l);return U.placeholder=e.placeholder,U},X.debounce=xc,X.defaults=Dl,X.defaultsDeep=Nl,X.defer=El,X.delay=wl,X.difference=Yc,X.differenceBy=Jc,X.differenceWith=Kc,X.drop=function(e,n,l){var x=null==e?0:e.length;return x?Wr(e,(n=l||n===f?1:Jt(n))<0?0:n,x):[]},X.dropRight=function(e,n,l){var x=null==e?0:e.length;return x?Wr(e,0,(n=x-(n=l||n===f?1:Jt(n)))<0?0:n):[]},X.dropRightWhile=function(e,n){return e&&e.length?Bn(e,me(n,3),!0,!0):[]},X.dropWhile=function(e,n){return e&&e.length?Bn(e,me(n,3),!0):[]},X.fill=function(e,n,l,x){var U=null==e?0:e.length;return U?(l&&"number"!=typeof l&&Tn(e,n,l)&&(l=0,x=U),function(K,ce,de,Ce){var Ue=K.length;for((de=Jt(de))<0&&(de=-de>Ue?0:Ue+de),(Ce=Ce===f||Ce>Ue?Ue:Jt(Ce))<0&&(Ce+=Ue),Ce=de>Ce?0:Mc(Ce);de<Ce;)K[de++]=ce;return K}(e,n,l,x)):[]},X.filter=function(e,n){return(qt(e)?Zt:Ma)(e,me(n,3))},X.flatMap=function(e,n){return sr(bo(e,n),1)},X.flatMapDeep=function(e,n){return sr(bo(e,n),re)},X.flatMapDepth=function(e,n,l){return l=l===f?1:Jt(l),sr(bo(e,n),l)},X.flatten=gc,X.flattenDeep=function(e){return null!=e&&e.length?sr(e,re):[]},X.flattenDepth=function(e,n){return null!=e&&e.length?sr(e,n=n===f?1:Jt(n)):[]},X.flip=function(e){return s(e,512)},X.flow=Jl,X.flowRight=Kl,X.fromPairs=function(e){for(var n=-1,l=null==e?0:e.length,x={};++n<l;){var U=e[n];x[U[0]]=U[1]}return x},X.functions=function(e){return null==e?[]:ga(e,Tr(e))},X.functionsIn=function(e){return null==e?[]:ga(e,pi(e))},X.groupBy=gl,X.initial=function(e){return null!=e&&e.length?Wr(e,0,-1):[]},X.intersection=Qc,X.intersectionBy=Zc,X.intersectionWith=el,X.invert=Ll,X.invertBy=jl,X.invokeMap=vl,X.iteratee=Ko,X.keyBy=yl,X.keys=Tr,X.keysIn=pi,X.map=bo,X.mapKeys=function(e,n){var l={};return n=me(n,3),ui(e,function(x,U,K){Bi(l,n(x,U,K),x)}),l},X.mapValues=function(e,n){var l={};return n=me(n,3),ui(e,function(x,U,K){Bi(l,U,n(x,U,K))}),l},X.matches=function(e){return io(Zr(e,1))},X.matchesProperty=function(e,n){return so(e,Zr(n,1))},X.memoize=Eo,X.merge=Bl,X.mergeWith=Lc,X.method=Ql,X.methodOf=Zl,X.mixin=Qo,X.negate=wo,X.nthArg=function(e){return e=Jt(e),Gt(function(n){return ao(n,e)})},X.omit=Ul,X.omitBy=function(e,n){return jc(e,wo(me(n)))},X.once=function(e){return Tc(2,e)},X.orderBy=function(e,n,l,x){return null==e?[]:(qt(n)||(n=null==n?[]:[n]),qt(l=x?f:l)||(l=null==l?[]:[l]),ya(e,n,l))},X.over=eu,X.overArgs=Cl,X.overEvery=tu,X.overSome=nu,X.partial=Wo,X.partialRight=kc,X.partition=bl,X.pick=Fl,X.pickBy=jc,X.property=Wc,X.propertyOf=function(e){return function(n){return null==e?f:Qn(e,n)}},X.pull=tl,X.pullAll=yc,X.pullAllBy=function(e,n,l){return e&&e.length&&n&&n.length?$s(e,n,me(l,2)):e},X.pullAllWith=function(e,n,l){return e&&e.length&&n&&n.length?$s(e,n,f,l):e},X.pullAt=nl,X.range=ru,X.rangeRight=iu,X.rearg=Tl,X.reject=function(e,n){return(qt(e)?Zt:Ma)(e,wo(me(n,3)))},X.remove=function(e,n){var l=[];if(!e||!e.length)return l;var x=-1,U=[],K=e.length;for(n=me(n,3);++x<K;){var ce=e[x];n(ce,x,e)&&(l.push(ce),U.push(x))}return ba(e,U),l},X.rest=function(e,n){if("function"!=typeof e)throw new Xn(b);return Gt(e,n=n===f?n:Jt(n))},X.reverse=Fo,X.sampleSize=function(e,n,l){return n=(l?Tn(e,n,l):n===f)?1:Jt(n),(qt(e)?Mo:ta)(e,n)},X.set=function(e,n,l){return null==e?e:rs(e,n,l)},X.setWith=function(e,n,l,x){return x="function"==typeof x?x:f,null==e?e:rs(e,n,l,x)},X.shuffle=function(e){return(qt(e)?Do:na)(e)},X.slice=function(e,n,l){var x=null==e?0:e.length;return x?(l&&"number"!=typeof l&&Tn(e,n,l)?(n=0,l=x):(n=null==n?0:Jt(n),l=l===f?x:Jt(l)),Wr(e,n,l)):[]},X.sortBy=Sl,X.sortedUniq=function(e){return e&&e.length?lo(e):[]},X.sortedUniqBy=function(e,n){return e&&e.length?lo(e,me(n,2)):[]},X.split=function(e,n,l){return l&&"number"!=typeof l&&Tn(e,n,l)&&(n=l=f),(l=l===f?ze:l>>>0)?(e=Sn(e))&&("string"==typeof n||null!=n&&!qo(n))&&!(n=ti(n))&&ne(e)?zi(De(e),0,l):e.split(n,l):[]},X.spread=function(e,n){if("function"!=typeof e)throw new Xn(b);return n=null==n?0:nt(Jt(n),0),Gt(function(l){var x=l[n],U=zi(l,0,n);return x&&Si(U,x),ur(e,this,U)})},X.tail=function(e){var n=null==e?0:e.length;return n?Wr(e,1,n):[]},X.take=function(e,n,l){return e&&e.length?Wr(e,0,(n=l||n===f?1:Jt(n))<0?0:n):[]},X.takeRight=function(e,n,l){var x=null==e?0:e.length;return x?Wr(e,(n=x-(n=l||n===f?1:Jt(n)))<0?0:n,x):[]},X.takeRightWhile=function(e,n){return e&&e.length?Bn(e,me(n,3),!1,!0):[]},X.takeWhile=function(e,n){return e&&e.length?Bn(e,me(n,3)):[]},X.tap=function(e,n){return n(e),e},X.throttle=function(e,n,l){var x=!0,U=!0;if("function"!=typeof e)throw new Xn(b);return Yn(l)&&(x="leading"in l?!!l.leading:x,U="trailing"in l?!!l.trailing:U),xc(e,n,{leading:x,maxWait:n,trailing:U})},X.thru=yo,X.toArray=Ac,X.toPairs=$c,X.toPairsIn=Bc,X.toPath=function(e){return qt(e)?xn(e,cs):ki(e)?[e]:or(pc(Sn(e)))},X.toPlainObject=Dc,X.transform=function(e,n,l){var x=qt(e),U=x||Us(e)||ka(e);if(n=me(n,4),null==l){var K=e&&e.constructor;l=U?x?new K:[]:Yn(e)&&Cs(K)?vs(Ar(e)):{}}return(U?Fr:ui)(e,function(ce,de,Ce){return n(l,ce,de,Ce)}),l},X.unary=function(e){return Cc(e,1)},X.union=rl,X.unionBy=il,X.unionWith=sl,X.uniq=function(e){return e&&e.length?is(e):[]},X.uniqBy=function(e,n){return e&&e.length?is(e,me(n,2)):[]},X.uniqWith=function(e,n){return n="function"==typeof n?n:f,e&&e.length?is(e,f,n):[]},X.unset=function(e,n){return null==e||Mn(e,n)},X.unzip=zo,X.unzipWith=bc,X.update=function(e,n,l){return null==e?e:Ri(e,n,Ea(l))},X.updateWith=function(e,n,l,x){return x="function"==typeof x?x:f,null==e?e:Ri(e,n,Ea(l),x)},X.values=Ia,X.valuesIn=function(e){return null==e?[]:a(e,pi(e))},X.without=al,X.words=zc,X.wrap=function(e,n){return Wo(Ea(n),e)},X.xor=ol,X.xorBy=cl,X.xorWith=ll,X.zip=ul,X.zipObject=function(e,n){return Ss(e||[],n||[],Zs)},X.zipObjectDeep=function(e,n){return Ss(e||[],n||[],rs)},X.zipWith=dl,X.entries=$c,X.entriesIn=Bc,X.extend=Nc,X.extendWith=_o,Qo(X,X),X.add=su,X.attempt=Hc,X.camelCase=zl,X.capitalize=Uc,X.ceil=au,X.clamp=function(e,n,l){return l===f&&(l=n,n=f),l!==f&&(l=(l=Mi(l))==l?l:0),n!==f&&(n=(n=Mi(n))==n?n:0),Qr(Mi(e),n,l)},X.clone=function(e){return Zr(e,4)},X.cloneDeep=function(e){return Zr(e,5)},X.cloneDeepWith=function(e,n){return Zr(e,5,n="function"==typeof n?n:f)},X.cloneWith=function(e,n){return Zr(e,4,n="function"==typeof n?n:f)},X.conformsTo=function(e,n){return null==n||ea(e,n,Tr(n))},X.deburr=Fc,X.defaultTo=function(e,n){return null==e||e!=e?n:e},X.divide=ou,X.endsWith=function(e,n,l){e=Sn(e),n=ti(n);var x=e.length,U=l=l===f?x:Qr(Jt(l),0,x);return(l-=n.length)>=0&&e.slice(l,U)==n},X.eq=Wi,X.escape=function(e){return(e=Sn(e))&&ft.test(e)?e.replace(Qe,J):e},X.escapeRegExp=function(e){return(e=Sn(e))&&h.test(e)?e.replace(o,"\\$&"):e},X.every=function(e,n,l){var x=qt(e)?ps:Lo;return l&&Tn(e,n,l)&&(n=f),x(e,me(n,3))},X.find=fl,X.findIndex=fc,X.findKey=function(e,n){return Os(e,me(n,3),ui)},X.findLast=ml,X.findLastIndex=mc,X.findLastKey=function(e,n){return Os(e,me(n,3),Na)},X.floor=cu,X.forEach=Ec,X.forEachRight=wc,X.forIn=function(e,n){return null==e?e:Da(e,me(n,3),pi)},X.forInRight=function(e,n){return null==e?e:to(e,me(n,3),pi)},X.forOwn=function(e,n){return e&&ui(e,me(n,3))},X.forOwnRight=function(e,n){return e&&Na(e,me(n,3))},X.get=Vo,X.gt=_l,X.gte=xl,X.has=function(e,n){return null!=e&&tr(e,n,ar)},X.hasIn=Xo,X.head=vc,X.identity=hi,X.includes=function(e,n,l,x){e=di(e)?e:Ia(e),l=l&&!x?Jt(l):0;var U=e.length;return l<0&&(l=nt(U+l,0)),To(e)?l<=U&&e.indexOf(n,l)>-1:!!U&&Ii(e,n,l)>-1},X.indexOf=function(e,n,l){var x=null==e?0:e.length;if(!x)return-1;var U=null==l?0:Jt(l);return U<0&&(U=nt(x+U,0)),Ii(e,n,U)},X.inRange=function(e,n,l){return n=Ts(n),l===f?(l=n,n=0):l=Ts(l),(x=e=Mi(e))>=Ke(U=n,K=l)&&x<nt(U,K);var x,U,K},X.invoke=$l,X.isArguments=ca,X.isArray=qt,X.isArrayBuffer=kl,X.isArrayLike=di,X.isArrayLikeObject=nr,X.isBoolean=function(e){return!0===e||!1===e||Zn(e)&&Sr(e)==ct},X.isBuffer=Us,X.isDate=Il,X.isElement=function(e){return Zn(e)&&1===e.nodeType&&!Ka(e)},X.isEmpty=function(e){if(null==e)return!0;if(di(e)&&(qt(e)||"string"==typeof e||"function"==typeof e.splice||Us(e)||ka(e)||ca(e)))return!e.length;var n=un(e);if(n==yt||n==Kt)return!e.size;if(Ya(e))return!Ua(e).length;for(var l in e)if(Qt.call(e,l))return!1;return!0},X.isEqual=function(e,n){return bs(e,n)},X.isEqualWith=function(e,n,l){var x=(l="function"==typeof l?l:f)?l(e,n):f;return x===f?bs(e,n,f,l):!!x},X.isError=Go,X.isFinite=function(e){return"number"==typeof e&&Ne(e)},X.isFunction=Cs,X.isInteger=Ic,X.isLength=Co,X.isMap=Pc,X.isMatch=function(e,n){return e===n||Ba(e,n,Ot(n))},X.isMatchWith=function(e,n,l){return l="function"==typeof l?l:f,Ba(e,n,Ot(n),l)},X.isNaN=function(e){return Oc(e)&&e!=+e},X.isNative=function(e){if(Xc(e))throw new wt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Wn(e)},X.isNil=function(e){return null==e},X.isNull=function(e){return null===e},X.isNumber=Oc,X.isObject=Yn,X.isObjectLike=Zn,X.isPlainObject=Ka,X.isRegExp=qo,X.isSafeInteger=function(e){return Ic(e)&&e>=-9007199254740991&&e<=pe},X.isSet=Rc,X.isString=To,X.isSymbol=ki,X.isTypedArray=ka,X.isUndefined=function(e){return e===f},X.isWeakMap=function(e){return Zn(e)&&un(e)==cr},X.isWeakSet=function(e){return Zn(e)&&"[object WeakSet]"==Sr(e)},X.join=function(e,n){return null==e?"":dt.call(e,n)},X.kebabCase=Hl,X.last=Ai,X.lastIndexOf=function(e,n,l){var x=null==e?0:e.length;if(!x)return-1;var U=x;return l!==f&&(U=(U=Jt(l))<0?nt(x+U,0):Ke(U,x-1)),n==n?function(K,ce,de){for(var Ce=de+1;Ce--;)if(K[Ce]===ce)return Ce;return Ce}(e,n,U):Ji(e,Vs,U,!0)},X.lowerCase=Wl,X.lowerFirst=Gl,X.lt=Pl,X.lte=Ol,X.max=function(e){return e&&e.length?js(e,hi,ja):f},X.maxBy=function(e,n){return e&&e.length?js(e,me(n,2),ja):f},X.mean=function(e){return Ki(e,hi)},X.meanBy=function(e,n){return Ki(e,me(n,2))},X.min=function(e){return e&&e.length?js(e,hi,Fa):f},X.minBy=function(e,n){return e&&e.length?js(e,me(n,2),Fa):f},X.stubArray=ec,X.stubFalse=tc,X.stubObject=function(){return{}},X.stubString=function(){return""},X.stubTrue=function(){return!0},X.multiply=lu,X.nth=function(e,n){return e&&e.length?ao(e,Jt(n)):f},X.noConflict=function(){return It._===this&&(It._=Cn),this},X.noop=Zo,X.now=So,X.pad=function(e,n,l){e=Sn(e);var x=(n=Jt(n))?ut(e):0;if(!n||x>=n)return e;var U=(n-x)/2;return sa(ue(U),l)+e+sa(te(U),l)},X.padEnd=function(e,n,l){e=Sn(e);var x=(n=Jt(n))?ut(e):0;return n&&x<n?e+sa(n-x,l):e},X.padStart=function(e,n,l){e=Sn(e);var x=(n=Jt(n))?ut(e):0;return n&&x<n?sa(n-x,l)+e:e},X.parseInt=function(e,n,l){return l||null==n?n=0:n&&(n=+n),Ft(Sn(e).replace(P,""),n||0)},X.random=function(e,n,l){if(l&&"boolean"!=typeof l&&Tn(e,n,l)&&(n=l=f),l===f&&("boolean"==typeof n?(l=n,n=f):"boolean"==typeof e&&(l=e,e=f)),e===f&&n===f?(e=0,n=1):(e=Ts(e),n===f?(n=e,e=0):n=Ts(n)),e>n){var x=e;e=n,n=x}if(l||e%1||n%1){var U=jt();return Ke(e+U*(n-e+Xi("1e-"+((U+"").length-1))),n)}return Bs(e,n)},X.reduce=function(e,n,l){var x=qt(e)?Ps:Ms,U=arguments.length<3;return x(e,me(n,4),l,U,Ui)},X.reduceRight=function(e,n,l){var x=qt(e)?qs:Ms,U=arguments.length<3;return x(e,me(n,4),l,U,Aa)},X.repeat=function(e,n,l){return n=(l?Tn(e,n,l):n===f)?1:Jt(n),Er(Sn(e),n)},X.replace=function(){var e=arguments,n=Sn(e[0]);return e.length<3?n:n.replace(e[1],e[2])},X.result=function(e,n,l){var x=-1,U=(n=as(n,e)).length;for(U||(U=1,e=f);++x<U;){var K=null==e?f:e[cs(n[x])];K===f&&(x=U,K=l),e=Cs(K)?K.call(e):K}return e},X.round=uu,X.runInContext=Ee,X.sample=function(e){return(qt(e)?Za:co)(e)},X.size=function(e){if(null==e)return 0;if(di(e))return To(e)?ut(e):e.length;var n=un(e);return n==yt||n==Kt?e.size:Ua(e).length},X.snakeCase=ql,X.some=function(e,n,l){var x=qt(e)?hs:$o;return l&&Tn(e,n,l)&&(n=f),x(e,me(n,3))},X.sortedIndex=function(e,n){return Sa(e,n)},X.sortedIndexBy=function(e,n,l){return za(e,n,me(l,2))},X.sortedIndexOf=function(e,n){var l=null==e?0:e.length;if(l){var x=Sa(e,n);if(x<l&&Wi(e[x],n))return x}return-1},X.sortedLastIndex=function(e,n){return Sa(e,n,!0)},X.sortedLastIndexBy=function(e,n,l){return za(e,n,me(l,2),!0)},X.sortedLastIndexOf=function(e,n){if(null!=e&&e.length){var l=Sa(e,n,!0)-1;if(Wi(e[l],n))return l}return-1},X.startCase=Vl,X.startsWith=function(e,n,l){return e=Sn(e),l=null==l?0:Qr(Jt(l),0,e.length),n=ti(n),e.slice(l,l+n.length)==n},X.subtract=du,X.sum=function(e){return e&&e.length?Xs(e,hi):0},X.sumBy=function(e,n){return e&&e.length?Xs(e,me(n,2)):0},X.template=function(e,n,l){var x=X.templateSettings;l&&Tn(e,n,l)&&(n=f),e=Sn(e),n=_o({},n,x,u);var U,K,ce=_o({},n.imports,x.imports,u),de=Tr(ce),Ce=a(ce,de),Ue=0,$e=n.interpolate||ae,Ve="__p += '",vt=Ei((n.escape||ae).source+"|"+$e.source+"|"+($e===Xe?_:ae).source+"|"+(n.evaluate||ae).source+"|$","g"),Ct="//# sourceURL="+(Qt.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++zs+"]")+"\n";e.replace(vt,function(Ze,Bt,at,Xt,zt,vn){return at||(at=Xt),Ve+=e.slice(Ue,vn).replace(ve,oe),Bt&&(U=!0,Ve+="' +\n__e("+Bt+") +\n'"),zt&&(K=!0,Ve+="';\n"+zt+";\n__p += '"),at&&(Ve+="' +\n((__t = ("+at+")) == null ? '' : __t) +\n'"),Ue=vn+Ze.length,Ze}),Ve+="';\n";var Dt=Qt.call(n,"variable")&&n.variable;if(Dt){if(V.test(Dt))throw new wt("Invalid `variable` option passed into `_.template`")}else Ve="with (obj) {\n"+Ve+"\n}\n";Ve=(K?Ve.replace(_n,""):Ve).replace(jr,"$1").replace(en,"$1;"),Ve="function("+(Dt||"obj")+") {\n"+(Dt?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(U?", __e = _.escape":"")+(K?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Ve+"return __p\n}";var Fe=Hc(function(){return Pn(de,Ct+"return "+Ve).apply(f,Ce)});if(Fe.source=Ve,Go(Fe))throw Fe;return Fe},X.times=function(e,n){if((e=Jt(e))<1||e>pe)return[];var l=ze,x=Ke(e,ze);n=me(n),e-=ze;for(var U=Ys(x,n);++l<e;)n(l);return U},X.toFinite=Ts,X.toInteger=Jt,X.toLength=Mc,X.toLower=function(e){return Sn(e).toLowerCase()},X.toNumber=Mi,X.toSafeInteger=function(e){return e?Qr(Jt(e),-9007199254740991,pe):0===e?e:0},X.toString=Sn,X.toUpper=function(e){return Sn(e).toUpperCase()},X.trim=function(e,n,l){if((e=Sn(e))&&(l||n===f))return Nn(e);if(!e||!(n=ti(n)))return e;var x=De(e),U=De(n);return zi(x,w(x,U),L(x,U)+1).join("")},X.trimEnd=function(e,n,l){if((e=Sn(e))&&(l||n===f))return e.slice(0,Rt(e)+1);if(!e||!(n=ti(n)))return e;var x=De(e);return zi(x,0,L(x,De(n))+1).join("")},X.trimStart=function(e,n,l){if((e=Sn(e))&&(l||n===f))return e.replace(P,"");if(!e||!(n=ti(n)))return e;var x=De(e);return zi(x,w(x,De(n))).join("")},X.truncate=function(e,n){var l=30,x="...";if(Yn(n)){var U="separator"in n?n.separator:U;l="length"in n?Jt(n.length):l,x="omission"in n?ti(n.omission):x}var K=(e=Sn(e)).length;if(ne(e)){var ce=De(e);K=ce.length}if(l>=K)return e;var de=l-ut(x);if(de<1)return x;var Ce=ce?zi(ce,0,de).join(""):e.slice(0,de);if(U===f)return Ce+x;if(ce&&(de+=Ce.length-de),qo(U)){if(e.slice(de).search(U)){var Ue,$e=Ce;for(U.global||(U=Ei(U.source,Sn(F.exec(U))+"g")),U.lastIndex=0;Ue=U.exec($e);)var Ve=Ue.index;Ce=Ce.slice(0,Ve===f?de:Ve)}}else if(e.indexOf(ti(U),de)!=de){var vt=Ce.lastIndexOf(U);vt>-1&&(Ce=Ce.slice(0,vt))}return Ce+x},X.unescape=function(e){return(e=Sn(e))&&lt.test(e)?e.replace(ri,In):e},X.uniqueId=function(e){var n=++dr;return Sn(e)+n},X.upperCase=Xl,X.upperFirst=Yo,X.each=Ec,X.eachRight=wc,X.first=vc,Qo(X,(nc={},ui(X,function(e,n){Qt.call(X.prototype,n)||(nc[n]=e)}),nc),{chain:!1}),X.VERSION="4.17.21",Fr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){X[e].placeholder=X}),Fr(["drop","take"],function(e,n){Yt.prototype[e]=function(l){l=l===f?1:nt(Jt(l),0);var x=this.__filtered__&&!n?new Yt(this):this.clone();return x.__filtered__?x.__takeCount__=Ke(l,x.__takeCount__):x.__views__.push({size:Ke(l,ze),type:e+(x.__dir__<0?"Right":"")}),x},Yt.prototype[e+"Right"]=function(l){return this.reverse()[e](l).reverse()}}),Fr(["filter","map","takeWhile"],function(e,n){var l=n+1,x=1==l||3==l;Yt.prototype[e]=function(U){var K=this.clone();return K.__iteratees__.push({iteratee:me(U,3),type:l}),K.__filtered__=K.__filtered__||x,K}}),Fr(["head","last"],function(e,n){var l="take"+(n?"Right":"");Yt.prototype[e]=function(){return this[l](1).value()[0]}}),Fr(["initial","tail"],function(e,n){var l="drop"+(n?"":"Right");Yt.prototype[e]=function(){return this.__filtered__?new Yt(this):this[l](1)}}),Yt.prototype.compact=function(){return this.filter(hi)},Yt.prototype.find=function(e){return this.filter(e).head()},Yt.prototype.findLast=function(e){return this.reverse().find(e)},Yt.prototype.invokeMap=Gt(function(e,n){return"function"==typeof e?new Yt(this):this.map(function(l){return Ti(l,e,n)})}),Yt.prototype.reject=function(e){return this.filter(wo(me(e)))},Yt.prototype.slice=function(e,n){e=Jt(e);var l=this;return l.__filtered__&&(e>0||n<0)?new Yt(l):(e<0?l=l.takeRight(-e):e&&(l=l.drop(e)),n!==f&&(l=(n=Jt(n))<0?l.dropRight(-n):l.take(n-e)),l)},Yt.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Yt.prototype.toArray=function(){return this.take(ze)},ui(Yt.prototype,function(e,n){var l=/^(?:filter|find|map|reject)|While$/.test(n),x=/^(?:head|last)$/.test(n),U=X[x?"take"+("last"==n?"Right":""):n],K=x||/^find/.test(n);U&&(X.prototype[n]=function(){var ce=this.__wrapped__,de=x?[1]:arguments,Ce=ce instanceof Yt,Ue=de[0],$e=Ce||qt(ce),Ve=function(Bt){var at=U.apply(X,Si([Bt],de));return x&&vt?at[0]:at};$e&&l&&"function"==typeof Ue&&1!=Ue.length&&(Ce=$e=!1);var vt=this.__chain__,Ct=!!this.__actions__.length,Dt=K&&!vt,Fe=Ce&&!Ct;if(!K&&$e){ce=Fe?ce:new Yt(this);var Ze=e.apply(ce,de);return Ze.__actions__.push({func:yo,args:[Ve],thisArg:f}),new Jr(Ze,vt)}return Dt&&Fe?e.apply(this,de):(Ze=this.thru(Ve),Dt?x?Ze.value()[0]:Ze.value():Ze)})}),Fr(["pop","push","shift","sort","splice","unshift"],function(e){var n=wi[e],l=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",x=/^(?:pop|shift)$/.test(e);X.prototype[e]=function(){var U=arguments;if(x&&!this.__chain__){var K=this.value();return n.apply(qt(K)?K:[],U)}return this[l](function(ce){return n.apply(qt(ce)?ce:[],U)})}}),ui(Yt.prototype,function(e,n){var l=X[n];if(l){var x=l.name+"";Qt.call(hn,x)||(hn[x]=[]),hn[x].push({name:n,func:l})}}),hn[Ta(f,2).name]=[{name:"wrapper",func:f}],Yt.prototype.clone=function(){var e=new Yt(this.__wrapped__);return e.__actions__=or(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=or(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=or(this.__views__),e},Yt.prototype.reverse=function(){if(this.__filtered__){var e=new Yt(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Yt.prototype.value=function(){var e=this.__wrapped__.value(),n=this.__dir__,l=qt(e),x=n<0,U=l?e.length:0,K=function(vn,Pt,Ut){for(var hr=-1,rr=Ut.length;++hr<rr;){var ni=Ut[hr],Un=ni.size;switch(ni.type){case"drop":vn+=Un;break;case"dropRight":Pt-=Un;break;case"take":Pt=Ke(Pt,vn+Un);break;case"takeRight":vn=nt(vn,Pt-Un)}}return{start:vn,end:Pt}}(0,U,this.__views__),ce=K.start,de=K.end,Ce=de-ce,Ue=x?de:ce-1,$e=this.__iteratees__,Ve=$e.length,vt=0,Ct=Ke(Ce,this.__takeCount__);if(!l||!x&&U==Ce&&Ct==Ce)return Gr(e,this.__actions__);var Dt=[];e:for(;Ce--&&vt<Ct;){for(var Fe=-1,Ze=e[Ue+=n];++Fe<Ve;){var Bt=$e[Fe],Xt=Bt.type,zt=(0,Bt.iteratee)(Ze);if(2==Xt)Ze=zt;else if(!zt){if(1==Xt)continue e;break e}}Dt[vt++]=Ze}return Dt},X.prototype.at=pl,X.prototype.chain=function(){return Sc(this)},X.prototype.commit=function(){return new Jr(this.value(),this.__chain__)},X.prototype.next=function(){this.__values__===f&&(this.__values__=Ac(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?f:this.__values__[this.__index__++]}},X.prototype.plant=function(e){for(var n,l=this;l instanceof Qs;){var x=hc(l);x.__index__=0,x.__values__=f,n?U.__wrapped__=x:n=x;var U=x;l=l.__wrapped__}return U.__wrapped__=e,n},X.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Yt){var n=e;return this.__actions__.length&&(n=new Yt(this)),(n=n.reverse()).__actions__.push({func:yo,args:[Fo],thisArg:f}),new Jr(n,this.__chain__)}return this.thru(Fo)},X.prototype.toJSON=X.prototype.valueOf=X.prototype.value=function(){return Gr(this.__wrapped__,this.__actions__)},X.prototype.first=X.prototype.head,zn&&(X.prototype[zn]=function(){return this}),X}();It._=ht,(E=function(){return ht}.call(H,p,H,q))===f||(q.exports=E)}.call(this)},2492:(q,H,p)=>{var E=p(2980),f=p(1463)(function(b,N,W){E(b,N,W)});q.exports=f},5062:q=>{q.exports=function(){return!1}},9881:(q,H,p)=>{var E=p(8363),f=p(1704);q.exports=function(b){return E(b,f(b))}},8660:(q,H,p)=>{var E,f;f=E||(E={}),function(b){var N="object"==typeof p.g?p.g:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),W=v(f);function v(C,R){return function(ge,ee){"function"!=typeof C[ge]&&Object.defineProperty(C,ge,{configurable:!0,writable:!0,value:ee}),R&&R(ge,ee)}}void 0===N.Reflect?N.Reflect=f:W=v(N.Reflect,W),function(C){var R=Object.prototype.hasOwnProperty,ge="function"==typeof Symbol,ee=ge&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",re=ge&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",pe="function"==typeof Object.create,Me={__proto__:[]}instanceof Array,ze=!pe&&!Me,Be={create:pe?function(){return V(Object.create(null))}:Me?function(){return V({__proto__:null})}:function(){return V({})},has:ze?function(y,_){return R.call(y,_)}:function(y,_){return _ in y},get:ze?function(y,_){return R.call(y,_)?y[_]:void 0}:function(y,_){return y[_]}},g=Object.getPrototypeOf(Function),gt="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,ct=gt||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function $(){var y={},_=[],F=function(){function fe(le,se,ae){this._index=0,this._keys=le,this._values=se,this._selector=ae}return fe.prototype["@@iterator"]=function(){return this},fe.prototype[re]=function(){return this},fe.prototype.next=function(){var le=this._index;if(le>=0&&le<this._keys.length){var se=this._selector(this._keys[le],this._values[le]);return le+1>=this._keys.length?(this._index=-1,this._keys=_,this._values=_):this._index++,{value:se,done:!1}}return{value:void 0,done:!0}},fe.prototype.throw=function(le){throw this._index>=0&&(this._index=-1,this._keys=_,this._values=_),le},fe.prototype.return=function(le){return this._index>=0&&(this._index=-1,this._keys=_,this._values=_),{value:le,done:!0}},fe}();return function(){function fe(){this._keys=[],this._values=[],this._cacheKey=y,this._cacheIndex=-2}return Object.defineProperty(fe.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),fe.prototype.has=function(le){return this._find(le,!1)>=0},fe.prototype.get=function(le){var se=this._find(le,!1);return se>=0?this._values[se]:void 0},fe.prototype.set=function(le,se){var ae=this._find(le,!0);return this._values[ae]=se,this},fe.prototype.delete=function(le){var se=this._find(le,!1);if(se>=0){for(var ae=this._keys.length,ve=se+1;ve<ae;ve++)this._keys[ve-1]=this._keys[ve],this._values[ve-1]=this._values[ve];return this._keys.length--,this._values.length--,le===this._cacheKey&&(this._cacheKey=y,this._cacheIndex=-2),!0}return!1},fe.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=y,this._cacheIndex=-2},fe.prototype.keys=function(){return new F(this._keys,this._values,Q)},fe.prototype.values=function(){return new F(this._keys,this._values,Y)},fe.prototype.entries=function(){return new F(this._keys,this._values,Z)},fe.prototype["@@iterator"]=function(){return this.entries()},fe.prototype[re]=function(){return this.entries()},fe.prototype._find=function(le,se){return this._cacheKey!==le&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=le)),this._cacheIndex<0&&se&&(this._cacheIndex=this._keys.length,this._keys.push(le),this._values.push(void 0)),this._cacheIndex},fe}();function Q(fe,le){return fe}function Y(fe,le){return le}function Z(fe,le){return[fe,le]}}():Map,mn=gt||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function j(){return function(){function y(){this._map=new ct}return Object.defineProperty(y.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),y.prototype.has=function(_){return this._map.has(_)},y.prototype.add=function(_){return this._map.set(_,_),this},y.prototype.delete=function(_){return this._map.delete(_)},y.prototype.clear=function(){this._map.clear()},y.prototype.keys=function(){return this._map.keys()},y.prototype.values=function(){return this._map.values()},y.prototype.entries=function(){return this._map.entries()},y.prototype["@@iterator"]=function(){return this.keys()},y.prototype[re]=function(){return this.keys()},y}()}():Set,be=new(gt||"function"!=typeof WeakMap?function G(){var _=Be.create(),F=Q();return function(){function se(){this._key=Q()}return se.prototype.has=function(ae){var ve=Y(ae,!1);return void 0!==ve&&Be.has(ve,this._key)},se.prototype.get=function(ae){var ve=Y(ae,!1);return void 0!==ve?Be.get(ve,this._key):void 0},se.prototype.set=function(ae,ve){return Y(ae,!0)[this._key]=ve,this},se.prototype.delete=function(ae){var ve=Y(ae,!1);return void 0!==ve&&delete ve[this._key]},se.prototype.clear=function(){this._key=Q()},se}();function Q(){var se;do{se="@@WeakMap@@"+le()}while(Be.has(_,se));return _[se]=!0,se}function Y(se,ae){if(!R.call(se,F)){if(!ae)return;Object.defineProperty(se,F,{value:Be.create()})}return se[F]}function Z(se,ae){for(var ve=0;ve<ae;++ve)se[ve]=255*Math.random()|0;return se}function le(){var se=function fe(se){return"function"==typeof Uint8Array?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(se)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(se)):Z(new Uint8Array(se),se):Z(new Array(se),se)}(16);se[6]=79&se[6]|64,se[8]=191&se[8]|128;for(var ae="",ve=0;ve<16;++ve){var Le=se[ve];4!==ve&&6!==ve&&8!==ve||(ae+="-"),Le<16&&(ae+="0"),ae+=Le.toString(16).toLowerCase()}return ae}}():WeakMap);function qn(y,_,F){var Q=be.get(y);if(dn(Q)){if(!F)return;Q=new ct,be.set(y,Q)}var Y=Q.get(_);if(dn(Y)){if(!F)return;Y=new ct,Q.set(_,Y)}return Y}function Lr(y,_,F){if(mr(y,_,F))return!0;var Q=A(_);return!_n(Q)&&Lr(y,Q,F)}function mr(y,_,F){var Q=qn(_,F,!1);return!dn(Q)&&function lt(y){return!!y}(Q.has(y))}function gr(y,_,F){if(mr(y,_,F))return _r(y,_,F);var Q=A(_);return _n(Q)?void 0:gr(y,Q,F)}function _r(y,_,F){var Q=qn(_,F,!1);if(!dn(Q))return Q.get(y)}function Fn(y,_,F,Q){qn(F,Q,!0).set(y,_)}function Jn(y,_){var F=Vn(y,_),Q=A(y);if(null===Q)return F;var Y=Jn(Q,_);if(Y.length<=0)return F;if(F.length<=0)return Y;for(var Z=new mn,fe=[],le=0,se=F;le<se.length;le++){var ae=se[le];Z.has(ae)||(Z.add(ae),fe.push(ae))}for(var ve=0,Le=Y;ve<Le.length;ve++)Z.has(ae=Le[ve])||(Z.add(ae),fe.push(ae));return fe}function Vn(y,_){var F=[],Q=qn(y,_,!1);if(dn(Q))return F;for(var Y=function o(y){var _=t(y,re);if(!Xe(_))throw new TypeError;var F=_.call(y);if(!en(F))throw new TypeError;return F}(Q.keys()),Z=0;;){var fe=P(Y);if(!fe)return F.length=Z,F;var le=h(fe);try{F[Z]=le}catch(se){try{S(Y)}finally{throw se}}Z++}}function En(y){if(null===y)return 1;switch(typeof y){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===y?1:6;default:return 6}}function dn(y){return void 0===y}function _n(y){return null===y}function en(y){return"object"==typeof y?null!==y:"function"==typeof y}function Wt(y){var _=function ri(y,_){switch(En(y)){case 0:case 1:case 2:case 3:case 4:case 5:return y}var F=3===_?"string":5===_?"number":"default",Q=t(y,ee);if(void 0!==Q){var Y=Q.call(y,F);if(en(Y))throw new TypeError;return Y}return function Qe(y,_){if("string"===_){var F=y.toString;if(Xe(F)&&!en(Y=F.call(y))||Xe(Q=y.valueOf)&&!en(Y=Q.call(y)))return Y}else{var Q;if(Xe(Q=y.valueOf)&&!en(Y=Q.call(y)))return Y;var Y,Z=y.toString;if(Xe(Z)&&!en(Y=Z.call(y)))return Y}throw new TypeError}(y,"default"===F?"number":F)}(y,3);return function jr(y){return"symbol"==typeof y}(_)?_:function ft(y){return""+y}(_)}function an(y){return Array.isArray?Array.isArray(y):y instanceof Object?y instanceof Array:"[object Array]"===Object.prototype.toString.call(y)}function Xe(y){return"function"==typeof y}function fn(y){return"function"==typeof y}function t(y,_){var F=y[_];if(null!=F){if(!Xe(F))throw new TypeError;return F}}function h(y){return y.value}function P(y){var _=y.next();return!_.done&&_}function S(y){var _=y.return;_&&_.call(y)}function A(y){var _=Object.getPrototypeOf(y);if("function"!=typeof y||y===g||_!==g)return _;var F=y.prototype,Q=F&&Object.getPrototypeOf(F);if(null==Q||Q===Object.prototype)return _;var Y=Q.constructor;return"function"!=typeof Y||Y===y?_:Y}function V(y){return y.__=void 0,delete y.__,y}C("decorate",function it(y,_,F,Q){if(dn(F)){if(!an(y))throw new TypeError;if(!fn(_))throw new TypeError;return function cr(y,_){for(var F=y.length-1;F>=0;--F){var Q=(0,y[F])(_);if(!dn(Q)&&!_n(Q)){if(!fn(Q))throw new TypeError;_=Q}}return _}(y,_)}if(!an(y))throw new TypeError;if(!en(_))throw new TypeError;if(!en(Q)&&!dn(Q)&&!_n(Q))throw new TypeError;return _n(Q)&&(Q=void 0),function fr(y,_,F,Q){for(var Y=y.length-1;Y>=0;--Y){var Z=(0,y[Y])(_,F,Q);if(!dn(Z)&&!_n(Z)){if(!en(Z))throw new TypeError;Q=Z}}return Q}(y,_,F=Wt(F),Q)}),C("metadata",function st(y,_){return function F(Q,Y){if(!en(Q))throw new TypeError;if(!dn(Y)&&!function d(y){switch(En(y)){case 3:case 4:return!0;default:return!1}}(Y))throw new TypeError;Fn(y,_,Q,Y)}}),C("defineMetadata",function yt(y,_,F,Q){if(!en(F))throw new TypeError;return dn(Q)||(Q=Wt(Q)),Fn(y,_,F,Q)}),C("hasMetadata",function xt(y,_,F){if(!en(_))throw new TypeError;return dn(F)||(F=Wt(F)),Lr(y,_,F)}),C("hasOwnMetadata",function Ht(y,_,F){if(!en(_))throw new TypeError;return dn(F)||(F=Wt(F)),mr(y,_,F)}),C("getMetadata",function At(y,_,F){if(!en(_))throw new TypeError;return dn(F)||(F=Wt(F)),gr(y,_,F)}),C("getOwnMetadata",function sn(y,_,F){if(!en(_))throw new TypeError;return dn(F)||(F=Wt(F)),_r(y,_,F)}),C("getMetadataKeys",function Kt(y,_){if(!en(y))throw new TypeError;return dn(_)||(_=Wt(_)),Jn(y,_)}),C("getOwnMetadataKeys",function $n(y,_){if(!en(y))throw new TypeError;return dn(_)||(_=Wt(_)),Vn(y,_)}),C("deleteMetadata",function ir(y,_,F){if(!en(_))throw new TypeError;dn(F)||(F=Wt(F));var Q=qn(_,F,!1);if(dn(Q)||!Q.delete(y))return!1;if(Q.size>0)return!0;var Y=be.get(_);return Y.delete(F),Y.size>0||be.delete(_),!0})}(W)}()},7539:q=>{"use strict";const H={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};H.localCName=H.generateIdentifier(),H.splitLines=function(p){return p.trim().split("\n").map(E=>E.trim())},H.splitSections=function(p){return p.split("\nm=").map((E,f)=>(f>0?"m="+E:E).trim()+"\r\n")},H.getDescription=function(p){const E=H.splitSections(p);return E&&E[0]},H.getMediaSections=function(p){const E=H.splitSections(p);return E.shift(),E},H.matchPrefix=function(p,E){return H.splitLines(p).filter(f=>0===f.indexOf(E))},H.parseCandidate=function(p){let E;E=0===p.indexOf("a=candidate:")?p.substring(12).split(" "):p.substring(10).split(" ");const f={foundation:E[0],component:{1:"rtp",2:"rtcp"}[E[1]]||E[1],protocol:E[2].toLowerCase(),priority:parseInt(E[3],10),ip:E[4],address:E[4],port:parseInt(E[5],10),type:E[7]};for(let b=8;b<E.length;b+=2)switch(E[b]){case"raddr":f.relatedAddress=E[b+1];break;case"rport":f.relatedPort=parseInt(E[b+1],10);break;case"tcptype":f.tcpType=E[b+1];break;case"ufrag":f.ufrag=E[b+1],f.usernameFragment=E[b+1];break;default:void 0===f[E[b]]&&(f[E[b]]=E[b+1])}return f},H.writeCandidate=function(p){const E=[];E.push(p.foundation);const f=p.component;E.push("rtp"===f?1:"rtcp"===f?2:f),E.push(p.protocol.toUpperCase()),E.push(p.priority),E.push(p.address||p.ip),E.push(p.port);const b=p.type;return E.push("typ"),E.push(b),"host"!==b&&p.relatedAddress&&p.relatedPort&&(E.push("raddr"),E.push(p.relatedAddress),E.push("rport"),E.push(p.relatedPort)),p.tcpType&&"tcp"===p.protocol.toLowerCase()&&(E.push("tcptype"),E.push(p.tcpType)),(p.usernameFragment||p.ufrag)&&(E.push("ufrag"),E.push(p.usernameFragment||p.ufrag)),"candidate:"+E.join(" ")},H.parseIceOptions=function(p){return p.substr(14).split(" ")},H.parseRtpMap=function(p){let E=p.substr(9).split(" ");const f={payloadType:parseInt(E.shift(),10)};return E=E[0].split("/"),f.name=E[0],f.clockRate=parseInt(E[1],10),f.channels=3===E.length?parseInt(E[2],10):1,f.numChannels=f.channels,f},H.writeRtpMap=function(p){let E=p.payloadType;void 0!==p.preferredPayloadType&&(E=p.preferredPayloadType);const f=p.channels||p.numChannels||1;return"a=rtpmap:"+E+" "+p.name+"/"+p.clockRate+(1!==f?"/"+f:"")+"\r\n"},H.parseExtmap=function(p){const E=p.substr(9).split(" ");return{id:parseInt(E[0],10),direction:E[0].indexOf("/")>0?E[0].split("/")[1]:"sendrecv",uri:E[1]}},H.writeExtmap=function(p){return"a=extmap:"+(p.id||p.preferredId)+(p.direction&&"sendrecv"!==p.direction?"/"+p.direction:"")+" "+p.uri+"\r\n"},H.parseFmtp=function(p){const E={};let f;const b=p.substr(p.indexOf(" ")+1).split(";");for(let N=0;N<b.length;N++)f=b[N].trim().split("="),E[f[0].trim()]=f[1];return E},H.writeFmtp=function(p){let E="",f=p.payloadType;if(void 0!==p.preferredPayloadType&&(f=p.preferredPayloadType),p.parameters&&Object.keys(p.parameters).length){const b=[];Object.keys(p.parameters).forEach(N=>{b.push(void 0!==p.parameters[N]?N+"="+p.parameters[N]:N)}),E+="a=fmtp:"+f+" "+b.join(";")+"\r\n"}return E},H.parseRtcpFb=function(p){const E=p.substr(p.indexOf(" ")+1).split(" ");return{type:E.shift(),parameter:E.join(" ")}},H.writeRtcpFb=function(p){let E="",f=p.payloadType;return void 0!==p.preferredPayloadType&&(f=p.preferredPayloadType),p.rtcpFeedback&&p.rtcpFeedback.length&&p.rtcpFeedback.forEach(b=>{E+="a=rtcp-fb:"+f+" "+b.type+(b.parameter&&b.parameter.length?" "+b.parameter:"")+"\r\n"}),E},H.parseSsrcMedia=function(p){const E=p.indexOf(" "),f={ssrc:parseInt(p.substr(7,E-7),10)},b=p.indexOf(":",E);return b>-1?(f.attribute=p.substr(E+1,b-E-1),f.value=p.substr(b+1)):f.attribute=p.substr(E+1),f},H.parseSsrcGroup=function(p){const E=p.substr(13).split(" ");return{semantics:E.shift(),ssrcs:E.map(f=>parseInt(f,10))}},H.getMid=function(p){const E=H.matchPrefix(p,"a=mid:")[0];if(E)return E.substr(6)},H.parseFingerprint=function(p){const E=p.substr(14).split(" ");return{algorithm:E[0].toLowerCase(),value:E[1].toUpperCase()}},H.getDtlsParameters=function(p,E){return{role:"auto",fingerprints:H.matchPrefix(p+E,"a=fingerprint:").map(H.parseFingerprint)}},H.writeDtlsParameters=function(p,E){let f="a=setup:"+E+"\r\n";return p.fingerprints.forEach(b=>{f+="a=fingerprint:"+b.algorithm+" "+b.value+"\r\n"}),f},H.parseCryptoLine=function(p){const E=p.substr(9).split(" ");return{tag:parseInt(E[0],10),cryptoSuite:E[1],keyParams:E[2],sessionParams:E.slice(3)}},H.writeCryptoLine=function(p){return"a=crypto:"+p.tag+" "+p.cryptoSuite+" "+("object"==typeof p.keyParams?H.writeCryptoKeyParams(p.keyParams):p.keyParams)+(p.sessionParams?" "+p.sessionParams.join(" "):"")+"\r\n"},H.parseCryptoKeyParams=function(p){if(0!==p.indexOf("inline:"))return null;const E=p.substr(7).split("|");return{keyMethod:"inline",keySalt:E[0],lifeTime:E[1],mkiValue:E[2]?E[2].split(":")[0]:void 0,mkiLength:E[2]?E[2].split(":")[1]:void 0}},H.writeCryptoKeyParams=function(p){return p.keyMethod+":"+p.keySalt+(p.lifeTime?"|"+p.lifeTime:"")+(p.mkiValue&&p.mkiLength?"|"+p.mkiValue+":"+p.mkiLength:"")},H.getCryptoParameters=function(p,E){return H.matchPrefix(p+E,"a=crypto:").map(H.parseCryptoLine)},H.getIceParameters=function(p,E){const f=H.matchPrefix(p+E,"a=ice-ufrag:")[0],b=H.matchPrefix(p+E,"a=ice-pwd:")[0];return f&&b?{usernameFragment:f.substr(12),password:b.substr(10)}:null},H.writeIceParameters=function(p){let E="a=ice-ufrag:"+p.usernameFragment+"\r\na=ice-pwd:"+p.password+"\r\n";return p.iceLite&&(E+="a=ice-lite\r\n"),E},H.parseRtpParameters=function(p){const E={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},f=H.splitLines(p)[0].split(" ");for(let b=3;b<f.length;b++){const N=f[b],W=H.matchPrefix(p,"a=rtpmap:"+N+" ")[0];if(W){const v=H.parseRtpMap(W),C=H.matchPrefix(p,"a=fmtp:"+N+" ");switch(v.parameters=C.length?H.parseFmtp(C[0]):{},v.rtcpFeedback=H.matchPrefix(p,"a=rtcp-fb:"+N+" ").map(H.parseRtcpFb),E.codecs.push(v),v.name.toUpperCase()){case"RED":case"ULPFEC":E.fecMechanisms.push(v.name.toUpperCase())}}}return H.matchPrefix(p,"a=extmap:").forEach(b=>{E.headerExtensions.push(H.parseExtmap(b))}),E},H.writeRtpDescription=function(p,E){let f="";f+="m="+p+" ",f+=E.codecs.length>0?"9":"0",f+=" UDP/TLS/RTP/SAVPF ",f+=E.codecs.map(N=>void 0!==N.preferredPayloadType?N.preferredPayloadType:N.payloadType).join(" ")+"\r\n",f+="c=IN IP4 0.0.0.0\r\n",f+="a=rtcp:9 IN IP4 0.0.0.0\r\n",E.codecs.forEach(N=>{f+=H.writeRtpMap(N),f+=H.writeFmtp(N),f+=H.writeRtcpFb(N)});let b=0;return E.codecs.forEach(N=>{N.maxptime>b&&(b=N.maxptime)}),b>0&&(f+="a=maxptime:"+b+"\r\n"),E.headerExtensions&&E.headerExtensions.forEach(N=>{f+=H.writeExtmap(N)}),f},H.parseRtpEncodingParameters=function(p){const E=[],f=H.parseRtpParameters(p),b=-1!==f.fecMechanisms.indexOf("RED"),N=-1!==f.fecMechanisms.indexOf("ULPFEC"),W=H.matchPrefix(p,"a=ssrc:").map(ee=>H.parseSsrcMedia(ee)).filter(ee=>"cname"===ee.attribute),v=W.length>0&&W[0].ssrc;let C;const R=H.matchPrefix(p,"a=ssrc-group:FID").map(ee=>ee.substr(17).split(" ").map(re=>parseInt(re,10)));R.length>0&&R[0].length>1&&R[0][0]===v&&(C=R[0][1]),f.codecs.forEach(ee=>{if("RTX"===ee.name.toUpperCase()&&ee.parameters.apt){let re={ssrc:v,codecPayloadType:parseInt(ee.parameters.apt,10)};v&&C&&(re.rtx={ssrc:C}),E.push(re),b&&(re=JSON.parse(JSON.stringify(re)),re.fec={ssrc:v,mechanism:N?"red+ulpfec":"red"},E.push(re))}}),0===E.length&&v&&E.push({ssrc:v});let ge=H.matchPrefix(p,"b=");return ge.length&&(ge=0===ge[0].indexOf("b=TIAS:")?parseInt(ge[0].substr(7),10):0===ge[0].indexOf("b=AS:")?1e3*parseInt(ge[0].substr(5),10)*.95-16e3:void 0,E.forEach(ee=>{ee.maxBitrate=ge})),E},H.parseRtcpParameters=function(p){const E={},f=H.matchPrefix(p,"a=ssrc:").map(W=>H.parseSsrcMedia(W)).filter(W=>"cname"===W.attribute)[0];f&&(E.cname=f.value,E.ssrc=f.ssrc);const b=H.matchPrefix(p,"a=rtcp-rsize");E.reducedSize=b.length>0,E.compound=0===b.length;const N=H.matchPrefix(p,"a=rtcp-mux");return E.mux=N.length>0,E},H.writeRtcpParameters=function(p){let E="";return p.reducedSize&&(E+="a=rtcp-rsize\r\n"),p.mux&&(E+="a=rtcp-mux\r\n"),void 0!==p.ssrc&&p.cname&&(E+="a=ssrc:"+p.ssrc+" cname:"+p.cname+"\r\n"),E},H.parseMsid=function(p){let E;const f=H.matchPrefix(p,"a=msid:");if(1===f.length)return E=f[0].substr(7).split(" "),{stream:E[0],track:E[1]};const b=H.matchPrefix(p,"a=ssrc:").map(N=>H.parseSsrcMedia(N)).filter(N=>"msid"===N.attribute);return b.length>0?(E=b[0].value.split(" "),{stream:E[0],track:E[1]}):void 0},H.parseSctpDescription=function(p){const E=H.parseMLine(p),f=H.matchPrefix(p,"a=max-message-size:");let b;f.length>0&&(b=parseInt(f[0].substr(19),10)),isNaN(b)&&(b=65536);const N=H.matchPrefix(p,"a=sctp-port:");if(N.length>0)return{port:parseInt(N[0].substr(12),10),protocol:E.fmt,maxMessageSize:b};const W=H.matchPrefix(p,"a=sctpmap:");if(W.length>0){const v=W[0].substr(10).split(" ");return{port:parseInt(v[0],10),protocol:v[1],maxMessageSize:b}}},H.writeSctpDescription=function(p,E){let f=[];return f="DTLS/SCTP"!==p.protocol?["m="+p.kind+" 9 "+p.protocol+" "+E.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+E.port+"\r\n"]:["m="+p.kind+" 9 "+p.protocol+" "+E.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+E.port+" "+E.protocol+" 65535\r\n"],void 0!==E.maxMessageSize&&f.push("a=max-message-size:"+E.maxMessageSize+"\r\n"),f.join("")},H.generateSessionId=function(){return Math.random().toString().substr(2,21)},H.writeSessionBoilerplate=function(p,E,f){let b;const N=void 0!==E?E:2;return b=p||H.generateSessionId(),"v=0\r\no="+(f||"thisisadapterortc")+" "+b+" "+N+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},H.getDirection=function(p,E){const f=H.splitLines(p);for(let b=0;b<f.length;b++)switch(f[b]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return f[b].substr(2)}return E?H.getDirection(E):"sendrecv"},H.getKind=function(p){return H.splitLines(p)[0].split(" ")[0].substr(2)},H.isRejected=function(p){return"0"===p.split(" ",2)[1]},H.parseMLine=function(p){const E=H.splitLines(p)[0].substr(2).split(" ");return{kind:E[0],port:parseInt(E[1],10),protocol:E[2],fmt:E.slice(3).join(" ")}},H.parseOLine=function(p){const E=H.matchPrefix(p,"o=")[0].substr(2).split(" ");return{username:E[0],sessionId:E[1],sessionVersion:parseInt(E[2],10),netType:E[3],addressType:E[4],address:E[5]}},H.isValidSDP=function(p){if("string"!=typeof p||0===p.length)return!1;const E=H.splitLines(p);for(let f=0;f<E.length;f++)if(E[f].length<2||"="!==E[f].charAt(1))return!1;return!0},q.exports=H},477:q=>{"use strict";q.exports=function(H,p,E,f){var b=self||window;try{try{var N;try{N=new b.Blob([H])}catch{(N=new(b.BlobBuilder||b.WebKitBlobBuilder||b.MozBlobBuilder||b.MSBlobBuilder)).append(H),N=N.getBlob()}var W=b.URL||b.webkitURL,v=W.createObjectURL(N),C=new b[p](v,E);return W.revokeObjectURL(v),C}catch{return new b[p]("data:application/javascript,".concat(encodeURIComponent(H)),E)}}catch{if(!f)throw Error("Inline worker is not supported");return new b[p](f,E)}}}},Et={};function St(q){var H=Et[q];if(void 0!==H)return H.exports;var p=Et[q]={id:q,loaded:!1,exports:{}};return We[q].call(p.exports,p,p.exports,St),p.loaded=!0,p.exports}St.n=q=>{var H=q&&q.__esModule?()=>q.default:()=>q;return St.d(H,{a:H}),H},St.d=(q,H)=>{for(var p in H)St.o(H,p)&&!St.o(q,p)&&Object.defineProperty(q,p,{enumerable:!0,get:H[p]})},St.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),St.o=(q,H)=>Object.prototype.hasOwnProperty.call(q,H),St.r=q=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(q,"__esModule",{value:!0})},St.nmd=q=>(q.paths=[],q.children||(q.children=[]),q);var et={};return(()=>{"use strict";St.r(et),St.d(et,{BASIC_FULL_HD_LANDSCAPE:()=>yn,BASIC_FULL_HD_PORTRAIT:()=>pn,BASIC_LANDSCAPE:()=>Vi,BASIC_PORTRAIT:()=>zs,BroadcastClientError:()=>y,BroadcastClientEvents:()=>ye,ConnectionState:()=>De,Errors:()=>f,LOG_LEVEL:()=>A,LocalStageStream:()=>_i,LogLevels:()=>A,RemoteStageStream:()=>Ga,STANDARD_LANDSCAPE:()=>_s,STANDARD_PORTRAIT:()=>Xi,Stage:()=>xa,StageConnectionState:()=>Mn,StageEvents:()=>Nr,StageParticipantPublishState:()=>Bn,StageParticipantSubscribeState:()=>Gr,StageStream:()=>wa,StreamType:()=>ht,SubscribeType:()=>ei,__version:()=>Qi,create:()=>Ns,default:()=>Xa,isSupported:()=>S});var q={};St.r(q),St.d(q,{fixNegotiationNeeded:()=>sn,shimAddTrackRemoveTrack:()=>Ht,shimAddTrackRemoveTrackWithNative:()=>xt,shimGetDisplayMedia:()=>ct,shimGetSendersWithDtmf:()=>it,shimGetStats:()=>st,shimGetUserMedia:()=>gt,shimMediaStream:()=>mn,shimOnTrack:()=>be,shimPeerConnection:()=>At,shimSenderReceiverGetStats:()=>yt});var H={};St.r(H),St.d(H,{shimAddTransceiver:()=>gr,shimCreateAnswer:()=>Jn,shimCreateOffer:()=>Fn,shimGetDisplayMedia:()=>$n,shimGetParameters:()=>_r,shimGetUserMedia:()=>Kt,shimOnTrack:()=>ir,shimPeerConnection:()=>cr,shimRTCDataChannel:()=>mr,shimReceiverGetStats:()=>qn,shimRemoveStream:()=>Lr,shimSenderGetStats:()=>fr});var p={};St.r(p),St.d(p,{shimAudioContext:()=>lt,shimCallbacksAPI:()=>dn,shimConstraints:()=>jr,shimCreateOfferLegacy:()=>Qe,shimGetUserMedia:()=>_n,shimLocalStreamsAPI:()=>Vn,shimRTCIceServerUrls:()=>en,shimRemoteStreamsAPI:()=>En,shimTrackEventTransceiver:()=>ri});var E={};St.r(E),St.d(E,{removeExtmapAllowMixed:()=>o,shimAddIceCandidateNullOrEmpty:()=>h,shimConnectionState:()=>t,shimMaxMessageSize:()=>fn,shimParameterlessSetLocalDescription:()=>P,shimRTCIceCandidate:()=>an,shimRTCIceCandidateRelayProtocol:()=>Xe,shimSendThrowTypeError:()=>d});var f={};St.r(f),St.d(f,{ADD_DEVICE_COMPOSITION_INDEX_MISSING_ERROR:()=>le,ADD_DEVICE_COMPOSITION_MISSING_ERROR:()=>fe,ADD_DEVICE_CONSTRAINTS_ERROR:()=>ve,ADD_DEVICE_DEVICE_ERROR:()=>Y,ADD_DEVICE_NAME_EXISTS_ERROR:()=>Z,ADD_DEVICE_NAME_MISSING_ERROR:()=>se,ADD_DEVICE_UNSUPPORTED:()=>ae,BROADCAST_CONFIGURATION_ERROR:()=>Tt,BROADCAST_ERROR:()=>_,CAMERA_ERROR:()=>F,CLIENT_INVALID_ERROR:()=>Br,EXCHANGE_POSITION_DEVICE_NOT_FOUND_ERROR:()=>Pe,FAILED_TO_ADD_IMAGE_ERROR:()=>je,INGEST_ENDPOINT_TYPE_ERROR:()=>Lt,INGEST_ENDPOINT_URL_ERROR:()=>Vt,INPUT_ERROR:()=>Q,INVALID_STREAM_KEY:()=>He,LOGGER_TYPE_ERROR:()=>vr,LOG_LEVEL_TYPE_ERROR:()=>$r,NETWORK_RECONNECT_CONFIGURATION_ERROR:()=>xr,NETWORK_RECONNECT_CONFIGURATION_INVALID_TIMEOUT_ERROR:()=>lr,PEER_CONNECTION_ERROR:()=>Nt,PEER_SETUP_ERROR:()=>qe,REMOVE_DEVICE_NOT_FOUND_ERROR:()=>Le,REMOVE_IMAGE_NOT_FOUND_ERROR:()=>Je,STAGE_TOKEN_TYPE_ERROR:()=>Vr,STAGE_WHIP_OVERRIDE_ERROR:()=>Gi,STREAM_CONFIGURATION_ERROR:()=>mt,STREAM_KEY_INVALID_CHAR_ERROR:()=>er,UPDATE_VIDEO_DEVICE_COMPOSITION_INDEX_MISSING_ERROR:()=>Ye,UPDATE_VIDEO_DEVICE_COMPOSITION_MISSING_ERROR:()=>Oe,UPDATE_VIDEO_DEVICE_COMPOSITION_NAME_NOT_FOUND_ERROR:()=>we});var b={};St.r(b),St.d(b,{BASIC_FULL_HD_LANDSCAPE:()=>yn,BASIC_FULL_HD_PORTRAIT:()=>pn,BASIC_LANDSCAPE:()=>Vi,BASIC_PORTRAIT:()=>zs,BroadcastClientError:()=>y,BroadcastClientEvents:()=>ye,ConnectionState:()=>De,Errors:()=>f,LOG_LEVEL:()=>A,LogLevels:()=>A,STANDARD_LANDSCAPE:()=>_s,STANDARD_PORTRAIT:()=>Xi,__version:()=>Qi,create:()=>Ns,isSupported:()=>S});let N=!0,W=!0;function v(c,i,s){const u=c.match(i);return u&&u.length>=s&&parseInt(u[s],10)}function C(c,i,s){if(!c.RTCPeerConnection)return;const u=c.RTCPeerConnection.prototype,k=u.addEventListener;u.addEventListener=function(T,B){if(T!==i)return k.apply(this,arguments);const M=O=>{const D=s(O);D&&(B.handleEvent?B.handleEvent(D):B(D))};return this._eventMap=this._eventMap||{},this._eventMap[i]||(this._eventMap[i]=new Map),this._eventMap[i].set(B,M),k.apply(this,[T,M])};const I=u.removeEventListener;u.removeEventListener=function(T,B){if(T!==i||!this._eventMap||!this._eventMap[i])return I.apply(this,arguments);if(!this._eventMap[i].has(B))return I.apply(this,arguments);const M=this._eventMap[i].get(B);return this._eventMap[i].delete(B),0===this._eventMap[i].size&&delete this._eventMap[i],0===Object.keys(this._eventMap).length&&delete this._eventMap,I.apply(this,[T,M])},Object.defineProperty(u,"on"+i,{get(){return this["_on"+i]},set(T){this["_on"+i]&&(this.removeEventListener(i,this["_on"+i]),delete this["_on"+i]),T&&this.addEventListener(i,this["_on"+i]=T)},enumerable:!0,configurable:!0})}function R(c){return"boolean"!=typeof c?new Error("Argument type: "+typeof c+". Please use a boolean."):(N=c,c?"adapter.js logging disabled":"adapter.js logging enabled")}function ge(c){return"boolean"!=typeof c?new Error("Argument type: "+typeof c+". Please use a boolean."):(W=!c,"adapter.js deprecation warnings "+(c?"disabled":"enabled"))}function ee(){if("object"==typeof window){if(N)return;typeof console<"u"&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function re(c,i){W&&console.warn(c+" is deprecated, please use "+i+" instead.")}function pe(c){return"[object Object]"===Object.prototype.toString.call(c)}function Me(c){return pe(c)?Object.keys(c).reduce(function(i,s){const u=pe(c[s]),k=u?Me(c[s]):c[s],I=u&&!Object.keys(k).length;return void 0===k||I?i:Object.assign(i,{[s]:k})},{}):c}function ze(c,i,s){i&&!s.has(i.id)&&(s.set(i.id,i),Object.keys(i).forEach(u=>{u.endsWith("Id")?ze(c,c.get(i[u]),s):u.endsWith("Ids")&&i[u].forEach(k=>{ze(c,c.get(k),s)})}))}function Be(c,i,s){const u=s?"outbound-rtp":"inbound-rtp",k=new Map;if(null===i)return k;const I=[];return c.forEach(T=>{"track"===T.type&&T.trackIdentifier===i.id&&I.push(T)}),I.forEach(T=>{c.forEach(B=>{B.type===u&&B.trackId===T.id&&ze(c,B,k)})}),k}const g=ee;function gt(c,i){const s=c&&c.navigator;if(!s.mediaDevices)return;const u=function(T){if("object"!=typeof T||T.mandatory||T.optional)return T;const B={};return Object.keys(T).forEach(M=>{if("require"===M||"advanced"===M||"mediaSource"===M)return;const O="object"==typeof T[M]?T[M]:{ideal:T[M]};void 0!==O.exact&&"number"==typeof O.exact&&(O.min=O.max=O.exact);const D=function(ie,Se){return ie?ie+Se.charAt(0).toUpperCase()+Se.slice(1):"deviceId"===Se?"sourceId":Se};if(void 0!==O.ideal){B.optional=B.optional||[];let ie={};"number"==typeof O.ideal?(ie[D("min",M)]=O.ideal,B.optional.push(ie),ie={},ie[D("max",M)]=O.ideal,B.optional.push(ie)):(ie[D("",M)]=O.ideal,B.optional.push(ie))}void 0!==O.exact&&"number"!=typeof O.exact?(B.mandatory=B.mandatory||{},B.mandatory[D("",M)]=O.exact):["min","max"].forEach(ie=>{void 0!==O[ie]&&(B.mandatory=B.mandatory||{},B.mandatory[D(ie,M)]=O[ie])})}),T.advanced&&(B.optional=(B.optional||[]).concat(T.advanced)),B},k=function(T,B){if(i.version>=61)return B(T);if((T=JSON.parse(JSON.stringify(T)))&&"object"==typeof T.audio){const M=function(O,D,ie){D in O&&!(ie in O)&&(O[ie]=O[D],delete O[D])};M((T=JSON.parse(JSON.stringify(T))).audio,"autoGainControl","googAutoGainControl"),M(T.audio,"noiseSuppression","googNoiseSuppression"),T.audio=u(T.audio)}if(T&&"object"==typeof T.video){let M=T.video.facingMode;M=M&&("object"==typeof M?M:{ideal:M});const O=i.version<66;if(M&&("user"===M.exact||"environment"===M.exact||"user"===M.ideal||"environment"===M.ideal)&&(!s.mediaDevices.getSupportedConstraints||!s.mediaDevices.getSupportedConstraints().facingMode||O)){let D;if(delete T.video.facingMode,"environment"===M.exact||"environment"===M.ideal?D=["back","rear"]:"user"!==M.exact&&"user"!==M.ideal||(D=["front"]),D)return s.mediaDevices.enumerateDevices().then(ie=>{let Se=(ie=ie.filter(me=>"videoinput"===me.kind)).find(me=>D.some(ot=>me.label.toLowerCase().includes(ot)));return!Se&&ie.length&&D.includes("back")&&(Se=ie[ie.length-1]),Se&&(T.video.deviceId=M.exact?{exact:Se.deviceId}:{ideal:Se.deviceId}),T.video=u(T.video),g("chrome: "+JSON.stringify(T)),B(T)})}T.video=u(T.video)}return g("chrome: "+JSON.stringify(T)),B(T)},I=function(T){return i.version>=64?T:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[T.name]||T.name,message:T.message,constraint:T.constraint||T.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(s.getUserMedia=function(T,B,M){k(T,O=>{s.webkitGetUserMedia(O,B,D=>{M&&M(I(D))})})}.bind(s),s.mediaDevices.getUserMedia){const T=s.mediaDevices.getUserMedia.bind(s.mediaDevices);s.mediaDevices.getUserMedia=function(B){return k(B,M=>T(M).then(O=>{if(M.audio&&!O.getAudioTracks().length||M.video&&!O.getVideoTracks().length)throw O.getTracks().forEach(D=>{D.stop()}),new DOMException("","NotFoundError");return O},O=>Promise.reject(I(O))))}}}function ct(c,i){c.navigator.mediaDevices&&"getDisplayMedia"in c.navigator.mediaDevices||c.navigator.mediaDevices&&("function"==typeof i?c.navigator.mediaDevices.getDisplayMedia=function(s){return i(s).then(u=>{const k=s.video&&s.video.width,I=s.video&&s.video.height;return s.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:u,maxFrameRate:s.video&&s.video.frameRate||3}},k&&(s.video.mandatory.maxWidth=k),I&&(s.video.mandatory.maxHeight=I),c.navigator.mediaDevices.getUserMedia(s)})}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}function mn(c){c.MediaStream=c.MediaStream||c.webkitMediaStream}function be(c){if("object"==typeof c&&c.RTCPeerConnection&&!("ontrack"in c.RTCPeerConnection.prototype)){Object.defineProperty(c.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(s){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=s)},enumerable:!0,configurable:!0});const i=c.RTCPeerConnection.prototype.setRemoteDescription;c.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=s=>{s.stream.addEventListener("addtrack",u=>{let k;k=c.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(T=>T.track&&T.track.id===u.track.id):{track:u.track};const I=new Event("track");I.track=u.track,I.receiver=k,I.transceiver={receiver:k},I.streams=[s.stream],this.dispatchEvent(I)}),s.stream.getTracks().forEach(u=>{let k;k=c.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(T=>T.track&&T.track.id===u.id):{track:u};const I=new Event("track");I.track=u,I.receiver=k,I.transceiver={receiver:k},I.streams=[s.stream],this.dispatchEvent(I)})},this.addEventListener("addstream",this._ontrackpoly)),i.apply(this,arguments)}}else C(c,"track",i=>(i.transceiver||Object.defineProperty(i,"transceiver",{value:{receiver:i.receiver}}),i))}function it(c){if("object"==typeof c&&c.RTCPeerConnection&&!("getSenders"in c.RTCPeerConnection.prototype)&&"createDTMFSender"in c.RTCPeerConnection.prototype){const i=function(k,I){return{track:I,get dtmf(){return void 0===this._dtmf&&(this._dtmf="audio"===I.kind?k.createDTMFSender(I):null),this._dtmf},_pc:k}};if(!c.RTCPeerConnection.prototype.getSenders){c.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const k=c.RTCPeerConnection.prototype.addTrack;c.RTCPeerConnection.prototype.addTrack=function(T,B){let M=k.apply(this,arguments);return M||(M=i(this,T),this._senders.push(M)),M};const I=c.RTCPeerConnection.prototype.removeTrack;c.RTCPeerConnection.prototype.removeTrack=function(T){I.apply(this,arguments);const B=this._senders.indexOf(T);-1!==B&&this._senders.splice(B,1)}}const s=c.RTCPeerConnection.prototype.addStream;c.RTCPeerConnection.prototype.addStream=function(k){this._senders=this._senders||[],s.apply(this,[k]),k.getTracks().forEach(I=>{this._senders.push(i(this,I))})};const u=c.RTCPeerConnection.prototype.removeStream;c.RTCPeerConnection.prototype.removeStream=function(k){this._senders=this._senders||[],u.apply(this,[k]),k.getTracks().forEach(I=>{const T=this._senders.find(B=>B.track===I);T&&this._senders.splice(this._senders.indexOf(T),1)})}}else if("object"==typeof c&&c.RTCPeerConnection&&"getSenders"in c.RTCPeerConnection.prototype&&"createDTMFSender"in c.RTCPeerConnection.prototype&&c.RTCRtpSender&&!("dtmf"in c.RTCRtpSender.prototype)){const i=c.RTCPeerConnection.prototype.getSenders;c.RTCPeerConnection.prototype.getSenders=function(){const s=i.apply(this,[]);return s.forEach(u=>u._pc=this),s},Object.defineProperty(c.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&(this._dtmf="audio"===this.track.kind?this._pc.createDTMFSender(this.track):null),this._dtmf}})}}function st(c){if(!c.RTCPeerConnection)return;const i=c.RTCPeerConnection.prototype.getStats;c.RTCPeerConnection.prototype.getStats=function(){const[s,u,k]=arguments;if(arguments.length>0&&"function"==typeof s)return i.apply(this,arguments);if(0===i.length&&(0===arguments.length||"function"!=typeof s))return i.apply(this,[]);const I=function(B){const M={};return B.result().forEach(O=>{const D={id:O.id,timestamp:O.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[O.type]||O.type};O.names().forEach(ie=>{D[ie]=O.stat(ie)}),M[D.id]=D}),M},T=function(B){return new Map(Object.keys(B).map(M=>[M,B[M]]))};return arguments.length>=2?i.apply(this,[function(M){u(T(I(M)))},s]):new Promise((B,M)=>{i.apply(this,[function(O){B(T(I(O)))},M])}).then(u,k)}}function yt(c){if(!("object"==typeof c&&c.RTCPeerConnection&&c.RTCRtpSender&&c.RTCRtpReceiver))return;if(!("getStats"in c.RTCRtpSender.prototype)){const s=c.RTCPeerConnection.prototype.getSenders;s&&(c.RTCPeerConnection.prototype.getSenders=function(){const k=s.apply(this,[]);return k.forEach(I=>I._pc=this),k});const u=c.RTCPeerConnection.prototype.addTrack;u&&(c.RTCPeerConnection.prototype.addTrack=function(){const k=u.apply(this,arguments);return k._pc=this,k}),c.RTCRtpSender.prototype.getStats=function(){const k=this;return this._pc.getStats().then(I=>Be(I,k.track,!0))}}if(!("getStats"in c.RTCRtpReceiver.prototype)){const s=c.RTCPeerConnection.prototype.getReceivers;s&&(c.RTCPeerConnection.prototype.getReceivers=function(){const u=s.apply(this,[]);return u.forEach(k=>k._pc=this),u}),C(c,"track",u=>(u.receiver._pc=u.srcElement,u)),c.RTCRtpReceiver.prototype.getStats=function(){const u=this;return this._pc.getStats().then(k=>Be(k,u.track,!1))}}if(!("getStats"in c.RTCRtpSender.prototype)||!("getStats"in c.RTCRtpReceiver.prototype))return;const i=c.RTCPeerConnection.prototype.getStats;c.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof c.MediaStreamTrack){const s=arguments[0];let u,k,I;return this.getSenders().forEach(T=>{T.track===s&&(u?I=!0:u=T)}),this.getReceivers().forEach(T=>(T.track===s&&(k?I=!0:k=T),T.track===s)),I||u&&k?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):u?u.getStats():k?k.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return i.apply(this,arguments)}}function xt(c){c.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(I=>this._shimmedLocalStreams[I][0])};const i=c.RTCPeerConnection.prototype.addTrack;c.RTCPeerConnection.prototype.addTrack=function(I,T){if(!T)return i.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const B=i.apply(this,arguments);return this._shimmedLocalStreams[T.id]?-1===this._shimmedLocalStreams[T.id].indexOf(B)&&this._shimmedLocalStreams[T.id].push(B):this._shimmedLocalStreams[T.id]=[T,B],B};const s=c.RTCPeerConnection.prototype.addStream;c.RTCPeerConnection.prototype.addStream=function(I){this._shimmedLocalStreams=this._shimmedLocalStreams||{},I.getTracks().forEach(M=>{if(this.getSenders().find(O=>O.track===M))throw new DOMException("Track already exists.","InvalidAccessError")});const T=this.getSenders();s.apply(this,arguments);const B=this.getSenders().filter(M=>-1===T.indexOf(M));this._shimmedLocalStreams[I.id]=[I].concat(B)};const u=c.RTCPeerConnection.prototype.removeStream;c.RTCPeerConnection.prototype.removeStream=function(I){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[I.id],u.apply(this,arguments)};const k=c.RTCPeerConnection.prototype.removeTrack;c.RTCPeerConnection.prototype.removeTrack=function(I){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},I&&Object.keys(this._shimmedLocalStreams).forEach(T=>{const B=this._shimmedLocalStreams[T].indexOf(I);-1!==B&&this._shimmedLocalStreams[T].splice(B,1),1===this._shimmedLocalStreams[T].length&&delete this._shimmedLocalStreams[T]}),k.apply(this,arguments)}}function Ht(c,i){if(!c.RTCPeerConnection)return;if(c.RTCPeerConnection.prototype.addTrack&&i.version>=65)return xt(c);const s=c.RTCPeerConnection.prototype.getLocalStreams;c.RTCPeerConnection.prototype.getLocalStreams=function(){const M=s.apply(this);return this._reverseStreams=this._reverseStreams||{},M.map(O=>this._reverseStreams[O.id])};const u=c.RTCPeerConnection.prototype.addStream;c.RTCPeerConnection.prototype.addStream=function(M){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},M.getTracks().forEach(O=>{if(this.getSenders().find(D=>D.track===O))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[M.id]){const O=new c.MediaStream(M.getTracks());this._streams[M.id]=O,this._reverseStreams[O.id]=M,M=O}u.apply(this,[M])};const k=c.RTCPeerConnection.prototype.removeStream;function I(M,O){let D=O.sdp;return Object.keys(M._reverseStreams||[]).forEach(ie=>{const Se=M._reverseStreams[ie];D=D.replace(new RegExp(M._streams[Se.id].id,"g"),Se.id)}),new RTCSessionDescription({type:O.type,sdp:D})}c.RTCPeerConnection.prototype.removeStream=function(M){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},k.apply(this,[this._streams[M.id]||M]),delete this._reverseStreams[this._streams[M.id]?this._streams[M.id].id:M.id],delete this._streams[M.id]},c.RTCPeerConnection.prototype.addTrack=function(M,O){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const D=[].slice.call(arguments,1);if(1!==D.length||!D[0].getTracks().find(Se=>Se===M))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(Se=>Se.track===M))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const ie=this._streams[O.id];if(ie)ie.addTrack(M),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const Se=new c.MediaStream([M]);this._streams[O.id]=Se,this._reverseStreams[Se.id]=O,this.addStream(Se)}return this.getSenders().find(Se=>Se.track===M)},["createOffer","createAnswer"].forEach(function(M){const O=c.RTCPeerConnection.prototype[M],D={[M](){const ie=arguments;return arguments.length&&"function"==typeof arguments[0]?O.apply(this,[Se=>{const me=I(this,Se);ie[0].apply(null,[me])},Se=>{ie[1]&&ie[1].apply(null,Se)},arguments[2]]):O.apply(this,arguments).then(Se=>I(this,Se))}};c.RTCPeerConnection.prototype[M]=D[M]});const T=c.RTCPeerConnection.prototype.setLocalDescription;c.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(M,O){let D=O.sdp;return Object.keys(M._reverseStreams||[]).forEach(ie=>{const Se=M._reverseStreams[ie],me=M._streams[Se.id];D=D.replace(new RegExp(Se.id,"g"),me.id)}),new RTCSessionDescription({type:O.type,sdp:D})}(this,arguments[0]),T.apply(this,arguments)):T.apply(this,arguments)};const B=Object.getOwnPropertyDescriptor(c.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(c.RTCPeerConnection.prototype,"localDescription",{get(){const M=B.get.apply(this);return""===M.type?M:I(this,M)}}),c.RTCPeerConnection.prototype.removeTrack=function(M){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!M._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(M._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let O;this._streams=this._streams||{},Object.keys(this._streams).forEach(D=>{this._streams[D].getTracks().find(ie=>M.track===ie)&&(O=this._streams[D])}),O&&(1===O.getTracks().length?this.removeStream(this._reverseStreams[O.id]):O.removeTrack(M.track),this.dispatchEvent(new Event("negotiationneeded")))}}function At(c,i){!c.RTCPeerConnection&&c.webkitRTCPeerConnection&&(c.RTCPeerConnection=c.webkitRTCPeerConnection),c.RTCPeerConnection&&i.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(s){const u=c.RTCPeerConnection.prototype[s],k={[s](){return arguments[0]=new("addIceCandidate"===s?c.RTCIceCandidate:c.RTCSessionDescription)(arguments[0]),u.apply(this,arguments)}};c.RTCPeerConnection.prototype[s]=k[s]})}function sn(c,i){C(c,"negotiationneeded",s=>{const u=s.target;if(!(i.version<72||u.getConfiguration&&"plan-b"===u.getConfiguration().sdpSemantics)||"stable"===u.signalingState)return s})}function Kt(c,i){const s=c&&c.navigator,u=c&&c.MediaStreamTrack;if(s.getUserMedia=function(k,I,T){re("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),s.mediaDevices.getUserMedia(k).then(I,T)},!(i.version>55&&"autoGainControl"in s.mediaDevices.getSupportedConstraints())){const k=function(T,B,M){B in T&&!(M in T)&&(T[M]=T[B],delete T[B])},I=s.mediaDevices.getUserMedia.bind(s.mediaDevices);if(s.mediaDevices.getUserMedia=function(T){return"object"==typeof T&&"object"==typeof T.audio&&(T=JSON.parse(JSON.stringify(T)),k(T.audio,"autoGainControl","mozAutoGainControl"),k(T.audio,"noiseSuppression","mozNoiseSuppression")),I(T)},u&&u.prototype.getSettings){const T=u.prototype.getSettings;u.prototype.getSettings=function(){const B=T.apply(this,arguments);return k(B,"mozAutoGainControl","autoGainControl"),k(B,"mozNoiseSuppression","noiseSuppression"),B}}if(u&&u.prototype.applyConstraints){const T=u.prototype.applyConstraints;u.prototype.applyConstraints=function(B){return"audio"===this.kind&&"object"==typeof B&&(B=JSON.parse(JSON.stringify(B)),k(B,"autoGainControl","mozAutoGainControl"),k(B,"noiseSuppression","mozNoiseSuppression")),T.apply(this,[B])}}}}function $n(c,i){c.navigator.mediaDevices&&"getDisplayMedia"in c.navigator.mediaDevices||c.navigator.mediaDevices&&(c.navigator.mediaDevices.getDisplayMedia=function(s){if(!s||!s.video){const u=new DOMException("getDisplayMedia without video constraints is undefined");return u.name="NotFoundError",u.code=8,Promise.reject(u)}return!0===s.video?s.video={mediaSource:i}:s.video.mediaSource=i,c.navigator.mediaDevices.getUserMedia(s)})}function ir(c){"object"==typeof c&&c.RTCTrackEvent&&"receiver"in c.RTCTrackEvent.prototype&&!("transceiver"in c.RTCTrackEvent.prototype)&&Object.defineProperty(c.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function cr(c,i){if("object"!=typeof c||!c.RTCPeerConnection&&!c.mozRTCPeerConnection)return;!c.RTCPeerConnection&&c.mozRTCPeerConnection&&(c.RTCPeerConnection=c.mozRTCPeerConnection),i.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(k){const I=c.RTCPeerConnection.prototype[k],T={[k](){return arguments[0]=new("addIceCandidate"===k?c.RTCIceCandidate:c.RTCSessionDescription)(arguments[0]),I.apply(this,arguments)}};c.RTCPeerConnection.prototype[k]=T[k]});const s={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},u=c.RTCPeerConnection.prototype.getStats;c.RTCPeerConnection.prototype.getStats=function(){const[k,I,T]=arguments;return u.apply(this,[k||null]).then(B=>{if(i.version<53&&!I)try{B.forEach(M=>{M.type=s[M.type]||M.type})}catch(M){if("TypeError"!==M.name)throw M;B.forEach((O,D)=>{B.set(D,Object.assign({},O,{type:s[O.type]||O.type}))})}return B}).then(I,T)}}function fr(c){if("object"!=typeof c||!c.RTCPeerConnection||!c.RTCRtpSender||c.RTCRtpSender&&"getStats"in c.RTCRtpSender.prototype)return;const i=c.RTCPeerConnection.prototype.getSenders;i&&(c.RTCPeerConnection.prototype.getSenders=function(){const u=i.apply(this,[]);return u.forEach(k=>k._pc=this),u});const s=c.RTCPeerConnection.prototype.addTrack;s&&(c.RTCPeerConnection.prototype.addTrack=function(){const u=s.apply(this,arguments);return u._pc=this,u}),c.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function qn(c){if("object"!=typeof c||!c.RTCPeerConnection||!c.RTCRtpSender||c.RTCRtpSender&&"getStats"in c.RTCRtpReceiver.prototype)return;const i=c.RTCPeerConnection.prototype.getReceivers;i&&(c.RTCPeerConnection.prototype.getReceivers=function(){const s=i.apply(this,[]);return s.forEach(u=>u._pc=this),s}),C(c,"track",s=>(s.receiver._pc=s.srcElement,s)),c.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function Lr(c){c.RTCPeerConnection&&!("removeStream"in c.RTCPeerConnection.prototype)&&(c.RTCPeerConnection.prototype.removeStream=function(i){re("removeStream","removeTrack"),this.getSenders().forEach(s=>{s.track&&i.getTracks().includes(s.track)&&this.removeTrack(s)})})}function mr(c){c.DataChannel&&!c.RTCDataChannel&&(c.RTCDataChannel=c.DataChannel)}function gr(c){if("object"!=typeof c||!c.RTCPeerConnection)return;const i=c.RTCPeerConnection.prototype.addTransceiver;i&&(c.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let s=arguments[1]&&arguments[1].sendEncodings;void 0===s&&(s=[]),s=[...s];const u=s.length>0;u&&s.forEach(I=>{if("rid"in I&&!/^[a-z0-9]{0,16}$/i.test(I.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in I&&!(parseFloat(I.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in I&&!(parseFloat(I.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const k=i.apply(this,arguments);if(u){const{sender:I}=k,T=I.getParameters();(!("encodings"in T)||1===T.encodings.length&&0===Object.keys(T.encodings[0]).length)&&(T.encodings=s,I.sendEncodings=s,this.setParametersPromises.push(I.setParameters(T).then(()=>{delete I.sendEncodings}).catch(()=>{delete I.sendEncodings})))}return k})}function _r(c){if("object"!=typeof c||!c.RTCRtpSender)return;const i=c.RTCRtpSender.prototype.getParameters;i&&(c.RTCRtpSender.prototype.getParameters=function(){const s=i.apply(this,arguments);return"encodings"in s||(s.encodings=[].concat(this.sendEncodings||[{}])),s})}function Fn(c){if("object"!=typeof c||!c.RTCPeerConnection)return;const i=c.RTCPeerConnection.prototype.createOffer;c.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>i.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):i.apply(this,arguments)}}function Jn(c){if("object"!=typeof c||!c.RTCPeerConnection)return;const i=c.RTCPeerConnection.prototype.createAnswer;c.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>i.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):i.apply(this,arguments)}}function Vn(c){if("object"==typeof c&&c.RTCPeerConnection){if("getLocalStreams"in c.RTCPeerConnection.prototype||(c.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in c.RTCPeerConnection.prototype)){const i=c.RTCPeerConnection.prototype.addTrack;c.RTCPeerConnection.prototype.addStream=function(s){this._localStreams||(this._localStreams=[]),this._localStreams.includes(s)||this._localStreams.push(s),s.getAudioTracks().forEach(u=>i.call(this,u,s)),s.getVideoTracks().forEach(u=>i.call(this,u,s))},c.RTCPeerConnection.prototype.addTrack=function(s,...u){return u&&u.forEach(k=>{this._localStreams?this._localStreams.includes(k)||this._localStreams.push(k):this._localStreams=[k]}),i.apply(this,arguments)}}"removeStream"in c.RTCPeerConnection.prototype||(c.RTCPeerConnection.prototype.removeStream=function(i){this._localStreams||(this._localStreams=[]);const s=this._localStreams.indexOf(i);if(-1===s)return;this._localStreams.splice(s,1);const u=i.getTracks();this.getSenders().forEach(k=>{u.includes(k.track)&&this.removeTrack(k)})})}}function En(c){if("object"==typeof c&&c.RTCPeerConnection&&("getRemoteStreams"in c.RTCPeerConnection.prototype||(c.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in c.RTCPeerConnection.prototype))){Object.defineProperty(c.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(s){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=s),this.addEventListener("track",this._onaddstreampoly=u=>{u.streams.forEach(k=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(k))return;this._remoteStreams.push(k);const I=new Event("addstream");I.stream=k,this.dispatchEvent(I)})})}});const i=c.RTCPeerConnection.prototype.setRemoteDescription;c.RTCPeerConnection.prototype.setRemoteDescription=function(){const s=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(u){u.streams.forEach(k=>{if(s._remoteStreams||(s._remoteStreams=[]),s._remoteStreams.indexOf(k)>=0)return;s._remoteStreams.push(k);const I=new Event("addstream");I.stream=k,s.dispatchEvent(I)})}),i.apply(s,arguments)}}}function dn(c){if("object"!=typeof c||!c.RTCPeerConnection)return;const i=c.RTCPeerConnection.prototype,s=i.createOffer,u=i.createAnswer,k=i.setLocalDescription,I=i.setRemoteDescription,T=i.addIceCandidate;i.createOffer=function(M,O){const D=arguments.length>=2?arguments[2]:arguments[0],ie=s.apply(this,[D]);return O?(ie.then(M,O),Promise.resolve()):ie},i.createAnswer=function(M,O){const D=arguments.length>=2?arguments[2]:arguments[0],ie=u.apply(this,[D]);return O?(ie.then(M,O),Promise.resolve()):ie};let B=function(M,O,D){const ie=k.apply(this,[M]);return D?(ie.then(O,D),Promise.resolve()):ie};i.setLocalDescription=B,B=function(M,O,D){const ie=I.apply(this,[M]);return D?(ie.then(O,D),Promise.resolve()):ie},i.setRemoteDescription=B,B=function(M,O,D){const ie=T.apply(this,[M]);return D?(ie.then(O,D),Promise.resolve()):ie},i.addIceCandidate=B}function _n(c){const i=c&&c.navigator;if(i.mediaDevices&&i.mediaDevices.getUserMedia){const s=i.mediaDevices,u=s.getUserMedia.bind(s);i.mediaDevices.getUserMedia=k=>u(jr(k))}!i.getUserMedia&&i.mediaDevices&&i.mediaDevices.getUserMedia&&(i.getUserMedia=function(s,u,k){i.mediaDevices.getUserMedia(s).then(u,k)}.bind(i))}function jr(c){return c&&void 0!==c.video?Object.assign({},c,{video:Me(c.video)}):c}function en(c){if(!c.RTCPeerConnection)return;const i=c.RTCPeerConnection;c.RTCPeerConnection=function(s,u){if(s&&s.iceServers){const k=[];for(let I=0;I<s.iceServers.length;I++){let T=s.iceServers[I];!T.hasOwnProperty("urls")&&T.hasOwnProperty("url")?(re("RTCIceServer.url","RTCIceServer.urls"),T=JSON.parse(JSON.stringify(T)),T.urls=T.url,delete T.url,k.push(T)):k.push(s.iceServers[I])}s.iceServers=k}return new i(s,u)},c.RTCPeerConnection.prototype=i.prototype,"generateCertificate"in i&&Object.defineProperty(c.RTCPeerConnection,"generateCertificate",{get:()=>i.generateCertificate})}function ri(c){"object"==typeof c&&c.RTCTrackEvent&&"receiver"in c.RTCTrackEvent.prototype&&!("transceiver"in c.RTCTrackEvent.prototype)&&Object.defineProperty(c.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Qe(c){const i=c.RTCPeerConnection.prototype.createOffer;c.RTCPeerConnection.prototype.createOffer=function(s){if(s){void 0!==s.offerToReceiveAudio&&(s.offerToReceiveAudio=!!s.offerToReceiveAudio);const u=this.getTransceivers().find(I=>"audio"===I.receiver.track.kind);!1===s.offerToReceiveAudio&&u?"sendrecv"===u.direction?u.setDirection?u.setDirection("sendonly"):u.direction="sendonly":"recvonly"===u.direction&&(u.setDirection?u.setDirection("inactive"):u.direction="inactive"):!0!==s.offerToReceiveAudio||u||this.addTransceiver("audio",{direction:"recvonly"}),void 0!==s.offerToReceiveVideo&&(s.offerToReceiveVideo=!!s.offerToReceiveVideo);const k=this.getTransceivers().find(I=>"video"===I.receiver.track.kind);!1===s.offerToReceiveVideo&&k?"sendrecv"===k.direction?k.setDirection?k.setDirection("sendonly"):k.direction="sendonly":"recvonly"===k.direction&&(k.setDirection?k.setDirection("inactive"):k.direction="inactive"):!0!==s.offerToReceiveVideo||k||this.addTransceiver("video",{direction:"recvonly"})}return i.apply(this,arguments)}}function lt(c){"object"!=typeof c||c.AudioContext||(c.AudioContext=c.webkitAudioContext)}var ft=St(7539),Wt=St.n(ft);function an(c){if(!c.RTCIceCandidate||c.RTCIceCandidate&&"foundation"in c.RTCIceCandidate.prototype)return;const i=c.RTCIceCandidate;c.RTCIceCandidate=function(s){if("object"==typeof s&&s.candidate&&0===s.candidate.indexOf("a=")&&((s=JSON.parse(JSON.stringify(s))).candidate=s.candidate.substr(2)),s.candidate&&s.candidate.length){const u=new i(s),k=Wt().parseCandidate(s.candidate),I=Object.assign(u,k);return I.toJSON=function(){return{candidate:I.candidate,sdpMid:I.sdpMid,sdpMLineIndex:I.sdpMLineIndex,usernameFragment:I.usernameFragment}},I}return new i(s)},c.RTCIceCandidate.prototype=i.prototype,C(c,"icecandidate",s=>(s.candidate&&Object.defineProperty(s,"candidate",{value:new c.RTCIceCandidate(s.candidate),writable:"false"}),s))}function Xe(c){!c.RTCIceCandidate||c.RTCIceCandidate&&"relayProtocol"in c.RTCIceCandidate.prototype||C(c,"icecandidate",i=>{if(i.candidate){const s=Wt().parseCandidate(i.candidate.candidate);"relay"===s.type&&(i.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[s.priority>>24])}return i})}function fn(c,i){if(!c.RTCPeerConnection)return;"sctp"in c.RTCPeerConnection.prototype||Object.defineProperty(c.RTCPeerConnection.prototype,"sctp",{get(){return void 0===this._sctp?null:this._sctp}});const s=c.RTCPeerConnection.prototype.setRemoteDescription;c.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===i.browser&&i.version>=76){const{sdpSemantics:u}=this.getConfiguration();"plan-b"===u&&Object.defineProperty(this,"sctp",{get(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(function(u){if(!u||!u.sdp)return!1;const k=Wt().splitSections(u.sdp);return k.shift(),k.some(I=>{const T=Wt().parseMLine(I);return T&&"application"===T.kind&&-1!==T.protocol.indexOf("SCTP")})}(arguments[0])){const u=function(M){const O=M.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===O||O.length<2)return-1;const D=parseInt(O[1],10);return D!=D?-1:D}(arguments[0]),k=function(M){let O=65536;return"firefox"===i.browser&&(O=i.version<57?-1===M?16384:2147483637:i.version<60?57===i.version?65535:65536:2147483637),O}(u),I=function(M,O){let D=65536;"firefox"===i.browser&&57===i.version&&(D=65535);const ie=Wt().matchPrefix(M.sdp,"a=max-message-size:");return ie.length>0?D=parseInt(ie[0].substr(19),10):"firefox"===i.browser&&-1!==O&&(D=2147483637),D}(arguments[0],u);let T;T=0===k&&0===I?Number.POSITIVE_INFINITY:0===k||0===I?Math.max(k,I):Math.min(k,I);const B={};Object.defineProperty(B,"maxMessageSize",{get:()=>T}),this._sctp=B}return s.apply(this,arguments)}}function d(c){if(!c.RTCPeerConnection||!("createDataChannel"in c.RTCPeerConnection.prototype))return;function i(u,k){const I=u.send;u.send=function(){const T=arguments[0],B=T.length||T.size||T.byteLength;if("open"===u.readyState&&k.sctp&&B>k.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+k.sctp.maxMessageSize+" bytes)");return I.apply(u,arguments)}}const s=c.RTCPeerConnection.prototype.createDataChannel;c.RTCPeerConnection.prototype.createDataChannel=function(){const u=s.apply(this,arguments);return i(u,this),u},C(c,"datachannel",u=>(i(u.channel,u.target),u))}function t(c){if(!c.RTCPeerConnection||"connectionState"in c.RTCPeerConnection.prototype)return;const i=c.RTCPeerConnection.prototype;Object.defineProperty(i,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(i,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(s){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),s&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=s)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(s=>{const u=i[s];i[s]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=k=>{const I=k.target;if(I._lastConnectionState!==I.connectionState){I._lastConnectionState=I.connectionState;const T=new Event("connectionstatechange",k);I.dispatchEvent(T)}return k},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),u.apply(this,arguments)}})}function o(c,i){if(!c.RTCPeerConnection||"chrome"===i.browser&&i.version>=71||"safari"===i.browser&&i.version>=605)return;const s=c.RTCPeerConnection.prototype.setRemoteDescription;c.RTCPeerConnection.prototype.setRemoteDescription=function(u){if(u&&u.sdp&&-1!==u.sdp.indexOf("\na=extmap-allow-mixed")){const k=u.sdp.split("\n").filter(I=>"a=extmap-allow-mixed"!==I.trim()).join("\n");c.RTCSessionDescription&&u instanceof c.RTCSessionDescription?arguments[0]=new c.RTCSessionDescription({type:u.type,sdp:k}):u.sdp=k}return s.apply(this,arguments)}}function h(c,i){if(!c.RTCPeerConnection||!c.RTCPeerConnection.prototype)return;const s=c.RTCPeerConnection.prototype.addIceCandidate;s&&0!==s.length&&(c.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===i.browser&&i.version<78||"firefox"===i.browser&&i.version<68||"safari"===i.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():s.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function P(c,i){if(!c.RTCPeerConnection||!c.RTCPeerConnection.prototype)return;const s=c.RTCPeerConnection.prototype.setLocalDescription;s&&0!==s.length&&(c.RTCPeerConnection.prototype.setLocalDescription=function(){let u=arguments[0]||{};if("object"!=typeof u||u.type&&u.sdp)return s.apply(this,arguments);if(u={type:u.type,sdp:u.sdp},!u.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":u.type="offer";break;default:u.type="answer"}return u.sdp||"offer"!==u.type&&"answer"!==u.type?s.apply(this,[u]):("offer"===u.type?this.createOffer:this.createAnswer).apply(this).then(k=>s.apply(this,[k]))})}(function({window:c}={},i={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const s=ee,u=function(I){const T={browser:null,version:null};if(void 0===I||!I.navigator)return T.browser="Not a browser.",T;const{navigator:B}=I;if(B.mozGetUserMedia)T.browser="firefox",T.version=v(B.userAgent,/Firefox\/(\d+)\./,1);else if(B.webkitGetUserMedia||!1===I.isSecureContext&&I.webkitRTCPeerConnection)T.browser="chrome",T.version=v(B.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!I.RTCPeerConnection||!B.userAgent.match(/AppleWebKit\/(\d+)\./))return T.browser="Not a supported browser.",T;T.browser="safari",T.version=v(B.userAgent,/AppleWebKit\/(\d+)\./,1),T.supportsUnifiedPlan=I.RTCRtpTransceiver&&"currentDirection"in I.RTCRtpTransceiver.prototype}return T}(c),k={browserDetails:u,commonShim:E,extractVersion:v,disableLog:R,disableWarnings:ge,sdp:ft};switch(u.browser){case"chrome":if(!q||!At||!i.shimChrome)return s("Chrome shim is not included in this adapter release."),k;if(null===u.version)return s("Chrome shim can not determine version, not shimming."),k;s("adapter.js shimming chrome."),k.browserShim=q,h(c,u),P(c),gt(c,u),mn(c),At(c,u),be(c),Ht(c,u),it(c),st(c),yt(c),sn(c,u),an(c),Xe(c),t(c),fn(c,u),d(c),o(c,u);break;case"firefox":if(!H||!cr||!i.shimFirefox)return s("Firefox shim is not included in this adapter release."),k;s("adapter.js shimming firefox."),k.browserShim=H,h(c,u),P(c),Kt(c,u),cr(c,u),ir(c),Lr(c),fr(c),qn(c),mr(c),gr(c),_r(c),Fn(c),Jn(c),an(c),t(c),fn(c,u),d(c);break;case"safari":if(!p||!i.shimSafari)return s("Safari shim is not included in this adapter release."),k;s("adapter.js shimming safari."),k.browserShim=p,h(c,u),P(c),en(c),Qe(c),dn(c),Vn(c),En(c),ri(c),_n(c),lt(c),an(c),Xe(c),fn(c,u),d(c),o(c,u);break;default:s("Unsupported browser!")}})({window:typeof window>"u"?void 0:window}),St(8660);const S=()=>"function"==typeof RTCPeerConnection;var A,$,c;(c=A||(A={}))[c.TRACE=0]="TRACE",c[c.DEBUG=1]="DEBUG",c[c.INFO=2]="INFO",c[c.WARN=3]="WARN",c[c.ERROR=4]="ERROR",c[c.SILENT=5]="SILENT",function(c){c.SPADE="SPADE",c.TIME="Time",c.WEBRTC="WebRTC",c.EMITTER="Emitter",c.MEDIA="Media",c.SUBSCRIPTION="StageSubscription",c.PUBLICATION="StagePublication",c.CONNECTION="StageConnection",c.SOCKET="StageSocket",c.BROADCAST_STAGE_CLIENT="BroadcastStageClient",c.STAGE="Stage",c.REMOTE_PARTICIPANT="RemoteParticipant",c.LOCAL_PARTICIPANT="LocalParticipant"}($||($={}));class y extends Error{constructor({name:i,message:s,code:u,details:k,cause:I,params:T}){super(s),Error.captureStackTrace&&Error.captureStackTrace(this,y),this.name=i||"BroadcastClientError",this.message=s,this.code=u,this.details=k,this.cause=I,this.params=T}}const _={name:"BroadcastError",code:1e3,message:"Unable to broadcast"},F={name:"CameraError",code:2e3,message:"Camera could not be captured"},Q={name:"InputError",code:3e3,message:"Input could not be attached"},Y={name:"AddDeviceError",code:4e3,message:"Device is missing"},Z={name:"AddDeviceNameExistsError",code:4001,message:"Name is already registered"},fe={name:"AddDeviceCompositionMissingError",code:4002,message:"VideoComposition is missing"},le={name:"AddDeviceCompositionIndexMissingError",code:4003,message:'VideoComposition\'s "index" property is missing'},se={name:"AddDeviceNameMissingError",code:4004,message:"Name property is missing"},ae={name:"AddDeviceUnsupported",code:4005,message:"Unsupported device"},ve={name:"AddDeviceConstraintsError",code:4006,message:"Constraints error"},Le={name:"RemoveDeviceNotFoundError",code:5e3,message:"Device not found"},Je={name:"RemoveImageNotFoundError",code:6e3,message:"Image not found"},Oe={name:"UpdateVideoDeviceCompositionMissingError",code:7e3,message:"VideoComposition is missing"},Ye={name:"UpdateVideoDeviceCompositionIndexMissingError",code:7001,message:'VideoComposition\'s "index" property is missing'},we={name:"UpdateVideoDeviceCompositionNameMissingError",code:7002,message:"Video device with that name is not found"},Pe={name:"ExchangePositionDeviceNotFoundError",code:8e3,message:"Device with that name is not found"},je={name:"FailedToAddImageError",code:9e3,message:"Failed to add image"},qe={name:"PeerSetupError",code:1e4,message:"Unexpected return value from setup request"},Nt={name:"PeerConnectionError",code:10001,message:"Peer connection has failed."},He={name:"InvalidStreamKey",code:10003,message:"Invalid Stream Key."},Tt={name:"BroadcastConfigurationError",code:11e3,message:"Error when configuring broadcast client"},mt={name:"StreamConfigurationError",code:12e3,message:"Error when configuring stream"},Lt={name:"IngestEndpointTypeError",code:13e3,message:"Ingest endpoint must be a string"},Vt={name:"IngestEndpointUrlError",code:13001,message:"Ingest endpoint must be a valid https or rtmps URL"},$r={name:"LogLevelTypeError",code:14e3,message:"Log Level must be a valid integer between [0..5]"},vr={name:"LoggerTypeError",code:15e3,message:"Logger must be an object"},Br={name:"ClientInvalidError",code:16e3,message:"Client is no longer valid, possibly due to delete() invocation."},xr={name:"NetworkReconnectConfigurationError",code:17e3,message:"Error when configuring network reconnect"},lr={name:"NetworkReconnectConfigurationInvalidTimeoutError",code:17001,message:"Network reconnect timeout value must be a number between [10000, 300000]"},er={name:"StreamKeyInvalidCharError",code:18e3,message:"Streamkey must contain only [A-Za-z0-9_-] characters"},Vr={name:"StageTokenTypeError",code:19e3,message:"Stage token must be a string"},Gi={name:"StageWhipUrlOverrideError",code:19001,message:"Stage WHIP override URL must be a string starting with http"};var fi,ii,Ur,kr,si,mi,gi,vi,us,Ir=function(c,i,s,u){if("a"===s&&!u)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof i?c!==i||!u:!i.has(c))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===s?u:"a"===s?u.call(c):u?u.value:i.get(c)},Dn=function(c,i,s,u,k){if("m"===u)throw new TypeError("Private method is not writable");if("a"===u&&!k)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof i?c!==i||!k:!i.has(c))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===u?k.call(c,s):k?k.value=s:i.set(c,s),s};const qi=A.ERROR,Vi={maxResolution:{width:852,height:480},maxFramerate:30,maxBitrate:1500},zs={maxResolution:{width:480,height:852},maxFramerate:30,maxBitrate:1500},yn={maxResolution:{width:1920,height:1080},maxFramerate:30,maxBitrate:3500},pn={maxResolution:{width:1080,height:1920},maxFramerate:30,maxBitrate:3500},_s={maxResolution:{width:1920,height:1080},maxFramerate:30,maxBitrate:8500},Xi={maxResolution:{width:1080,height:1920},maxFramerate:30,maxBitrate:8500},xs={reconnect:!1,timeout:12e4};function Pr(c){var i,s;if("string"!=typeof c&&void 0!==c)throw new y(Lt);if(c){if(c.startsWith("https"))return c;{const u=/(?<protocol>(rtmps|https):\/\/)?(?<id>.+)\.(?<environment>(?=\S*['-])([a-zA-Z'-]+))\.live-video\.net.*/.exec(c);if("rtmps"===(null===(i=u?.groups)||void 0===i?void 0:i.protocol)&&console.warn("rtmps server url detected; please pass in the ingest endpoint (no rtmps:// protocol) instead"),null===(s=u?.groups)||void 0===s?void 0:s.id)return`https://${u.groups.id}.webrtc.live-video.net:4443`;throw new y(Vt)}}return""}class Hs{constructor(i,s,u=Vi,k,I=xs){this.LOG_LEVEL=A,this.BASIC_LANDSCAPE=Vi,this.BASIC_PORTRAIT=zs,this.BASIC_FULL_HD_LANDSCAPE=yn,this.BASIC_FULL_HD_PORTRAIT=pn,this.STANDARD_LANDSCAPE=_s,this.STANDARD_PORTRAIT=Xi,fi.set(this,void 0),ii.set(this,void 0),Ur.set(this,Vi),kr.set(this,void 0),si.set(this,xs),mi.set(this,T=>{if(!T)throw new y(Object.assign(Object.assign({},mt),{details:"missing stream configuration"}));if(!(T.maxBitrate<=8500&&T.maxBitrate>=200))throw new y(Object.assign(Object.assign({},mt),{details:"maxBitrate must be between 200 and 8500"}));if(!(T.maxFramerate<=60&&T.maxFramerate>=10))throw new y(Object.assign(Object.assign({},mt),{details:"maxFramerate must be between 10 and 60"}));const B=T.maxResolution.width,M=T.maxResolution.height;if(B>1920||M>1920||B<160||M<160||1920===B&&M>1080||1920===M&&B>1080)throw new y(Object.assign(Object.assign({},mt),{details:"maxResolution values must be between 1080x1920 or 1920x1080"}))}),gi.set(this,T=>{if(!T)return;const B=Number(T);if(!(Number.isInteger(B)&&B>=A.TRACE&&B<=A.SILENT))throw new y($r)}),vi.set(this,T=>{if(T&&"object"!=typeof T)throw new y(vr)}),us.set(this,T=>{if(!T)return;if("object"!=typeof T||"boolean"!=typeof T.reconnect)throw new y(xr);const{timeout:B}=T;if(void 0!==B&&(Number.isNaN(B)||"number"!=typeof B||B<1e4||B>3e5))throw new y(lr)}),Ir(this,vi,"f").call(this,k),Ir(this,gi,"f").call(this,s),Ir(this,mi,"f").call(this,u),Dn(this,fi,i,"f"),Dn(this,ii,s,"f"),Dn(this,Ur,u,"f"),Dn(this,kr,k,"f"),Dn(this,si,I,"f")}get ingestEndpoint(){return Ir(this,fi,"f")}set ingestEndpoint(i){Dn(this,fi,Pr(i),"f")}get streamConfig(){return Ir(this,Ur,"f")}set streamConfig(i){Ir(this,mi,"f").call(this,i),Dn(this,Ur,i,"f")}get logLevel(){return Ir(this,ii,"f")}set logLevel(i){Ir(this,gi,"f").call(this,i),Dn(this,ii,i,"f")}get logger(){return Ir(this,kr,"f")}set logger(i){Ir(this,vi,"f").call(this,i),Dn(this,kr,i,"f")}get networkReconnectConfig(){return Ir(this,si,"f")}set networkReconnectConfig(i){Ir(this,us,"f").call(this,i),Dn(this,si,i,"f")}}fi=new WeakMap,ii=new WeakMap,Ur=new WeakMap,kr=new WeakMap,si=new WeakMap,mi=new WeakMap,gi=new WeakMap,vi=new WeakMap,us=new WeakMap;var It,Yi=St(6729),Di=St(1206);function ai(c){const i="0123456789abcdef";let s="";for(let u=0;u<c;u+=1)s+=i.charAt(Math.floor(Math.random()*i.length));return s}class bi{constructor(){const i=ai;this.value=`${i(8)}-${i(4)}-${i(4)}-${i(4)}-${i(12)}`}}function Kn(){return new bi}class ua{constructor(){const i=(Date.now()/1e3|0).toString(16);this.value=`1-${i}-${ai(24)}`}}function oi(){return new ua}let ks,Ni;function Li(c){return ks!==c.stageARN&&(ks=c.stageARN,Ni=void 0),Ni||(Ni=ai(32)),Ni}!function(c){c.PUBLISHED_VIDEO_STATS="ivs_broadcast_webrtc_published_video_stats",c.PUBLISHED_VIDEO_STATS_WINDOW="ivs_broadcast_webrtc_published_video_stats_window",c.PUBLISHED_AUDIO_STATS="ivs_broadcast_webrtc_published_audio_stats",c.PUBLISHED_AUDIO_STATS_WINDOW="ivs_broadcast_webrtc_published_audio_stats_window",c.SUBSCRIBED_VIDEO_STATS="ivs_broadcast_webrtc_subscribed_video_stats",c.SUBSCRIBED_VIDEO_STATS_WINDOW="ivs_broadcast_webrtc_sbcrbd_video_stats_window",c.SUBSCRIBED_AUDIO_STATS="ivs_broadcast_webrtc_subscribed_audio_stats",c.SUBSCRIBED_AUDIO_STATS_WINDOW="ivs_broadcast_webrtc_sbcrbd_audio_stats_window",c.PUBLISH="ivs_broadcast_multihost_publish",c.UNPUBLISH="ivs_broadcast_multihost_unpublish",c.SUBSCRIBE="ivs_broadcast_multihost_subscribe",c.UNSUBSCRIBE="ivs_broadcast_multihost_unsubscribe",c.PUBLISH_STARTED="ivs_broadcast_multihost_publish_started",c.PUBLISH_ENDED="ivs_broadcast_multihost_publish_ended",c.STATE_UPDATED="ivs_broadcast_multihost_event_state_updated",c.SUBSCRIBE_STARTED="ivs_broadcast_multihost_subscribe_started",c.SUBSCRIBE_ENDED="ivs_broadcast_multihost_subscribe_ended",c.JOIN="ivs_broadcast_multihost_join",c.LEAVE="ivs_broadcast_multihost_leave",c.SERVER_REQUEST="ivs_broadcast_multihost_server_request",c.TRACE="ivs_broadcast_stage_trace",c.ERROR="ivs_broadcast_error",c.MINUTE="ivs_broadcast_multihost_minute",c.CONNECTION_STATE="ivs_broadcast_webrtc_connection_state",c.ICE_GATHERING_STATE="ivs_broadcast_webrtc_gathering_state",c.EDP_CONNECTED="ivs_broadcast_multihost_event_connected",c.EDP_DISCONNECTED="ivs_broadcast_multihost_event_disconnected",c.EDP_PONG="ivs_broadcast_multihost_edp_rtt",c.SIMULCAST_LAYER_INFO="ivs_broadcast_simulcast_layer_info",c.MULTIHOST_CONFIGURATION="ivs_broadcast_multihost_configuration"}(It||(It={}));class on{constructor(i,s,u,k){let I="unknown";if(s.stageARN&&s.stageARN.startsWith("arn:aws:ivs:")){const T=s.stageARN.split(":");6===T.length&&(I=T[4])}this.event=i,this.properties={client_time:(new Date).toISOString(),customer_id:I,device_software:window.navigator.userAgent,multihost_id:s.stageARN,participant_id:s.participantID,participant_user_id:s.userID,platform:"web",sdk_version:"1.5.0",session_id:Li(s),stage_arn:s.stageARN,trace_id:u.value},s.attrGsRole&&(this.properties.token_attribute_0=s.attrGsRole),s.attrGsSessionId&&(this.properties.token_attribute_1=s.attrGsSessionId),this.critical=k}}class ur extends on{constructor(i){super(It.ERROR,i.token,i.traceId,!0),Object.assign(this.properties,{code:i.code,tag:i.tag,description:i.message,remote_participant_id:i.remoteParticipantId,request_uuid:i.requestUUID,is_nominal:i.nominal,is_fatal:i.fatal})}}var Nn,r,Ws=function(c,i,s,u){return new(s||(s=Promise))(function(k,I){function T(O){try{M(u.next(O))}catch(D){I(D)}}function B(O){try{M(u.throw(O))}catch(D){I(D)}}function M(O){var D;O.done?k(O.value):(D=O.value,D instanceof s?D:new s(function(ie){ie(D)})).then(T,B)}M((u=u.apply(c,i||[])).next())})};class Pa{constructor(i="https://broadcast.stats.live-video.net/"){this.spadeUrl=i}send(i,s=!1){return Ws(this,void 0,void 0,function*(){const u=Date.now();for(const T of i)T.properties.batch_time_millis=u;const I=`data=${this.b64EncodeUnicode(JSON.stringify(i))}`;s?navigator.sendBeacon(this.spadeUrl,I):function(T,B,M={},O=""){Ws(this,void 0,void 0,function*(){const D=new XMLHttpRequest;return D.open(T,B,!0),M&&Object.keys(M).forEach(ie=>{M.hasOwnProperty(ie)&&D.setRequestHeader(ie,M[ie])}),new Promise((ie,Se)=>{D.onreadystatechange=()=>{4===D.readyState&&(D.status>=200&&D.status<300?ie(D.responseText):Se(new Error(`Spade ${T} ${B} responded ${D.status}\n${D.responseText}`)))},D.send(O)})})}("POST",this.spadeUrl,{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},I)})}b64EncodeUnicode(i){return btoa(encodeURIComponent(i).replace(/%([0-9A-F]{2})/g,(s,u)=>String.fromCharCode(Number(`0x${u}`))))}}function ps(c){if(!c)throw new Error("SpadeClient is not defined")}class Zt{constructor(i){this.sharedProperties={},this.spadeClient={},this.queuedEvents=[],this.init({spadeUrl:i})}static getInstance(i){return Zt.instance||(Zt.instance=new Zt(i??"https://broadcast.stats.live-video.net/")),Zt.instance}start(){this.sessionId=this.newGuid(),this.sharedProperties.session_id=this.sessionId,this.flushInterval||(this.flushInterval=window.setInterval(()=>{this.flushEvents()},1e3))}stop(i){let s=!1;clearInterval(this.flushInterval),this.flushInterval=void 0,i&&(this.queuedEvents=this.queuedEvents.filter(u=>u.critical),s=!0),this.flushEvents(s)}trackEvent(i){i.data.properties=Object.assign({},this.sharedProperties,i.data.properties),this.queuedEvents.push(i.data)}trackEventNoSharedProps(i){this.queuedEvents.push(i)}trackErrorAndThrow(i){throw this.trackError(i),i}trackError(i){Zt.getInstance().trackEventNoSharedProps(new ur(i))}batchEvents(i){ps(this.spadeClient);const s=i.map(u=>(u.data.properties=Object.assign({},this.sharedProperties,u.data.properties),u.data));this.spadeClient.send(s)}init({spadeUrl:i}){this.spadeClient=new Pa(i);const s=Di.getParser(navigator.userAgent),u=this.parseSemver(String(s.getBrowserVersion()));this.sharedProperties={browser:navigator.appVersion,browser_family:s.getBrowserName().toLowerCase(),browser_version:`${u.major}.${u.minor}`,customer_id:"ivs",os_name:s.getOSName(),os_version:String(s.getOSVersion()),platform:"web",session_id:this.sessionId,sdk_version:"1.5.0",user_agent:navigator.userAgent,sfu_resource:void 0}}setSfuResource(i){this.sharedProperties.sfu_resource=i}getSfuResource(){return this.sharedProperties.sfu_resource}newGuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,i=>{const s=16*Math.random()|0;return("x"===i?s:3&s|8).toString(16)})}flushEvents(i=!1){ps(this.spadeClient),this.queuedEvents.length>0&&this.spadeClient.send(this.queuedEvents,i),this.queuedEvents=[]}parseSemver(i){const s=/^(\d+)\.(\d+)\.(\d+)[+|-]?(.*)?$/.exec(i)||/^(\d+)\.(\d+)[+|-]?(.*)?$/.exec(i)||/^(\d+)$/.exec(i)||[];return{major:parseInt(s[1],10)||0,minor:parseInt(s[2],10)||0,patch:parseInt(s[3],10)||0}}}class Is{constructor(i,s){this.transformProperties=(k,I)=>({sum:k.sum,median:k.median(),min:k.min,max:k.max,p90:k.percentile(.9),event_count:k.data.length,period:I});const u=this.transformProperties(i,s);this.data={event:Nn.CONGESTION_TIME,properties:u}}}class Gs{constructor(i,s,u){this.transformProperties=(I,T,B)=>({duration:(I.getTime()-(T?.getTime()||0))/1e3,ecn_negotiated:!1,ingest_session_id:B});const k=this.transformProperties(i,s,u);this.data={event:Nn.CONNECTION_ESTABLISHED,properties:k}}}class xn{constructor(i,s){this.transformProperties=(k,I)=>({sum:k.sum,median:k.median(),min:k.min,max:k.max,p90:k.percentile(.9),event_count:k.data.length,period:I});const u=this.transformProperties(i,s);this.data={event:Nn.CONNECTION_RTT,properties:u}}}class Si{constructor(i){this.transformProperties=u=>{var k;return{is_fatal:null!==(k=u.isFatal)&&void 0!==k&&k,value:u.value,code:u.code,description:u.description}};const s=this.transformProperties(i);this.data={event:Nn.ERROR,properties:s}}}class Ps{constructor(i,s){this.transformProperties=(k,I)=>({type:k,input_device_id:I.deviceId,position:I.facingMode||"unknown"});const u=this.transformProperties(i,s);this.data={event:Nn.INPUT_DEVICE_ATTACHED,properties:u}}}class qs{constructor(i,s){this.transformProperties=(k,I)=>({type:k,input_device_id:I.deviceId,position:I.facingMode||"unknown"});const u=this.transformProperties(i,s);this.data={event:Nn.INPUT_DEVICE_DETACHED,properties:u}}}class hs{constructor(i,s){this.transformProperties=(k,I)=>({sum:k.sum,median:k.median(),min:k.min,max:k.max,p90:k.percentile(.9),event_count:k.data.length,period:I});const u=this.transformProperties(i,s);this.data={event:Nn.MEASURED_BITRATE,properties:u}}}class da{constructor(i,s){this.transformProperties=(k,I)=>({minutes_logged:Math.round((k.timestamp-I)/6e4)});const u=this.transformProperties(i,s);this.data={event:Nn.MINUTE_BROADCAST,properties:u}}}class Os{constructor(i,s){this.transformProperties=(k,I)=>({sum:k.sum,median:k.median(),min:k.min,max:k.max,p90:k.percentile(.9),event_count:k.data.length,period:I});const u=this.transformProperties(i,s);this.data={event:Nn.RECOMMENDED_BITRATE,properties:u}}}class Ji{constructor(i){this.transformProperties=u=>({codec:u.mimeType,bitrate:0,sample_rate:u.clockRate,channel_count:u.channels});const s=this.transformProperties(i);this.data={event:Nn.SESSION_AUDIO_ENCODER_CONFIGURED,properties:s}}}class Ii{constructor(i){this.transformProperties=u=>({codec:"audio",bitrate:32e3,sample_rate:u.sampleRate,channel_count:u.channelCount});const s=this.transformProperties(i);this.data={event:Nn.SESSION_AUDIO_PROPERTIES,properties:s}}}class Rs{constructor(i,s,u){this.transformProperties=(I,T,B)=>({codec:B.mimeType,codec_profile:T.profile,codec_level:T.level,rate_mode:"vbr",initial_bitrate:0,keyframe_interval:2,width:I.width,height:I.height,bframe_count:0,target_fps:I.frameRate});const k=this.transformProperties(i,s,u);this.data={event:Nn.SESSION_VIDEO_ENCODER_CONFIGURED,properties:k}}}class Vs{constructor(i){this.transformProperties=u=>({codec:"video",initial_bitrate:32e3,min_bitrate:0,max_bitrate:0,keyframe_interval:2,width:u.width,height:u.height,auto_bitrate_enabled:!0,bframes_enabled:!1,target_fps:u.frameRate});const s=this.transformProperties(i);this.data={event:Nn.SESSION_VIDEO_PROPERTIES,properties:s}}}class Ki{constructor(i,s){this.transformProperties=(k,I)=>({sum:k.sum,median:k.median(),min:k.min,max:k.max,p90:k.percentile(.9),event_count:k.data.length,period:I});const u=this.transformProperties(i,s);this.data={event:Nn.SOURCE_AUDIO_LATENCY,properties:u}}}class As{constructor(i,s){this.transformProperties=(k,I)=>({sum:k.sum,median:k.median(),min:k.min,max:k.max,p90:k.percentile(.9),event_count:k.data.length,period:I});const u=this.transformProperties(i,s);this.data={event:Nn.SOURCE_VIDEO_LATENCY,properties:u}}}class fs{constructor(i,s){this.transformProperties=({protocol:k,hostname:I,port:T},B)=>({protocol:k,endpoint_host:I,endpoint_port:T,reason:B});const u=this.transformProperties(i,s);this.data={event:Nn.START_BROADCAST,properties:u}}}class Ms{constructor(i){this.transformProperties=({protocol:u,hostname:k,port:I})=>({protocol:u,endpoint_host:k,endpoint_port:I});const s=this.transformProperties(i);this.data={event:Nn.STOP_BROADCAST,properties:s}}}class Xs{constructor(i){this.transformProperties=u=>({bytes_sent:u.bytesSent,header_bytes_sent:u.headerBytesSent,nack_count:u.nackCount,packets_sent:u.packetsSent,retransmitted_bytes_sent:u.retransmittedBytesSent,retransmitted_packets_sent:u.retransmittedPacketsSent});const s=this.transformProperties(i);this.data={event:Nn.WEBRTC_AUDIO_STATS,properties:s}}}class Ys{constructor(i){this.transformProperties=u=>({bytes_sent:u.bytesSent,fir_count:u.firCount,frames_encoded:u.framesEncoded,frames_sent:u.framesSent,header_bytes_sent:u.headerBytesSent,huge_frames_sent:u.hugeFramesSent,key_frames_encoded:u.keyFramesEncoded,nack_count:u.nackCount,packets_sent:u.packetsSent,pli_count:u.pliCount,quality_limitation_reason:u.qualityLimitationReason,quality_limitation_resolution_changes:u.qualityLimitationResolutionChanges,retransmitted_bytes_sent:u.retransmittedBytesSent,retransmitted_packets_sent:u.retransmittedPacketsSent,total_encode_time:u.totalEncodeTime,total_encoded_bytes_target:u.totalEncodedBytesTarget,total_packet_send_delay:u.totalPacketsSendDelay});const s=this.transformProperties(i);this.data={event:Nn.WEBRTC_VIDEO_STATS,properties:s}}}(function(c){c.START_BROADCAST="ivs_broadcast_start_broadcast",c.STOP_BROADCAST="ivs_broadcast_stop_broadcast",c.MINUTE_BROADCAST="ivs_broadcast_minute_broadcast",c.WEBRTC_AUDIO_STATS="ivs_broadcast_webrtc_audio_stats",c.WEBRTC_VIDEO_STATS="ivs_broadcast_webrtc_video_stats",c.WEBRTC_AUDIO_STATS_WINDOW="ivs_broadcast_webrtc_audio_stats_window",c.WEBRTC_VIDEO_STATS_WINDOW="ivs_broadcast_webrtc_video_stats_window",c.CONNECTION_ESTABLISHED="ivs_broadcast_connection_established",c.SESSION_VIDEO_PROPERTIES="ivs_broadcast_session_video_properties",c.SESSION_AUDIO_PROPERTIES="ivs_broadcast_session_audio_properties",c.SESSION_VIDEO_ENCODER_CONFIGURED="ivs_broadcast_session_video_encoder_configured",c.SESSION_AUDIO_ENCODER_CONFIGURED="ivs_broadcast_session_audio_encoder_configured",c.SOURCE_AUDIO_LATENCY="ivs_broadcast_source_audio_latency",c.SOURCE_VIDEO_LATENCY="ivs_broadcast_source_video_latency",c.INPUT_DEVICE_ATTACHED="ivs_broadcast_input_device_attached",c.INPUT_DEVICE_DETACHED="ivs_broadcast_input_device_detached",c.CONGESTION_TIME="ivs_broadcast_congestion_time",c.BUFFER_DURATION="ivs_broadcast_buffer_duration",c.MEASURED_BITRATE="ivs_broadcast_measured_bitrate",c.RECOMMENDED_BITRATE="ivs_broadcast_recommended_bitrate",c.CONNECTION_RTT="ivs_broadcast_connection_rtt",c.ERROR="ivs_broadcast_error"})(Nn||(Nn={})),function(c){c.USER_INITIATED="user-initiated",c.NETWORK_DISCONNECT="network-disconnect"}(r||(r={}));const a={[A.INFO]:"#528bff",[A.WARN]:"#ffb31a",[A.DEBUG]:"#00f593",[A.ERROR]:"#ff4f4d",[A.TRACE]:"",[A.SILENT]:"",[$.SPADE]:"#a970ff",[$.TIME]:"#53535f",[$.WEBRTC]:"#0e9bd8",[$.SUBSCRIPTION]:"#ffc400",[$.CONNECTION]:"#ff5edb",[$.SOCKET]:"#8585ff",[$.EMITTER]:"#adadb8",[$.LOCAL_PARTICIPANT]:"#1DD21D",[$.STAGE]:"#EC9806",[$.REMOTE_PARTICIPANT]:"#0680EC",details:"#808080"},m=({label:c})=>`background: ${a[c]||"#333333"}; color: white; padding: 3px; margin-left: 3px;`,w=Object.entries(A),L=(c,i,s)=>{const u=m({label:c}),[k]=w.find(([,ot])=>ot===Number(c))||[],I=`%c${k}`,T=m({label:i}),B=`%c${i}`,M=m({label:$.TIME}),O=`%c[${(new Date).toISOString()}]`,D=m({label:"details"}),Se=[O,I,B],me=[M,u,T];return s&&(Se.push(`%c[${s}]`),me.push(D)),[Se.join(""),...me]},z={debug(c){console.groupCollapsed(...L(A.DEBUG,c.scope,c.label)),console.debug(c.msg,Object.assign(Object.assign({},c),{level:"debug"})),console.groupEnd()},info(c){console.groupCollapsed(...L(A.INFO,c.scope,c.label)),console.info(c.msg,Object.assign(Object.assign({},c),{level:"info"})),console.groupEnd()},warn(c){console.groupCollapsed(...L(A.WARN,c.scope,c.label)),console.warn(c.msg,Object.assign(Object.assign({},c),{level:"warn"})),console.groupEnd()},error(c){console.error(c)}};var J=function(c,i){var s={};for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&i.indexOf(u)<0&&(s[u]=c[u]);if(null!=c&&"function"==typeof Object.getOwnPropertySymbols){var k=0;for(u=Object.getOwnPropertySymbols(c);k<u.length;k++)i.indexOf(u[k])<0&&Object.prototype.propertyIsEnumerable.call(c,u[k])&&(s[u[k]]=c[u[k]])}return s};Object.entries(A);class oe{constructor(i=qi,s=z){this.logLevel=i,this.loggerInstance=s}debug(i){var s,u;this.logLevel>A.DEBUG||null===(u=(s=this.loggerInstance).debug)||void 0===u||u.call(s,JSON.parse(JSON.stringify(Object.assign(Object.assign({},i),{level:"debug"}))))}info(i){var s,u;this.logLevel>A.INFO||null===(u=(s=this.loggerInstance).info)||void 0===u||u.call(s,JSON.parse(JSON.stringify(Object.assign(Object.assign({},i),{level:"info"}))))}warn(i){var s,u;this.logLevel>A.WARN||null===(u=(s=this.loggerInstance).warn)||void 0===u||u.call(s,JSON.parse(JSON.stringify(Object.assign(Object.assign({},i),{level:"warn"}))))}error(i){var s,u,{err:k}=i,I=J(i,["err"]);this.logLevel>A.ERROR||null===(u=(s=this.loggerInstance).error)||void 0===u||u.call(s,Object.assign({err:k},I))}}class ne{constructor(i,s){this.logger=i,this.scope=s}debug(i){var s,u;null===(u=(s=this.logger).debug)||void 0===u||u.call(s,JSON.parse(JSON.stringify(Object.assign(Object.assign({},i),{scope:this.scope}))))}info(i){var s,u;null===(u=(s=this.logger).info)||void 0===u||u.call(s,JSON.parse(JSON.stringify(Object.assign(Object.assign({},i),{scope:this.scope}))))}warn(i){var s,u;null===(u=(s=this.logger).warn)||void 0===u||u.call(s,JSON.parse(JSON.stringify(Object.assign(Object.assign({},i),{scope:this.scope}))))}error(i){var s,u,{err:k}=i,I=J(i,["err"]);null===(u=(s=this.logger).error)||void 0===u||u.call(s,Object.assign(Object.assign({err:k},I),{scope:this.scope}))}unwrap(){return this.logger}}class he{constructor(){this.min=0,this.max=0,this.sum=0,this.data=[]}push(i){(0===this.min||i<this.min)&&(this.min=i),i>=this.max&&(this.max=i),this.data.push(i),this.sum+=i}median(){this.data.sort();const i=this.data.length>>1;return this.data.length%2==0?this.data[i-1]+this.data[i]>>1:this.data[i]}percentile(i){if(0===this.data.length)return 0;if(i<=0)return this.data[0];if(i>=1)return this.data[this.data.length-1];const s=(this.data.length-1)*i,u=Math.floor(s),k=u+1,I=s%1;return k>=this.data.length?this.data[u]:this.data[u]*(1-I)+this.data[k]*I}}var _e=function(c,i,s,u){return new(s||(s=Promise))(function(k,I){function T(O){try{M(u.next(O))}catch(D){I(D)}}function B(O){try{M(u.throw(O))}catch(D){I(D)}}function M(O){var D;O.done?k(O.value):(D=O.value,D instanceof s?D:new s(function(ie){ie(D)})).then(T,B)}M((u=u.apply(c,i||[])).next())})};class Ie{constructor(i,s,u){this.peerClient=i,this.broadcastCanvasManager=s,this.logger=new ne(u,$.EMITTER),this.previousBytesSent=0,this.startTimestamp=0,this.analyticsTracker=Zt.getInstance(),this.initializeSamples()}start(){this.logger.info({msg:"start emitter"}),this.collectSamplesTimerId=window.setInterval(()=>{this.collectSamples()},1e3),this.trackSamplesTimerId=window.setInterval(()=>{this.trackSamples()},3e4),this.trackPeerConnectionStatsTimerId=window.setInterval(()=>{this.trackPeerConnectionStats()},6e4),this.trackSamples()}stop(){clearInterval(this.collectSamplesTimerId),clearInterval(this.trackSamplesTimerId),clearInterval(this.trackPeerConnectionStatsTimerId),this.collectSamplesTimerId=void 0,this.trackSamplesTimerId=void 0,this.trackPeerConnectionStatsTimerId=void 0}trackPeerConnectionStats(){return _e(this,void 0,void 0,function*(){(yield this.peerClient.getReports()).forEach(i=>{if("outbound-rtp"===i.type)switch(i.kind){case"audio":this.analyticsTracker.trackEvent(new Xs(i));break;case"video":{const s=new Ys(i),u=new da(i,this.startTimestamp);this.analyticsTracker.batchEvents([s,u]);break}default:this.logger.warn({msg:"unknown report kind: ",reportKind:i.kind})}})})}collectSamples(){return _e(this,void 0,void 0,function*(){let i=0;this.audioLatencySamples.push(this.broadcastCanvasManager.getAudioLatency()),this.videoLatencySamples.push(this.broadcastCanvasManager.getVideoLatency()),(yield this.peerClient.getReports()).forEach(u=>{switch(u.type){case"candidate-pair":u.nominated&&(this.rttSamples.push(u.currentRoundTripTime),this.recommendedBitrateSamples.push(u.availableOutgoingBitrate));break;case"outbound-rtp":i+=u.bytesSent||0,0===this.startTimestamp&&"video"===u.kind&&(this.startTimestamp=u.timestamp)}});const s=8*Math.round(i-this.previousBytesSent);this.previousBytesSent=i,this.measuredBitrateSamples.push(s)})}trackSamples(){const s=new Ki(this.audioLatencySamples,30),u=new As(this.videoLatencySamples,30),k=new Is(this.congestionTimeSamples,30),I=new hs(this.measuredBitrateSamples,30),T=new Os(this.recommendedBitrateSamples,30),B=new xn(this.rttSamples,30);this.analyticsTracker.batchEvents([s,u,k,I,T,B]),this.initializeSamples()}initializeSamples(){this.audioLatencySamples=new he,this.videoLatencySamples=new he,this.congestionTimeSamples=new he,this.measuredBitrateSamples=new he,this.recommendedBitrateSamples=new he,this.rttSamples=new he}}const ye={CONNECTION_STATE_CHANGE:"connectionStateChange",ERROR:"clientError",ACTIVE_STATE_CHANGE:"activeStateChange"},Re="connectionStateChange",ut="clientError";var De;!function(c){c.CLOSED="closed",c.COMPLETED="completed",c.CONNECTED="connected",c.CONNECTING="connecting",c.DISCONNECTED="disconnected",c.FAILED="failed",c.IDLE="idle",c.NEW="new",c.NONE="none"}(De||(De={}));const Rt=c=>{const i=I=>{var T;return null!==(T=I.deviceId)&&void 0!==T&&T.startsWith("web-contents-media-stream")?"tab":void 0},s=I=>{var T;return(null===(T=I.deviceId)||void 0===T?void 0:T.startsWith("window"))&&"window"===I.displaySurface?"window":void 0},u=I=>{var T;return(null===(T=I.deviceId)||void 0===T?void 0:T.startsWith("screen"))&&"monitor"===I.displaySurface?"screen":void 0};return(i(k=c)||s(k)||u(k)?void 0:"camera")||u(c)||s(c)||i(c)||"unknown";var k};function In(c,i){return c.find(s=>s.kind===i)}var ht;!function(c){c.VIDEO="video",c.AUDIO="audio"}(ht||(ht={}));class Ee{constructor(){this.mediaTracks=new Map([[ht.VIDEO,void 0],[ht.AUDIO,void 0]])}static getOrRegisterInstance(i){let s=this.msmMap.get(i);return s||(s=new Ee,this.msmMap.set(i,s)),s}setTrack(i,s){this.mediaTracks.set(i,s)}getTrack(i){return this.mediaTracks.get(i)}}Ee.msmMap=new Map;class Ae{constructor(){this.levelAsymmetryAllowed=!1,this.packetisationMode=!1,this.profile="",this.level=0}extractVideoSdpFmtpLine(i){return i?(i.split("\r").join(";").split("\n").join(";").split(" ").join(";").split(";").map(s=>s.trim()).filter(Boolean).forEach(s=>{const u=s.split("=");if(2===u.length)switch(u[0]){case"level-asymmetry-allowed":this.levelAsymmetryAllowed="1"===u[1];break;case"packetization-mode":this.packetisationMode="1"===u[1];break;case"profile-level-id":this.profile=this.getProfileFromId(u[1]),this.level=this.getLevelFromId(u[1])}}),{levelAsymmetryAllowed:this.levelAsymmetryAllowed,packetisationMode:this.packetisationMode,profile:this.profile,level:this.level}):{levelAsymmetryAllowed:this.levelAsymmetryAllowed,packetisationMode:this.packetisationMode,profile:this.profile,level:this.level}}getProfileFromId(i){const s=i.substr(0,2),u=i.substr(2,2);switch(s.substr(0,2)){case"42":return"baseline";case"4d":return"main";case"58":return"extended";case"64":return"high";case"6e":return"00"===u?"high 10":"high 10 intra";case"7a":return"00"===u?"high 42":"high 42 intra";case"f4":return"00"===u?"high 44":"high 44 intra";default:return"unknown"}}getLevelFromId(i){return parseInt(i.substr(4,2),16)}}function xe(c){return btoa(JSON.stringify(c))}var Ge,tt=function(c,i,s,u){return new(s||(s=Promise))(function(k,I){function T(O){try{M(u.next(O))}catch(D){I(D)}}function B(O){try{M(u.throw(O))}catch(D){I(D)}}function M(O){var D;O.done?k(O.value):(D=O.value,D instanceof s?D:new s(function(ie){ie(D)})).then(T,B)}M((u=u.apply(c,i||[])).next())})};!function(c){c.IDLE="idle",c.EXECUTING="executing",c.RECONNECTING="reconnecting"}(Ge||(Ge={}));class wt{constructor(i,s=12e4,u,k){this.state=Ge.IDLE,this.failureCallback=()=>{},this.peerClient=i,this.timeout=s,this.logger=u,this.emitter=k}onFailure(i){this.failureCallback=i}setStartConfig(i,s){this.ingestEndpoint=i,this.streamKey=s}execute(){const{id:i}=this;this.state===Ge.IDLE&&(this.state=Ge.EXECUTING,this.emitter.emit(ye.CONNECTION_STATE_CHANGE,De.CONNECTING),this.logger.info({msg:"Starting execution of reconnect strategy.",id:i}),this.startTimeoutTimer(this.timeout),this.executeStrategy())}startTimeoutTimer(i){this.timeoutTimerId=window.setTimeout(()=>{this.state!==Ge.IDLE&&(this.logger.info({msg:"Reconnect strategy timed out."}),this.stop(),this.emitter.emit(ye.CONNECTION_STATE_CHANGE,De.FAILED),this.failureCallback())},i)}stop(){this.state=Ge.IDLE,clearTimeout(this.timeoutTimerId),this.stopStrategy()}reconnect(){return tt(this,void 0,void 0,function*(){if(this.ingestEndpoint&&this.streamKey){const i=this.peerClient.getConnectionState();try{this.logger.info({msg:"Attempting reconnect."}),i===De.CONNECTED?this.logger.info({msg:"Already connected! Stopping reconnect strategy."}):(yield this.peerClient.start(this.ingestEndpoint,this.streamKey),this.logger.info({msg:"Reconnect succeeded!"})),this.stop()}catch(s){throw this.logger.error({err:s}),s}}})}isActive(){return this.state!==Ge.IDLE}}class Pn extends wt{constructor(){super(...arguments),this.id="ExponentialBackoffStrategy"}executeStrategy(){let i=5e3;const s=()=>tt(this,void 0,void 0,function*(){if(this.state===Ge.EXECUTING)try{this.state=Ge.RECONNECTING,yield this.reconnect()}catch{this.logger.warn({msg:"Attempted reconnect failed. Trying again in: ",nextRetry:i}),this.state=Ge.EXECUTING,this.currentTimeoutId=window.setTimeout(s,i),i*=2}});this.currentTimeoutId=window.setTimeout(s,0)}stopStrategy(){clearTimeout(this.currentTimeoutId)}}class zr extends wt{constructor(){super(...arguments),this.id="NetworkApiStrategy",this.onConnectionChange=()=>tt(this,void 0,void 0,function*(){if(navigator.onLine&&this.state===Ge.EXECUTING){this.state=Ge.RECONNECTING;try{yield this.reconnect()}catch{this.logger.warn({msg:"Attempted reconnect failed."}),this.state=Ge.EXECUTING}}})}executeStrategy(){navigator.connection.addEventListener("change",this.onConnectionChange),this.onConnectionChange()}stopStrategy(){navigator.connection.removeEventListener("change",this.onConnectionChange)}}var Ei,Or=function(c,i,s,u){return new(s||(s=Promise))(function(k,I){function T(O){try{M(u.next(O))}catch(D){I(D)}}function B(O){try{M(u.throw(O))}catch(D){I(D)}}function M(O){var D;O.done?k(O.value):(D=O.value,D instanceof s?D:new s(function(ie){ie(D)})).then(T,B)}M((u=u.apply(c,i||[])).next())})};const wi=c=>!!c;function yr(c){if(!c)throw new Error("PeerConnection is not defined")}const On={bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",enableDtlsSrtp:{exact:!0},enableRtpDataChannels:{exact:!1},optional:[{googHighStartBitrate:{exact:0}},{googPayloadPadding:{exact:!0}},{googScreencastMinBitrate:{exact:100}},{googCpuOveruseDetection:{exact:!0}},{googCpuOveruseEncodeUsage:{exact:!0}},{googCpuUnderuseThreshold:{exact:55}},{googCpuOveruseThreshold:{exact:85}},{enableDscp:{exact:!0}}]};class Rn{constructor(i,s,u,k){this.config=i,this.emitter=s,this.mediaStreamManager=u,this.establishConnection=(I,T)=>Or(this,void 0,void 0,function*(){var B,M,O;yr(this.peerConnection);try{const D=yield this.peerConnection.createOffer({offerToReceiveAudio:!1,offerToReceiveVideo:!1});yield this.handleLocalDescription(D),yield this.sendSetupRequest(I,T,D)}catch(D){if(D instanceof Error){null!==(B=(O=D).code)&&void 0!==B||(O.code=qe.code);const ie=new y(Object.assign(Object.assign({},qe),{name:D.name,message:D.message,code:D?.code,cause:D}));throw!(null===(M=this.reconnectStrategy)||void 0===M)&&M.isActive()||this.handleError(D.code,D.message),this.stop(),ie}}}),this.getSessionId=()=>this.ingestSessionId,this.getConnectionState=()=>{var I;if(!this.peerConnection)return De.NONE;const T=null===(I=this.reconnectStrategy)||void 0===I?void 0:I.isActive(),B=this.peerConnection.connectionState||this.peerConnection.iceConnectionState;switch(B){case"new":return De.NEW;case"closed":return De.CLOSED;case"disconnected":return T?De.CONNECTING:De.DISCONNECTED;case"failed":return T?De.CONNECTING:De.FAILED;case"idle":return De.IDLE;case"checking":case"connecting":return De.CONNECTING;case"completed":case"connected":return De.CONNECTED;default:return this.logger.warn({msg:"Unhandled connection state:",rawState:B}),De.IDLE}},this.onConnectionStateChange=()=>{var I;const T=this.getConnectionState();switch(T){case De.CONNECTED:{this.emitter.emit(ye.CONNECTION_STATE_CHANGE,T);const B=new Date;this.analyticsTracker.trackEvent(new Gs(B,this.connectionStartDate,this.ingestSessionId));const M=this.mediaStreamManager.getTrack(ht.AUDIO),O=this.mediaStreamManager.getTrack(ht.VIDEO);if(O){const D=O.getSettings();this.analyticsTracker.trackEvent(new Vs(D))}if(M){const D=M.getSettings();this.analyticsTracker.trackEvent(new Ii(D))}((null===(I=this.peerConnection)||void 0===I?void 0:I.getSenders())||[]).forEach(D=>{var ie;((null===(ie=D.getParameters())||void 0===ie?void 0:ie.codecs)||[]).forEach(Se=>{var me;switch(null===(me=D.track)||void 0===me?void 0:me.kind){case"video":{if(!O)break;const ot=(new Ae).extractVideoSdpFmtpLine(Se.sdpFmtpLine),Ot=O.getSettings();this.analyticsTracker.trackEvent(new Rs(Ot,ot,Se));break}case"audio":if(!M)break;this.analyticsTracker.trackEvent(new Ji(Se))}})});break}case De.CONNECTING:this.emitter.emit(ye.CONNECTION_STATE_CHANGE,T),this.connectionStartDate=new Date,this.disconnectionStartDate=void 0;break;case De.FAILED:this.reconnectStrategy?this.reconnectStrategy.execute():(this.emitter.emit(ye.CONNECTION_STATE_CHANGE,T),this.handleTerminalConnectionFailure());break;case De.DISCONNECTED:this.emitter.emit(ye.CONNECTION_STATE_CHANGE,T),this.disconnectionStartDate=new Date;break;default:this.emitter.emit(ye.CONNECTION_STATE_CHANGE,T)}},this.handleLocalDescription=I=>Or(this,void 0,void 0,function*(){var T;return null===(T=this.peerConnection)||void 0===T?void 0:T.setLocalDescription(I)}),Ei.set(this,I=>{if("string"!=typeof I)throw new y(Lt);try{new URL(I)}catch{throw new y(Vt)}}),this.logger=new ne(k,$.WEBRTC),this.analyticsTracker=Zt.getInstance(),this.createReconnectStrategy(i)}start(i,s){var u;return Or(this,void 0,void 0,function*(){(function(c,i,s,u){if("function"==typeof i||!i.has(c))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i.get(c)})(this,Ei).call(this,i);const k=[this.mediaStreamManager.getTrack(ht.VIDEO),this.mediaStreamManager.getTrack(ht.AUDIO)].filter(wi);if(this.createPeerConnection(),this.addTracks({tracks:k}),this.reconnectStrategy&&this.reconnectStrategy.setStartConfig(i,s),yield this.establishConnection(i,s),null!==(u=this.reconnectStrategy)&&void 0!==u&&u.isActive()){const I=new URL(i);this.analyticsTracker.trackEvent(new fs({protocol:"webrtc",hostname:I.hostname,port:I.port},r.NETWORK_DISCONNECT))}})}stop(){var i,s,u,k;this.stateCheckInterval&&(clearInterval(this.stateCheckInterval),this.stateCheckInterval=void 0),this.stopStreamDataChannel&&"open"===this.stopStreamDataChannel.readyState&&this.stopStreamDataChannel.send(" "),[De.NEW,De.CONNECTING,De.CONNECTED].includes(this.getConnectionState())&&this.emitter.emit(ye.CONNECTION_STATE_CHANGE,De.CLOSED),null===(i=this.peerConnection)||void 0===i||i.close(),null===(s=this.peerConnection)||void 0===s||s.removeEventListener("connectionstatechange",this.onConnectionStateChange),null===(u=this.peerConnection)||void 0===u||u.removeEventListener("iceconnectionstatechange",this.onConnectionStateChange),this.ingestSessionId=void 0,null===(k=this.reconnectStrategy)||void 0===k||k.stop()}addTracks(i){var s;if(yr(this.peerConnection),!i)return;const u=this.peerConnection.getSenders().map(I=>{var T;return null===(T=I.track)||void 0===T?void 0:T.id}),k=i.tracks.filter(I=>!u.includes(I.id));for(const I of k)null===(s=this.peerConnection)||void 0===s||s.addTrack(I)}getReports(){var i;return Or(this,void 0,void 0,function*(){try{const s=(yield null===(i=this.peerConnection)||void 0===i?void 0:i.getStats())||[],u=[];return s.forEach(k=>{u.push(k)}),u}catch{return[]}})}sendSetupRequest(i,s,u){var k;return Or(this,void 0,void 0,function*(){const I=yield fetch(`${i}/v1/offer`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object.assign({offer:xe(u),streamKey:s},this.config.streamConfig))});if(!I.ok)throw function(B){let M=new y(Object.assign({},qe));return 1007===B?.code&&(M=new y(Object.assign({},He))),B?.message&&(M.message=B.message),M}(yield I.json());const T=yield I.json();var B;T?.answer&&(yield null===(k=this.peerConnection)||void 0===k?void 0:k.setRemoteDescription((B=T.answer,JSON.parse(atob(B)))),this.ingestSessionId=T.ingestSessionId)})}handleTerminalConnectionFailure(){const i=new y(Nt);this.handleError(i.code,i.message)}handleError(i,s){this.analyticsTracker.trackEvent(new Si({code:i,description:s,isFatal:!0})),this.emitter.emit(ye.ERROR,{code:i,message:s})}createPeerConnection(){var i;const s=this.getConnectionState(),u=s!==De.NONE,k=s!==De.CLOSED,I=null===(i=this.reconnectStrategy)||void 0===i?void 0:i.isActive();u&&k&&!I||(this.stateCheckInterval&&(clearInterval(this.stateCheckInterval),this.stateCheckInterval=void 0),this.stateCheckInterval=window.setInterval(()=>{const T=this.getConnectionState();if(this.reconnectStrategy&&T===De.DISCONNECTED&&this.disconnectionStartDate){const B=Date.now()-this.disconnectionStartDate.getTime();this.logger.info({msg:"Time since disconnected:",timeSinceDisconnect:B}),B>1e4&&(this.disconnectionStartDate=void 0,this.reconnectStrategy.execute())}else T===De.CLOSED&&(this.handleTerminalConnectionFailure(),clearInterval(this.stateCheckInterval),this.stateCheckInterval=void 0)},1e3),this.peerConnection=new RTCPeerConnection(On),this.stopStreamDataChannel=this.peerConnection.createDataChannel("stopStream"),this.peerConnection.addEventListener("connectionstatechange",this.onConnectionStateChange),this.peerConnection.addEventListener("iceconnectionstatechange",this.onConnectionStateChange))}createReconnectStrategy(i){this.reconnectStrategy=class tn{static create(i,s=xs,u,k){const{reconnect:I,timeout:T}=s;if(I){const B=Di.getParser(navigator.userAgent).getBrowserName().toLowerCase();return["edge","chrome"].includes(B)&&navigator.connection?new zr(i,T,u,k):new Pn(i,T,u,k)}}}.create(this,i.networkReconnectConfig,this.logger,this.emitter),this.reconnectStrategy&&(this.reconnectStrategy.onFailure(this.handleTerminalConnectionFailure.bind(this)),this.logger.info({msg:"Using reconnect strategy:",strategyId:this.reconnectStrategy.id}))}}Ei=new WeakMap;var An,Qt=St(2492);!function(c){c.CONFIG="config",c.UPDATE="update",c.START="start",c.STOP="stop"}(An||(An={}));var dr=St(477),kt=St.n(dr);function kn(){return kt()('/*! For license information please see scheduler.worker.worker.js.LICENSE.txt */\n(()=>{"use strict";var t;!function(t){t.CONFIG="config",t.UPDATE="update",t.START="start",t.STOP="stop"}(t||(t={}));const i=self;const s=new class Scheduler{constructor(){this.config={frameRate:60,isRunning:!1}}setConfig(t){this.config=Object.assign(Object.assign({},this.config),t),this.config.isRunning&&(this.stop(),this.start())}start(){this.config.isRunning||(this.intervalId=setInterval((()=>{i.postMessage({type:t.UPDATE})}),1e3/this.config.frameRate),this.config.isRunning=!0)}stop(){this.config.isRunning&&(clearInterval(this.intervalId),this.intervalId=void 0,this.config.isRunning=!1)}};i.addEventListener("message",(function(i){var n;if(null===(n=null==i?void 0:i.data)||void 0===n?void 0:n.type)switch(i.data.type){case t.CONFIG:s.setConfig(i.data.payload||{});break;case t.START:s.start();break;case t.STOP:s.stop()}}))})();',"Worker",void 0,void 0)}var wn=function(c,i,s,u){return new(s||(s=Promise))(function(k,I){function T(O){try{M(u.next(O))}catch(D){I(D)}}function B(O){try{M(u.throw(O))}catch(D){I(D)}}function M(O){var D;O.done?k(O.value):(D=O.value,D instanceof s?D:new s(function(ie){ie(D)})).then(T,B)}M((u=u.apply(c,i||[])).next())})};class Cn{constructor(i,s){this.config=i,this.mediaStreamManager=s,this.handleWorkerEvent=T=>{var B;(null===(B=T.data)||void 0===B?void 0:B.type)===An.UPDATE&&this.drawComposite()},this.mixer={video:[],audio:[]},this.analyticsTracker=Zt.getInstance(),this.schedulerWorker=new kn,this.running=!1,this.compositeEl=document.createElement("canvas"),this.compositeEl.height=this.config.streamConfig.maxResolution.height,this.compositeEl.width=this.config.streamConfig.maxResolution.width;const u=this.compositeEl.getContext("2d");if(null===u)throw new y(Object.assign({},_));this.compositeContext=u,this.compositeStream=this.compositeEl.captureStream(void 0!==typeof CanvasCaptureMediaStreamTrack?0:30);const k=In(this.compositeStream.getTracks(),ht.VIDEO);this.audioContext=new AudioContext,this.unlockAudioContext(),this.audioDestination=this.audioContext.createMediaStreamDestination(),this.setupSilence();const I=In(this.audioDestination.stream.getTracks(),ht.AUDIO);k&&this.mediaStreamManager.setTrack(ht.VIDEO,k),I&&this.mediaStreamManager.setTrack(ht.AUDIO,I),this.schedulerWorker.addEventListener("message",this.handleWorkerEvent),this.schedulerWorker.postMessage({type:An.CONFIG,payload:{frameRate:this.config.streamConfig.maxFramerate}}),this.previewElement=null,this.previewCtx=null,this.nextMix=(new Date).getTime()}attachPreview(i){this.previewElement=i;const{width:s,height:u}=this.config.streamConfig.maxResolution;this.previewElement.width=s,this.previewElement.height=u,this.previewCtx=this.previewElement.getContext("2d")}detachPreview(){this.previewElement=null,this.previewCtx=null}setupSilence(){const i=this.audioContext.createConstantSource(),s=this.audioContext.createGain();s.gain.value=.001,i.connect(s),s.connect(this.audioDestination),i.start()}unlockAudioContext(){if("suspended"!==this.audioContext.state)return;const i=document.body,s=["touchstart","touchend","mousedown","keydown"],u=()=>{s.forEach(I=>{i.removeEventListener(I,k)})},k=()=>{this.audioContext.resume().then(u)};s.forEach(I=>{i.addEventListener(I,k,!1)})}getTracks(){return[this.mediaStreamManager.getTrack(ht.VIDEO),this.mediaStreamManager.getTrack(ht.AUDIO)]}getCanvasVideoTrack(){return this.mediaStreamManager.getTrack(ht.VIDEO)}getAudioInputDevice(i){if("string"==typeof i)return this.mixer.audio.find(u=>{if(u.name===i)return u.source})?.source}getVideoInputDevice(i){if("string"==typeof i)return this.mixer.video.find(s=>s.name===i)}getCanvasDimensions(){return{height:this.compositeEl.height,width:this.compositeEl.width}}addVideoInputDevice(i,s,u){var k;return wn(this,void 0,void 0,function*(){if("object"!=typeof i)throw new y(Object.assign({},Y));if(!s||"string"!=typeof s)throw new y(Object.assign({},se));if(this.mixer.video.some(Se=>Se.name===s))throw new y(Object.assign({},Z));if(!u)throw new y(Object.assign({},fe));if("number"!=typeof u.index)throw new y(Object.assign({},le));const I=function(){const Se=document.createElement("video");return Se.autoplay=!0,Se.muted=!0,Se.setAttribute("playsinline",""),Se.setAttribute("webkit-playsinline",""),Se}(),T=i.getVideoTracks(),[B]=T;if(!T.length)throw new y(Object.assign({},F));const M=B.getConstraints(),O=Qt({},M,{frameRate:this.config.streamConfig.maxFramerate});try{yield B.applyConstraints(O)}catch(Se){let me="Unknown constraints error";Se instanceof Error&&(me=Se.message),this.analyticsTracker.trackEvent(new Si({description:`${ve.message}: ${me}`,isFatal:!1,code:ve.code}))}const D=()=>wn(this,void 0,void 0,function*(){let Se=0;for(;Se<5;)try{return void(yield I.play())}catch(me){if(!(me instanceof Error))throw new Error("unknown error trying to add video to broadcast");Se++,yield new Promise(ot=>setTimeout(ot,150))}throw new Error("Error playing video, tries exceeded")}),ie=new MediaStream([B]);I.srcObject=ie;try{yield D();const Se={name:s,element:I,position:u,source:ie,render:!0},me=(null===(k=B.getSettings)||void 0===k?void 0:k.call(B))||{};this.analyticsTracker.trackEvent(new Ps(Rt(me),me)),this.mixer.video.push(Se)}catch(Se){throw new y(Object.assign(Object.assign({},F),{cause:Se}))}})}addImageSource(i,s,u){var k;return wn(this,void 0,void 0,function*(){if(!i)throw new y(Object.assign({},Y));if(!s||"string"!=typeof s)throw new y(Object.assign({},se));if("image"===i.tagName)throw new y(Object.assign({},ae));if(this.mixer.video.some(T=>T.name===s))throw new y(Object.assign({},Z));if(!u)throw new y(Object.assign({},fe));if("number"!=typeof u.index)throw new y(Object.assign({},le));if(i instanceof Image){const T=null===(k=i.src)||void 0===k?void 0:k.slice();try{const B=i.src?new URL(i.src):{};if(B.host&&B.hostname){const M=yield fetch(i.src).then(D=>wn(this,void 0,void 0,function*(){return D.blob()})),O=yield new Promise(D=>{const ie=new FileReader;ie.onload=()=>{D(ie.result)},ie.readAsDataURL(M)});i.src=O}}catch{throw new y(Object.assign(Object.assign({},je),{params:{details:`Image URL: ${T}`}}))}}this.mixer.video.push({name:s,element:i,position:u,render:!0})})}addAudioInputDevice(i,s){return wn(this,void 0,void 0,function*(){if("object"!=typeof i)throw new y(Object.assign({},Y));if(!s||"string"!=typeof s)throw new y(Object.assign({},se));if(this.mixer.audio.some(B=>B.name===s))throw new y(Object.assign({},Z));const u=i.getAudioTracks();if(!u.length)throw new y(Object.assign({},Q));const k=this.audioContext.createMediaStreamSource(new MediaStream(u)),I=this.audioContext.createGain();I.gain.value=1,k.connect(I),I.connect(this.audioDestination);const T={name:s,source:i,audioTrackSource:k,gainNode:I};this.analyticsTracker.trackEvent(new Ps("audio",{deviceId:i.id})),this.mixer.audio.push(T)})}removeImage(i){const s=this.mixer.video.findIndex(u=>u.name===i);if(s<0)throw new y(Object.assign({},Je));this.mixer.video.splice(s,1)}removeVideoInputDevice(i){var s;const u=this.removeDevice(i,this.mixer.video);if(!u)throw new y(Object.assign({},Le));{const k=In(u.source.getTracks(),ht.VIDEO);if(!k)throw new y(Object.assign({},Le));u.element.srcObject=null,k.stop();const I=(null===(s=k?.getSettings)||void 0===s?void 0:s.call(k))||{};this.analyticsTracker.trackEvent(new qs(Rt(I),I))}}removeAudioInputDevice(i){const s=this.removeDevice(i,this.mixer.audio);if(s?.audioTrackSource){for(const u of s.source.getTracks())u.stop(),this.analyticsTracker.trackEvent(new qs("audio",{deviceId:u.id}));s.gainNode.disconnect(this.audioDestination)}else if(!s)throw new y(Object.assign({},Le))}updateVideoDeviceComposition(i,s){if(!i||"string"!=typeof i)throw new y(Object.assign({},we));if(!s)throw new y(Object.assign({},Oe));if("number"!=typeof s.index)throw new y(Object.assign({},Ye));this.mixer.video.forEach((u,k)=>{u.name===i&&(u.position=s)})}exchangeVideoDevicePositions(i,s){const u=this.getVideoInputDevice(i),k=this.getVideoInputDevice(s);if(!u)throw new y(Object.assign(Object.assign({},Pe),{params:{details:`device with name: "${i}" not found`}}));if(!k)throw new y(Object.assign(Object.assign({},Pe),{params:{details:`device with name: "${s}" not found`}}));const I=Object.assign({},u.position),T=Object.assign({},k.position);for(const B of this.mixer.video)B.name===i&&(B.position=Xr(T.x)?Object.assign(Object.assign({},B.position),T):{index:T.index}),B.name===s&&(B.position=Xr(I.x)?Object.assign(Object.assign({},B.position),I):{index:I.index})}start(){this.running||(this.running=!0,this.schedulerWorker.postMessage({type:An.CONFIG,payload:{frameRate:this.config.streamConfig.maxFramerate}}),this.schedulerWorker.postMessage({type:An.START}))}stop(){this.running&&(this.running=!1,this.schedulerWorker.removeEventListener("message",this.handleWorkerEvent))}isCapturing(){return this.running}getAudioLatency(){return this.audioContext.baseLatency}getVideoLatency(){var i;return(null===(i=this.mediaStreamManager.getTrack(ht.VIDEO))||void 0===i?void 0:i.getConstraints().latency)||0}disableVideo(){this.mixer.video.forEach(i=>{i.render=!1})}enableVideo(){this.mixer.video.forEach(i=>{i.render=!0})}disableAudio(){this.mixer.audio.forEach(i=>{i.audioTrackSource&&(i.gainNode.gain.value=0)})}enableAudio(){this.mixer.audio.forEach(i=>{i.audioTrackSource&&(i.gainNode.gain.value=1)})}getDrawRegion(i,s,u){var k,I,T,B;let M=null!==(k=i.position.x)&&void 0!==k?k:0,O=null!==(I=i.position.y)&&void 0!==I?I:0;const D=null!==(T=i.position.width)&&void 0!==T?T:s-M,ie=null!==(B=i.position.height)&&void 0!==B?B:u-O,Se=D/ie;let me=i.element.width,ot=i.element.height;i.element instanceof HTMLVideoElement&&(me=i.element.videoWidth,ot=i.element.videoHeight);const Ot=me/ot;let _t=D,Mt=ie;return Ot>Se?(_t=D,Mt=2*Math.round(D/Ot/2),O+=(ie-Mt)/2):Ot<Se&&(Mt=ie,_t=2*Math.round(ie*Ot/2),M+=(D-_t)/2),{x:M,y:O,width:_t,height:Mt}}drawComposite(){if(!this.shouldMix(new Date))return;this.compositeContext.clearRect(0,0,this.compositeEl.width,this.compositeEl.height),this.drawBlackScreen();const i=this.mixer.video.filter(s=>s.render);i.sort((s,u)=>s.position.index-u.position.index);for(const s of i){const{x:u,y:k,width:I,height:T}=this.getDrawRegion(s,this.compositeEl.width,this.compositeEl.height);this.compositeContext.drawImage(s.element,u,k,I,T)}this.previewElement&&this.previewCtx&&this.previewCtx.drawImage(this.compositeEl,0,0,this.previewElement.width,this.previewElement.height),this.requestCanvasCapture()}requestCanvasCapture(){void 0!==typeof CanvasCaptureMediaStreamTrack&&("function"==typeof this.compositeStream.requestFrame?this.compositeStream.requestFrame():this.mediaStreamManager.getTrack(ht.VIDEO).requestFrame())}drawBlackScreen(){this.compositeContext.fillStyle="#000000",this.compositeContext.fillRect(0,0,this.compositeEl.width,this.compositeEl.height)}removeDevice(i,s){const u=s.findIndex(k=>k.name===i);if(!(u<0))return s.splice(u,1)[0]}shouldMix(i){if(i.getTime()<this.nextMix)return!1;for(;this.nextMix<=i.getTime();)this.nextMix+=1e3/this.config.streamConfig.maxFramerate;return!0}}function Xr(c){return Number.isSafeInteger(c)}var Yr,Hr,Rr=function(c,i,s,u){return new(s||(s=Promise))(function(k,I){function T(O){try{M(u.next(O))}catch(D){I(D)}}function B(O){try{M(u.throw(O))}catch(D){I(D)}}function M(O){var D;O.done?k(O.value):(D=O.value,D instanceof s?D:new s(function(ie){ie(D)})).then(T,B)}M((u=u.apply(c,i||[])).next())})};class Ar{constructor(i){this.config=i,Yr.add(this),this.emitter=new Yi,this.isValid=!0,this.emitter.on(ye.ERROR,this.stopBroadcast),this.config.ingestEndpoint&&(this.url=new URL(this.config.ingestEndpoint)),this.analyticsTracker=Zt.getInstance(),this.mediaStreamManager=Ee.getOrRegisterInstance(this);const s=new oe(i.logLevel,i.logger);this.peerClient=new Rn(this.config,this.emitter,this.mediaStreamManager,s),this.broadcastCanvasManager=new Cn(i,this.mediaStreamManager),this.peerStatsTracker=new Ie(this.peerClient,this.broadcastCanvasManager,s),this.broadcastCanvasManager.start(),Object.getOwnPropertyNames(Ar.prototype).forEach(u=>{this[u]=new Proxy(this[u],{apply:(k,I,T)=>{if(!I.isValid)throw new y(Object.assign({},Br));return Reflect.apply(k,I,T)}})}),window.addEventListener("beforeunload",()=>{this.analyticsTracker.stop(!0)})}delete(){this.isValid=!1,this.peerClient.stop(),this.broadcastCanvasManager.stop(),this.emitter.removeAllListeners()}startBroadcast(i,s){return Rr(this,void 0,void 0,function*(){(function(c,i,s,u){if("function"==typeof i?c!==i||!u:!i.has(c))throw new TypeError("Cannot read private member from an object whose class did not declare it");return u})(this,Yr,0,Hr).call(this,i);const u=Pr(s||this.config.ingestEndpoint);this.analyticsTracker.start(),this.peerStatsTracker.start(),yield this.peerClient.start(u,i),this.emitter.emit(ye.ACTIVE_STATE_CHANGE,!0),this.url=new URL(u),this.url&&this.analyticsTracker.trackEvent(new fs({protocol:"webrtc",hostname:this.url.hostname,port:this.url.port},r.USER_INITIATED))})}stopBroadcast(){var i,s,u;this.url&&this.analyticsTracker.trackEvent(new Ms({protocol:"webrtc",hostname:this.url.hostname,port:this.url.port})),null===(i=this.peerStatsTracker)||void 0===i||i.stop(),null===(s=this.peerClient)||void 0===s||s.stop(),null===(u=this.emitter)||void 0===u||u.emit(ye.ACTIVE_STATE_CHANGE,!1)}getCanvasDimensions(){return this.broadcastCanvasManager.getCanvasDimensions()}addVideoInputDevice(i,s,u){return Rr(this,void 0,void 0,function*(){return this.broadcastCanvasManager.addVideoInputDevice(i,s,u)})}addImageSource(i,s,u){return Rr(this,void 0,void 0,function*(){return this.broadcastCanvasManager.addImageSource(i,s,u)})}addAudioInputDevice(i,s){return Rr(this,void 0,void 0,function*(){return this.broadcastCanvasManager.addAudioInputDevice(i,s)})}removeVideoInputDevice(i){this.broadcastCanvasManager.removeVideoInputDevice(i)}removeAudioInputDevice(i){this.broadcastCanvasManager.removeAudioInputDevice(i)}removeImage(i){this.broadcastCanvasManager.removeImage(i)}updateVideoDeviceComposition(i,s){this.broadcastCanvasManager.updateVideoDeviceComposition(i,s)}exchangeVideoDevicePositions(i,s){this.broadcastCanvasManager.exchangeVideoDevicePositions(i,s)}getAudioInputDevice(i){return this.broadcastCanvasManager.getAudioInputDevice(i)}getVideoInputDevice(i){return this.broadcastCanvasManager.getVideoInputDevice(i)}getConnectionState(){return this.peerClient.getConnectionState()}getSessionId(){return this.peerClient.getSessionId()}on(i,s){this.emitter.on(i,s)}off(i,s){this.emitter.off(i,s)}getAudioContext(){return this.broadcastCanvasManager.audioContext}attachPreview(i){this.broadcastCanvasManager.attachPreview(i)}detachPreview(){this.broadcastCanvasManager.detachPreview()}disableVideo(){this.broadcastCanvasManager.disableVideo()}enableVideo(){this.broadcastCanvasManager.enableVideo()}disableAudio(){this.broadcastCanvasManager.disableAudio()}enableAudio(){this.broadcastCanvasManager.enableAudio()}}function Ns(c){return new Ar(function(i){const s=new Hs;return s.streamConfig=i.streamConfig,s.ingestEndpoint=i.ingestEndpoint,s.logger=i.logger,s.logLevel=i.logLevel,s.networkReconnectConfig=i.networkReconnectConfig,s}(c))}Yr=new WeakSet,Hr=function(c){if("string"!=typeof c||!/^[a-zA-Z0-9_-]+$/.test(c))throw new y(er)};const Qi="1.5.0";var bt,Ci=St(6486);class zn{constructor(){this.abortControllers={},this._isUnloading=!1}static getInstance(){return zn.instance||(zn.instance=new zn),zn.instance}abortPendingOperations(){Object.entries(this.abortControllers).forEach(([i,s])=>s.abort())}trackNewAbortController(i){return this.abortControllers[i]=new AbortController,this.abortControllers[i]}removeAbortController(i){delete this.abortControllers[i]}get isUnloading(){return this._isUnloading}set isUnloading(i){this._isUnloading=i}}!function(c){c.PUBLISH="publish",c.SUBSCRIBE="subscribe",c.JOIN="join",c.LEAVE="leave",c.APP_TRACE="app_trace"}(bt||(bt={}));class Js extends on{constructor(i){super(It.JOIN,i.token,i.traceId,!1),Object.assign(this.properties,{action:bt.JOIN,event_endpoint:i.eventEndpoint,whip_endpoint:i.whipEndpoint})}}class Ks extends on{constructor(i){super(It.LEAVE,i.token,i.traceId,!1),Object.assign(this.properties,{action:bt.LEAVE,event_endpoint:i.eventEndpoint,whip_endpoint:i.whipEndpoint,reason:i.reason}),this.critical=!0}}class es{constructor(){this.emitter=new Yi}on(i,s){var u,k;s.call=(u=i,k=s,function(I,...T){try{k.apply(I,T)}catch(B){let M=`Error in callback for ${u}`;const O=k.name;return O&&(M+=` for function ${O}`),void console.error(`${M}\n`,B)}}),this.emitter.on(i,s)}off(i,s){this.emitter.off(i,s)}emit(i,...s){this.emitter.emit(i,...s)}removeAllListeners(){this.emitter.removeAllListeners()}}function te(c){return 1e3*c}const Te=2500,pt={maxResolution:{width:1280,height:720},maxFramerate:30,maxBitrate:Te},nt={active:!1,maxBitrate:2e5,rid:"low",maxFramerate:15,scaleResolutionDownBy:4},Ke={width:320,height:180},nn={active:!1,maxBitrate:7e5,rid:"mid",maxFramerate:20,scaleResolutionDownBy:2},Ft={width:640,height:360},jt={active:!1,maxBitrate:17e5,rid:"hi",maxFramerate:30,scaleResolutionDownBy:1},rn={width:1280,height:720};class rt extends y{constructor({token:i,traceId:s,code:u,tag:k,location:I,message:T,details:B,remoteParticipantId:M,requestUUID:O,fatal:D,nominal:ie}){super({name:"StageClientError",message:T,code:u}),Error.captureStackTrace&&Error.captureStackTrace(this,rt),this.token=i,this.traceId=s,this.code=u,this.tag=k,this.location=I,this.message=T,this.details=B,this.remoteParticipantId=M,this.requestUUID=O,this.fatal=D,this.nominal=ie}}function cn(c,i){switch(c){case bt.PUBLISH:return"webrtc_sink";case bt.SUBSCRIBE:return`webrtc_source:${i}`;default:return"unknown"}}function ln(c,i){var s,u,k,I;const T={code:c.code,message:`${c.message}: ${i.name} ${i.message}`,fatal:null!==(s=c.fatal)&&void 0!==s&&s,nominal:null!==(u=c.nominal)&&void 0!==u&&u};return i instanceof rt&&(T.fatal=null!==(k=i.fatal)&&void 0!==k&&k,T.nominal=null!==(I=i.nominal)&&void 0!==I&&I),T}var Ln;!function(c){c[c.Unspecified=2001]="Unspecified",c[c.TokenExpired=2002]="TokenExpired",c[c.NoPermissions=2003]="NoPermissions",c[c.StageAtCapacity=2005]="StageAtCapacity"}(Ln||(Ln={}));const $t={EXPIRED_TOKEN:{code:1001,message:"Token expired and is no longer valid",fatal:!0,nominal:!0},UNPUBLISH_FAILURE:{code:1013,message:"Failed to unpublish",fatal:!1,nominal:!1},UNSUBSCRIBE_FAILURE:{code:1014,message:"Failed to unsubscribe",fatal:!1,nominal:!1},PUBLISH_FAILURE:{code:1015,message:"Failed to publish",fatal:!1,nominal:!1},SUBSCRIBE_FAILURE:{code:1016,message:"Failed to subscribe",fatal:!1,nominal:!1},JOIN_FAILURE:{code:1017,message:"Failed to join",fatal:!0,nominal:!1},PUBLISH_TIMED_OUT:{code:1020,message:"Publish timed out",fatal:!1,nominal:!1},SUBSCRIBE_TIMED_OUT:{code:1021,message:"Subscribe timed out",fatal:!1,nominal:!1},NO_CANDIDATES:{code:1022,message:"No ICE candidates",fatal:!1,nominal:!1},OPERATION_ABORTED:{code:1023,message:"Request aborted",nominal:!0,fatal:!1},STAGE_AT_CAPACITY:{code:1024,message:"Stage at capacity",fatal:!0,nominal:!1},INTERNAL_SERVER_ERROR:{code:1025,message:"Internal server error",fatal:!0,nominal:!1},TOKEN_PERMISSIONS_DENIED:{code:1026,message:"Token permissions are not valid for the operation",fatal:!0,nominal:!1},UNKNOWN_PERMISSIONS_ERROR:{code:1099,message:"Service error code unknown or not found",fatal:!0,nominal:!1},WEBSOCKET_MESSAGE_PARSE_FAILURE:{code:1204,message:"Failed to parse websocket message",fatal:!1,nominal:!1},WHIP_SESSION_RESOURCE_DELETED:{code:1206,message:"WHIP signaling session resource not found",fatal:!0,nominal:!0},WHIP_TOO_MANY_REQUESTS:{code:1207,message:"WHIP endpoint received too many requests",fatal:!0,nominal:!1},WHIP_OPTIONS_FAILURE:{code:1501,message:"Failed to get ICE Servers from OPTIONS",fatal:!1,nominal:!1},WHIP_POST_FAILURE:{code:1502,message:"WHIP post failure",fatal:!1,nominal:!1},WHIP_DELETE_FAILURE:{code:1503,message:"WHIP delete failure",fatal:!1,nominal:!1},WHIP_URL_MISSING:{code:1504,message:"WHIP delete failure",fatal:!1,nominal:!1},EVENT_PLANE_CONNECTION_FAILURE:{code:1300,message:"Error connecting to event plane",fatal:!0,nominal:!1},PEER_CONNECTION_NETWORK_FAILURE:{code:1400,message:"PeerConnection is lost due to unknown network error",fatal:!1,nominal:!1},CREATE_OFFER_FAILURE:{code:1402,message:"Failed to set local description",fatal:!1,nominal:!1},CREATE_PEER_CONNECTION_FAILURE:{code:1403,message:"Failed to create a peer connection",fatal:!1,nominal:!1},ICE_CANDIDATE_ERROR:{code:1404,message:"ICE candidate error",fatal:!1,nominal:!1}};var jn;!function(c){c.UNPUBLISH="unpublish",c.UNSUBSCRIBE="unsubscribe",c.UNLOAD="unload",c.CONNECTION_FAIL="connection fail"}(jn||(jn={}));const li="stageParticipantJoined",br="stageParticipantLeft",ts="stageParticipantKicked",ms="stageParticipantUpdated",Pi="stateChange",gs="connectionStateChange",ha="stageStreamUpdate",X="open",Qs="messageParseError",Jr="refresh",Yt="connectionFailure",ns="stageStateMessage";function Oi(c){const i=atob(c);return JSON.parse(i)}class ji{constructor(i){this.rawToken=i;const s=i.split(".");if(3!==s.length)throw Error(`Token format incorrect. length: ${s.length}`);try{this.header=Oi(s[0])}catch(I){const T=I instanceof Error?`: ${I.message}`:"";throw Error(`Error parsing Stage Token header${T}`)}try{this.claims=Oi(s[1])}catch(I){const T=I instanceof Error?`: ${I.message}`:"";throw Error(`Error parsing Stage Token claims${T}`)}this.signature=s[2];const{claims:u}=this;this.stageARN=u.resource,this.participantID=u.jti,this.eventsURL=u.events_url,this.whipURL=u.whip_url,this.userID=u.user_id,this.expirationTime=u.exp,this.topic=u.topic,this.parseVersionFlags(u.version);const{attributes:k}=u;k&&(this.attrGsRole=k.gs_role,this.attrGsSessionId=k.gs_session_id),this.analyticsTracker=Zt.getInstance()}getPublishEndpoint(){let i="";return this.whipURL&&this.participantID&&(i=`${this.whipURL}/publish/${this.participantID}`),i}getSubscribeEndpoint(i){let s="";return this.whipURL&&(s=`${this.whipURL}/subscribe/${i}`),s}assertTokenIsUnexpired(i,s,u,k){(!this.expirationTime||Date.now()/1e3>=this.expirationTime)&&this.analyticsTracker.trackErrorAndThrow(new rt(Object.assign(Object.assign({},$t.EXPIRED_TOKEN),{location:u,tag:s,token:this,traceId:i,remoteParticipantId:k,message:$t.EXPIRED_TOKEN.message,details:`Token expired at ${this.expirationTime} and is no longer valid`})))}parseVersionFlags(i){if(!i)return;const s=i.split(".");2===s.length&&(this.versionFlags=parseInt(s[1],10))}shouldUseTURN(){return void 0===this.versionFlags||0!=(1&this.versionFlags)}shouldSendSilentAudio(){return void 0===this.versionFlags||0!=(2&this.versionFlags)}}function $i(c){return new ji(c)}function Kr({action:c,identifier:i,token:s,whipURLOverride:u}){let k="";const I=$i(s);switch(u&&(I.whipURL=u),c){case bt.PUBLISH:k=I.getPublishEndpoint();break;case bt.SUBSCRIBE:i&&(k=I.getSubscribeEndpoint(i))}return k}class Qa{constructor(i,s){this.throttleDuration=0,this.throttled=!1,this.timeout=0,this.unthrottle=()=>{this.trailing&&this.trailingFn&&this.trailingFn(...this.trailingFnArgs),this.clear()},this.throttleDuration=i,this.trailing=!(s&&s.skipTrailing)}invoke(i,...s){return this.throttled?(this.trailingFn=i,this.trailingFnArgs=s,!1):(this.throttled=!0,this.timeout=window.setTimeout(this.unthrottle,this.throttleDuration),i(...s),!0)}clear(){clearTimeout(this.timeout),this.timeout=0,this.throttled=!1,delete this.trailingFn,delete this.trailingFnArgs}}class Za extends on{constructor(i){super(It.PUBLISH,i.token,i.traceId,!1),Object.assign(this.properties,{action:bt.PUBLISH,remote_participant_id:i.token.participantID})}}class Mo extends on{constructor(i){super(It.UNPUBLISH,i.token,i.traceId,!0),Object.assign(this.properties,{action:bt.PUBLISH,remote_participant_id:i.token.participantID})}}class Do extends on{constructor(i){super(It.SUBSCRIBE,i.token,i.traceId,!1),Object.assign(this.properties,{action:bt.SUBSCRIBE,remote_participant_id:i.subscribedId,subscribed_id:i.subscribedId})}}class Oa extends on{constructor(i){super(It.UNSUBSCRIBE,i.token,i.traceId,!0),Object.assign(this.properties,{action:bt.SUBSCRIBE,remote_participant_id:i.unsubscribedId,unsubscribed_id:i.unsubscribedId})}}class Zs extends on{constructor(i){super(It.PUBLISH_STARTED,i.token,i.traceId,!1),Object.assign(this.properties,{action:bt.PUBLISH,options_duration:i.optionsDuration,post_duration:i.postDuration,remote_participant_id:i.token.participantID,time_to_candidate:i.timeToCandidate,total_duration:i.totalDuration})}}class fa extends on{constructor(i){super(It.PUBLISH_ENDED,i.token,i.traceId,!0),Object.assign(this.properties,{action:bt.PUBLISH,remote_participant_id:i.token.participantID,unpublish_successful:i.isUnpublishSuccessful,reason:i.reason})}}class No extends on{constructor(i){super(It.SUBSCRIBE_STARTED,i.token,i.traceId,!1),Object.assign(this.properties,{action:bt.SUBSCRIBE,options_duration:i.optionsDuration,post_duration:i.postDuration,remote_participant_id:i.remoteParticipantId,time_to_candidate:i.timeToCandidate,total_duration:i.totalDuration})}}class eo extends on{constructor(i){super(It.SUBSCRIBE_ENDED,i.token,i.traceId,!0),Object.assign(this.properties,{action:bt.SUBSCRIBE,remote_participant_id:i.remoteParticipantId,unsubscribe_successful:i.isUnsubscribeSuccessful,reason:i.reason}),this.critical=!0}}class Bi extends on{constructor(i){super(It.STATE_UPDATED,i.token,i.traceId,!1),Object.assign(this.properties,{audio_muted:i.isAudioMuted,is_disconnected:i.isDisconnected,is_publishing:i.isPublishing,other_participant_id:i.otherParticipantId,other_participant_user_id:i.otherParticipantUserId,video_stopped:i.isVideoStopped})}}var ma=St(9669),Qr=St.n(ma);class Zr extends on{constructor(i,s,u,k,I,T,B){super(It.SERVER_REQUEST,s,B,!0),Object.assign(this.properties,{action:i,http_method:k,remote_participant_id:T,request_uuid:I,url:u})}}const ea="draft-ietf-wish-whip-04";var Ra=function(c,i,s,u){return new(s||(s=Promise))(function(k,I){function T(O){try{M(u.next(O))}catch(D){I(D)}}function B(O){try{M(u.throw(O))}catch(D){I(D)}}function M(O){var D;O.done?k(O.value):(D=O.value,D instanceof s?D:new s(function(ie){ie(D)})).then(T,B)}M((u=u.apply(c,i||[])).next())})};function Ls(c,i){return Ra(this,void 0,void 0,function*(){c.validateStatus=u=>u>=200&&u<300||403===u;const s=yield Qr()(c);if(403===s.status){if(2003===s.data.code)throw new ma.AxiosError("Request failed with status code 403","ERR_BAD_REQUEST",c,s.request,s);return c.url===s.request.responseURL?(c.validateStatus=u=>u>=200&&u<300,Qr()(c)):(c.url=s.request.responseURL,i<5?Ls(c,i+1):(c.validateStatus=u=>u>=200&&u<300,Qr()(c)))}return s})}function Ui(c){return Ra(this,void 0,void 0,function*(){return Ls(c,0)})}function Aa(c){switch(c){case"new":return De.NEW;case"closed":return De.CLOSED;case"disconnected":return De.DISCONNECTED;case"failed":return De.FAILED;case"idle":return De.IDLE;case"checking":case"connecting":return De.CONNECTING;case"completed":case"connected":return De.CONNECTED;default:throw new Error(`unknown connecion state: ${c}`)}}const js="x-stages-options",Da=btoa('{"cap": ["smc"]}').replace(/[^A-Za-z0-9+/]/g,"");class ui extends on{constructor(i,s,u,k,I){super(It.TRACE,i,s,!1),Object.assign(this.properties,{action:k,message:u,remote_participant_id:I})}}class Na extends on{constructor(i,s,u,k,I){super(It.CONNECTION_STATE,s,u,!1),Object.assign(this.properties,{action:i,remote_participant_id:I,state:k})}}class ga extends on{constructor(i,s,u,k,I){super(It.ICE_GATHERING_STATE,s,u,!1),Object.assign(this.properties,{action:i,remote_participant_id:I,state:k})}}var Qn;!function(c){c.OPTIONS="options",c.POST="post",c.CONNECTED="connected",c.ICE_GATHERING="icegathering"}(Qn||(Qn={}));class ja{constructor(i,s){this.marks={},this.optionsDuration=0,this.postDuration=0,this.timeToCandidate=0,this.timeToConnected=0,this.action=i,this.traceId=s}markActionStart(){this.markStart(Qn.CONNECTED)}markOptionsStart(){this.markStart(Qn.OPTIONS)}markOptionsStop(){this.markStop(Qn.OPTIONS),this.optionsDuration=this.measure(Qn.OPTIONS)}markPostStart(){this.markStart(Qn.POST)}markPostStop(){this.markStop(Qn.POST),this.postDuration=this.measure(Qn.POST)}markIceGatheringStart(){this.markStart(Qn.ICE_GATHERING)}markIceGatheringStop(){this.markStop(Qn.ICE_GATHERING),this.timeToCandidate=this.measure(Qn.ICE_GATHERING)}markActionStop(){this.markStop(Qn.CONNECTED),this.timeToConnected=this.measure(Qn.CONNECTED)}markStart(i){this.marks[`${this.namespace}.${i}.start`]=performance.now()}markStop(i){this.marks[`${this.namespace}.${i}.stop`]=performance.now()}measure(i){const k=this.marks[`${this.namespace}.${i}.start`],I=this.marks[`${this.namespace}.${i}.stop`];return void 0===k||void 0===I?0:I-k}get namespace(){return`ivswb.peerclient.${this.action}.${this.traceId.value}`}getMeasurements(){const{optionsDuration:i,postDuration:s,timeToCandidate:u,timeToConnected:k}=this;return{optionsDuration:i,postDuration:s,timeToCandidate:u,timeToConnected:k}}}function ar(c,i,s,u,k){Zt.getInstance().trackEventNoSharedProps(new ui(c,i,s,u,k))}var Hn,ys,Ti=function(c,i,s,u){return new(s||(s=Promise))(function(k,I){function T(O){try{M(u.next(O))}catch(D){I(D)}}function B(O){try{M(u.throw(O))}catch(D){I(D)}}function M(O){var D;O.done?k(O.value):(D=O.value,D instanceof s?D:new s(function(ie){ie(D)})).then(T,B)}M((u=u.apply(c,i||[])).next())})};function $a(c){return c.track.kind===ht.AUDIO}function bs(c){return c.track.kind===ht.VIDEO}(function(c){c.DISCONNECTED="disconnected",c.CONNECTING="connecting",c.CONNECTED="connected",c.ERRORED="errored"})(Hn||(Hn={})),function(c){c.STATE_CHANGE="stateChange"}(ys||(ys={}));class Ba extends es{constructor(i,s,u,k,I=!1){super(),this.token=i,this.nonScopedLogger=s,this.mediaStreamManager=u,this.traceId=k,this.tracksToPublish=[],this.publicationState=Hn.DISCONNECTED,this.latestPubAttemptNum=0,this.isPublishing=!1,this.isStarted=!1,this.start=T=>{this.publicationState===Hn.DISCONNECTED||this.publicationState===Hn.ERRORED?(this.isStarted=!0,this.tracksToPublish=T,this.latestPubAttemptNum=0,this.processStateUpdate()):this.logger.warn({msg:"publication cannot be started if not in disconnected or error state"})},this.requestRTCStats=T=>Ti(this,void 0,void 0,function*(){return this.peerClient.requestRTCStats(T)}),this.stop=()=>Ti(this,void 0,void 0,function*(){this.peerClient.off(Re,this.onPeerClientConnectionStateChange,this),yield this.unpublish(),this.updateState(Hn.DISCONNECTED)}),this.processStateUpdate=T=>{const{publicationState:B}=this;B===Hn.DISCONNECTED||B===Hn.ERRORED?0===this.latestPubAttemptNum&&(this.updateState(Hn.CONNECTING),this.tryPublish()):B===Hn.CONNECTING?T===De.CONNECTED?this.updateState(Hn.CONNECTED):T===De.FAILED&&this.latestPubAttemptNum>=4&&this.updateState(Hn.ERRORED):B===Hn.CONNECTED&&T===De.FAILED&&0===this.latestPubAttemptNum&&(this.updateState(Hn.CONNECTING),this.tryPublish())},this.updateState=T=>{this.publicationState=T,this.emit(ys.STATE_CHANGE,T)},this.tryPublish=()=>Ti(this,void 0,void 0,function*(){if(this.latestPubAttemptNum++,this.latestPubAttemptNum<=4)try{yield this.publish(this.tracksToPublish),this.latestPubAttemptNum=0}catch(T){if(T instanceof rt&&T.fatal)return this.logger.error({msg:"fatal error publishing",err:T}),void this.updateState(Hn.ERRORED);const B=1e3*Math.pow(2,this.latestPubAttemptNum);setTimeout(()=>{this.tryPublish()},B)}}),this.publish=T=>Ti(this,void 0,void 0,function*(){this.traceId=oi();try{return this.trackPublishRequested(),this.peerClient.initTracksToPublish(T),yield this.peerClient.connect(!1,this.traceId),this.trackPublishStarted(),this.isPublishing=!0,this.peerClient}catch(B){const M=new rt(Object.assign(Object.assign({},$t.PUBLISH_FAILURE),{token:this.token,traceId:this.traceId,tag:"webrtc_sink",location:"publish"}));throw B instanceof rt&&(M.fatal=B.fatal,M.nominal=B.nominal),this.analyticsTracker.trackError(M),B instanceof rt&&(B.location=`publish > ${B.location}`),B}}),this.unpublish=()=>Ti(this,void 0,void 0,function*(){if(this.publicationState!==Hn.DISCONNECTED&&this.publicationState!==Hn.ERRORED){this.analyticsTracker.trackEventNoSharedProps(new Mo({token:this.token,traceId:this.traceId})),this.token.assertTokenIsUnexpired(this.traceId,cn(bt.PUBLISH),"unpublish",this.token.participantID);try{this.peerClient.stop();const T=zn.getInstance().isUnloading,B=T?jn.UNLOAD:jn.UNPUBLISH;T?this.peerClient.cleanup(bt.PUBLISH,this.token.participantID,this.token):yield this.peerClient.cleanup(bt.PUBLISH,this.token.participantID,this.token),this.trackPublishEnded(!0,B)}catch{const B=new rt(Object.assign(Object.assign({},$t.UNPUBLISH_FAILURE),{token:this.token,traceId:this.traceId,tag:"webrtc_unsink",location:"unpublish"}));throw this.analyticsTracker.trackError(B),this.trackPublishEnded(!1,jn.UNPUBLISH),B}}}),this.replaceOrUpdateTrack=T=>Ti(this,void 0,void 0,function*(){this.tracksToPublish.find(B=>B.track.kind===T.track.kind)?this.tracksToPublish=this.tracksToPublish.map(B=>B.track.kind===T.track.kind?T:B):this.tracksToPublish.push(T),yield this.peerClient.replaceOrUpdateTrack(T)}),this.getAudioSender=()=>this.peerClient.getAudioSender(),this.getVideoSender=()=>this.peerClient.getVideoSender(),this.onPeerClientConnectionStateChange=T=>{var B;if((null===(B=this.peerClient)||void 0===B?void 0:B.traceId)&&this.token)if(this.logger.debug({msg:`onPeerClientConnectionStateChange: ${T}`,state:T}),T===De.FAILED&&this.isPublishing&&(this.trackPublishEnded(!0,jn.CONNECTION_FAIL),this.isPublishing=!1),this.isStarted)this.processStateUpdate(T);else switch(T){case De.CONNECTING:this.publicationState=Hn.CONNECTING;break;case De.CONNECTED:this.publicationState=Hn.CONNECTED;break;case De.DISCONNECTED:this.publicationState=Hn.DISCONNECTED;break;case De.FAILED:this.publicationState=Hn.ERRORED;break;default:this.publicationState=Hn.CONNECTING}},this.trackPublishRequested=()=>{this.analyticsTracker.trackEventNoSharedProps(new Za({token:this.token,traceId:this.traceId}))},this.trackPublishStarted=()=>{if(!this.peerClient)return;const T=this.peerClient.getActionMeasurements();this.analyticsTracker.trackEventNoSharedProps(new Zs({token:this.token,traceId:this.traceId,optionsDuration:T.optionsDuration,postDuration:T.postDuration,timeToCandidate:T.timeToCandidate,totalDuration:T.timeToConnected}))},this.trackPublishEnded=(T,B)=>{this.analyticsTracker.trackEventNoSharedProps(new fa({token:this.token,isUnpublishSuccessful:T,traceId:this.traceId,reason:B}))},this.peerClient=new co(i,this.nonScopedLogger,this.mediaStreamManager,bt.PUBLISH,cn(bt.PUBLISH),this.traceId),I&&this.peerClient.setV2(),this.logger=new ne(s,$.PUBLICATION),this.analyticsTracker=Zt.getInstance(),this.peerClient.on(Re,this.onPeerClientConnectionStateChange,this)}removeTrack(i){return Ti(this,void 0,void 0,function*(){this.tracksToPublish=this.tracksToPublish.filter(s=>s.track.kind!==i),yield this.peerClient.removeTrack(i)})}}class Wn{constructor(i){this.sdp=i}static splitLines(i){return i.trim().split("\n").map(s=>s.trim())}static splitSections(i){return i.split("\nm=").map((s,u)=>(u>0?`m=${s}`:s).trim()+Wn.CRLF)}getUniqueRtpHeaderExtensionId(i){const s=[];for(const k of i)if(/^a=extmap:/.test(k.trim())){const I=+k.split("a=extmap:")[1].split(" ")[0];s.includes(I)||s.push(I)}s.sort((k,I)=>k-I);let u=0;for(const k of s){if(k-u>1)return u+1;u=k}return 14===u?-1:u+1}withVideoLayersAllocationRtpHeaderExtension(i){const s="http://www.webrtc.org/experiments/rtp-hdrext/video-layers-allocation00",u=i?i.getRtpHeaderExtensionId(s):-1,k=-1===u?this.getUniqueRtpHeaderExtensionId(Wn.splitLines(this.sdp)):u,I=Wn.splitSections(this.sdp),T=[];for(let M of I){if(/^m=video/.test(M)&&-1===Wn.getRtpHeaderExtensionIdInSection(M,s)){const O=Wn.splitLines(M),D=[];if(-1===k||this.hasRtpHeaderExtensionId(k)){T.push(M);continue}for(const ie of O)D.push(ie),/^a=sendrecv/.test(ie.trim())&&D.push(`a=extmap:${k} ${s}`);M=D.join(Wn.CRLF)+Wn.CRLF}else if(-1!==u&&/^m=video/.test(M)&&Wn.getRtpHeaderExtensionIdInSection(M,s)!==u){const O=Wn.splitLines(M),D=[];for(const ie of O)/^a=extmap:/.test(ie.trim())&&ie.split("a=extmap:")[1].split(" ")[1]===s?this.hasRtpHeaderExtensionId(u)||D.push(`a=extmap:${u} ${s}`):D.push(ie);M=D.join(Wn.CRLF)+Wn.CRLF}T.push(M)}const B=T.join("");return new Wn(B)}static getRtpHeaderExtensionIdInSection(i,s){const u=Wn.splitLines(i);for(const k of u)if(/^a=extmap:/.test(k.trim())){const I=k.split("a=extmap:")[1].split(" "),T=+I[0];if(I[1]===s)return T}return-1}getRtpHeaderExtensionId(i){const s=Wn.splitSections(this.sdp);for(const u of s)if(/^m=video/.test(u)){const k=Wn.getRtpHeaderExtensionIdInSection(u,i);if(-1!==k)return k}return-1}hasRtpHeaderExtensionId(i){const s=Wn.splitLines(this.sdp);for(const u of s)if(/^a=extmap:/.test(u.trim())&&+u.split("a=extmap:")[1].split(" ")[0]===i)return!0;return!1}}Wn.CRLF="\r\n",Wn.rfc7587LowestBitrate=6e3,Wn.rfc7587HighestBitrate=51e4;class no extends on{constructor(i,s,u){var k,I;super(It.PUBLISHED_VIDEO_STATS,i,s,!1);const T=Zt.getInstance().getSfuResource();var B,M,O,D,ie;Object.assign(this.properties,Object.assign({action:bt.PUBLISH,node:null!==(k=T?.node)&&void 0!==k?k:"",cluster:null!==(I=T?.cluster)&&void 0!==I?I:""},{bytes_sent:(B=u).bytesSent,fir_count:B.firCount,frames_encoded:B.framesEncoded,frames_sent:B.framesSent,header_bytes_sent:B.headerBytesSent,huge_frames_sent:B.hugeFramesSent,key_frames_encoded:B.keyFramesEncoded,nack_count:B.nackCount,packets_sent:B.packetsSent,pli_count:B.pliCount,quality_limitation_reason:B.qualityLimitationReason,quality_limitation_resolution_changes:B.qualityLimitationResolutionChanges,retransmitted_bytes_sent:B.retransmittedBytesSent,retransmitted_packets_sent:B.retransmittedPacketsSent,total_encode_time:B.totalEncodeTime,total_encoded_bytes_target:B.totalEncodedBytesTarget,total_packet_send_delay:B.totalPacketsSendDelay,frame_width:null!==(M=B.frameWidth)&&void 0!==M?M:0,frame_height:null!==(O=B.frameHeight)&&void 0!==O?O:0,frames_per_second:null!==(D=B.framesPerSecond)&&void 0!==D?D:0,active:!!B.framesPerSecond&&0!==B.framesPerSecond,rid:null!==(ie=B.rid)&&void 0!==ie?ie:"no-rid"}))}}class Ua extends on{constructor(i,s,u,k){var I,T;super(It.PUBLISHED_VIDEO_STATS_WINDOW,i,s,!1);const B=Zt.getInstance().getSfuResource();var M,O,D,ie,Se,me;Object.assign(this.properties,Object.assign({action:bt.PUBLISH,node:null!==(I=B?.node)&&void 0!==I?I:"",cluster:null!==(T=B?.cluster)&&void 0!==T?T:"",windowSizeMs:u.timestamp-k.timestamp},{bytes_sent:(M=u).bytesSent-(O=k).bytesSent,fir_count:M.firCount-O.firCount,frames_encoded:M.framesEncoded-O.framesEncoded,frames_sent:M.framesSent-O.framesSent,header_bytes_sent:M.headerBytesSent-O.headerBytesSent,huge_frames_sent:M.hugeFramesSent-O.hugeFramesSent,key_frames_encoded:M.keyFramesEncoded-O.keyFramesEncoded,nack_count:M.nackCount-O.nackCount,packets_sent:M.packetsSent-O.packetsSent,pli_count:M.pliCount-O.pliCount,quality_limitation_reason:M.qualityLimitationReason,quality_limitation_resolution_changes:M.qualityLimitationResolutionChanges,retransmitted_bytes_sent:M.retransmittedBytesSent-O.retransmittedBytesSent,retransmitted_packets_sent:M.retransmittedPacketsSent-O.retransmittedPacketsSent,total_encode_time:M.totalEncodeTime-O.totalEncodeTime,total_encoded_bytes_target:M.totalEncodedBytesTarget-O.totalEncodedBytesTarget,total_packet_send_delay:M.totalPacketSendDelay-O.totalPacketSendDelay,frame_width:null!==(D=M.frameWidth)&&void 0!==D?D:0,frame_height:null!==(ie=M.frameHeight)&&void 0!==ie?ie:0,frames_per_second:null!==(Se=M.framesPerSecond)&&void 0!==Se?Se:0,active:!!M.framesPerSecond&&0!==M.framesPerSecond,rid:null!==(me=M.rid)&&void 0!==me?me:"no-rid"}))}}class jo extends on{constructor(i,s,u){var k,I;super(It.PUBLISHED_AUDIO_STATS,i,s,!1);const T=Zt.getInstance().getSfuResource();var B;Object.assign(this.properties,Object.assign({action:bt.PUBLISH,node:null!==(k=T?.node)&&void 0!==k?k:"",cluster:null!==(I=T?.cluster)&&void 0!==I?I:""},{bytes_sent:(B=u).bytesSent,header_bytes_sent:B.headerBytesSent,nack_count:B.nackCount,packets_sent:B.packetsSent,retransmitted_bytes_sent:B.retransmittedBytesSent,retransmitted_packets_sent:B.retransmittedPacketsSent}))}}class Fa extends on{constructor(i,s,u,k){var I,T;super(It.PUBLISHED_AUDIO_STATS_WINDOW,i,s,!1);const B=Zt.getInstance().getSfuResource();var M,O;Object.assign(this.properties,Object.assign({action:bt.PUBLISH,node:null!==(I=B?.node)&&void 0!==I?I:"",cluster:null!==(T=B?.cluster)&&void 0!==T?T:"",windowSizeMs:u.timestamp-k.timestamp},{bytes_sent:(M=u).bytesSent-(O=k).bytesSent,header_bytes_sent:M.headerBytesSent-O.headerBytesSent,nack_count:M.nackCount-O.nackCount,packets_sent:M.packetsSent-O.packetsSent,retransmitted_bytes_sent:M.retransmittedBytesSent-O.retransmittedBytesSent,retransmitted_packets_sent:M.retransmittedPacketsSent-O.retransmittedPacketsSent}))}}class ro extends on{constructor(i,s,u,k){var I,T;super(It.SUBSCRIBED_VIDEO_STATS,i,s,!1);const B=Zt.getInstance().getSfuResource();var M,O,D,ie;Object.assign(this.properties,Object.assign({action:bt.SUBSCRIBE,node:null!==(I=B?.node)&&void 0!==I?I:"",cluster:null!==(T=B?.cluster)&&void 0!==T?T:"",remote_participant_id:u},{bytes_received:(M=k).bytesReceived,fir_count:M.firCount,frames_decoded:M.framesDecoded,frames_dropped:M.framesDropped,frames_received:M.framesReceived,header_bytes_received:M.headerBytesReceived,jitter_buffer_delay:M.jitterBufferDelay,key_frames_decoded:M.keyFramesDecoded,nack_count:M.nackCount,packets_discarded:M.packetsDiscarded,packets_lost:M.packetsLost,packets_received:M.packetsReceived,pli_count:M.pliCount,total_freezes_duration:M.totalFreezesDuration,total_pauses_duration:M.totalPausesDuration,freeze_count:M.freezeCount,pause_count:M.pauseCount,frame_width:null!==(O=M.frameWidth)&&void 0!==O?O:0,frame_height:null!==(D=M.frameHeight)&&void 0!==D?D:0,frames_per_second:null!==(ie=M.framesPerSecond)&&void 0!==ie?ie:0}))}}class io extends on{constructor(i,s,u,k,I){var T,B;super(It.SUBSCRIBED_VIDEO_STATS_WINDOW,i,s,!1);const M=Zt.getInstance().getSfuResource();var O,D,ie,Se,me;Object.assign(this.properties,Object.assign({action:bt.SUBSCRIBE,node:null!==(T=M?.node)&&void 0!==T?T:"",cluster:null!==(B=M?.cluster)&&void 0!==B?B:"",windowSizeMs:k.timestamp-I.timestamp,remote_participant_id:u},{bytes_received:(O=k).bytesReceived-(D=I).bytesReceived,fir_count:O.firCount-D.firCount,frames_decoded:O.framesDecoded-D.framesDecoded,frames_dropped:O.framesDropped-D.framesDropped,frames_received:O.framesReceived-D.framesReceived,header_bytes_received:O.headerBytesReceived-D.headerBytesReceived,jitter_buffer_delay:O.jitterBufferDelay-D.jitterBufferDelay,key_frames_decoded:O.keyFramesDecoded-D.keyFramesDecoded,nack_count:O.nackCount-D.nackCount,packets_discarded:O.packetsDiscarded-D.packetsDiscarded,packets_lost:O.packetsLost-D.packetsLost,packets_received:O.packetsReceived-D.packetsReceived,pli_count:O.pliCount-D.pliCount,total_freezes_duration:O.totalFreezesDuration-D.totalFreezesDuration,total_pauses_duration:O.totalPausesDuration-D.totalPausesDuration,freeze_count:O.freezeCount-D.freezeCount,pause_count:O.pauseCount-D.pauseCount,frame_width:null!==(ie=O.frameWidth)&&void 0!==ie?ie:0,frame_height:null!==(Se=O.frameHeight)&&void 0!==Se?Se:0,frames_per_second:null!==(me=O.framesPerSecond)&&void 0!==me?me:0}))}}class so extends on{constructor(i,s,u,k){var I,T;super(It.SUBSCRIBED_AUDIO_STATS,i,s,!1);const B=Zt.getInstance().getSfuResource();var M;Object.assign(this.properties,Object.assign({action:bt.SUBSCRIBE,node:null!==(I=B?.node)&&void 0!==I?I:"",cluster:null!==(T=B?.cluster)&&void 0!==T?T:"",remote_participant_id:u},{bytes_received:(M=k).bytesReceived,concealed_samples:M.concealedSamples,header_bytes_received:M.headerBytesReceived,inserted_samples_for_deceleration:M.insertedSamplesForDeceleration,jitter_buffer_delay:M.jitterBufferDelay,packets_discarded:M.packetsDiscarded,packets_lost:M.packetsLost,packets_received:M.packetsReceived,removed_samples_for_acceleration:M.removedSamplesForAcceleration,total_samples_received:M.totalSamplesReceived}))}}class va extends on{constructor(i,s,u,k,I){var T,B;super(It.SUBSCRIBED_AUDIO_STATS_WINDOW,i,s,!1);const M=Zt.getInstance().getSfuResource();var O,D;Object.assign(this.properties,Object.assign({action:bt.SUBSCRIBE,windowSizeMs:k.timestamp-I.timestamp,node:null!==(T=M?.node)&&void 0!==T?T:"",cluster:null!==(B=M?.cluster)&&void 0!==B?B:"",remote_participant_id:u},{bytes_received:(O=k).bytesReceived-(D=I).bytesReceived,concealed_samples:O.concealedSamples-D.concealedSamples,header_bytes_received:O.headerBytesReceived-D.headerBytesReceived,inserted_samples_for_deceleration:O.insertedSamplesForDeceleration-D.insertedSamplesForDeceleration,jitter_buffer_delay:O.jitterBufferDelay-D.jitterBufferDelay,packets_discarded:O.packetsDiscarded-D.packetsDiscarded,packets_lost:O.packetsLost-D.packetsLost,packets_received:O.packetsReceived-D.packetsReceived,removed_samples_for_acceleration:O.removedSamplesForAcceleration-D.removedSamplesForAcceleration,total_samples_received:O.totalSamplesReceived-D.totalSamplesReceived}))}}class ao extends on{constructor(i,s,u,k,I){super(It.MINUTE,i,s,!1),Object.assign(this.properties,{action:k?bt.PUBLISH:bt.SUBSCRIBE,is_publishing:k,minutes_logged:u,subscribed_number:I})}}class ya extends on{constructor(i,s,u,k){super(It.SIMULCAST_LAYER_INFO,i,s,!1),Object.assign(this.properties,{rid:u,active:k})}}class oo extends on{constructor(i,s,u){super(It.MULTIHOST_CONFIGURATION,i,s,!1),Object.assign(this.properties,Object.assign({},u))}}var $s=function(c,i,s,u){return new(s||(s=Promise))(function(k,I){function T(O){try{M(u.next(O))}catch(D){I(D)}}function B(O){try{M(u.throw(O))}catch(D){I(D)}}function M(O){var D;O.done?k(O.value):(D=O.value,D instanceof s?D:new s(function(ie){ie(D)})).then(T,B)}M((u=u.apply(c,i||[])).next())})};const ba="no-rid";class Bs{constructor(i,s,u,k){this.minutesLogged=0,this.simulcastEnabled=!1,this.simulcastState={low:!1,mid:!1,hi:!1},this.multihostConfiguration=Bs.defaultMultihostConfiguration(),this.prevVideoStats=new Map,this.onPeerConnectionStateChange=()=>{switch(this.getConnectionState()){case De.CONNECTED:this.setupIntervals();break;case De.FAILED:this.flushStats()}},this.action=i,this.token=s,this.traceId=u,this.analyticsTracker=Zt.getInstance(),this.identifier=k}static defaultMultihostConfiguration(){return{video_codec:"unknown",width:0,height:0,max_bitrate:0,min_bitrate:0,target_fps:0,echo_cancellation:!1,auto_gain:!1,noise_suppression:!1,enable_simulcast:!1}}start(i,s=!1){this.peerConnection=i,this.simulcastEnabled=s,this.prevAudioStats=void 0,this.prevVideoStats=new Map,this.peerConnection.addEventListener("connectionstatechange",this.onPeerConnectionStateChange)}stop(){var i;clearInterval(this.uploadMinutesLoggedInterval),this.uploadMinutesLoggedInterval=void 0,clearInterval(this.uploadStatsInterval),this.uploadStatsInterval=void 0,null===(i=this.peerConnection)||void 0===i||i.removeEventListener("connectionstatechange",this.onPeerConnectionStateChange)}updateMultihostConfiguration(i,s){var u,k,I,T,B,M;return $s(this,void 0,void 0,function*(){if(this.action!==bt.PUBLISH||!this.peerConnection)return;const O=Bs.defaultMultihostConfiguration();if(s){const D=this.peerConnection.getSenders().filter(Se=>null!==Se.track&&"video"===Se.track.kind);D.length>0&&(yield D[0].getStats()).forEach(Se=>{"codec"===Se.type&&(O.video_codec=Se.mimeType)});const ie=s.track.getSettings();O.width=null!==(u=ie.width)&&void 0!==u?u:0,O.height=null!==(k=ie.height)&&void 0!==k?k:0,O.target_fps=null!==(I=ie.frameRate)&&void 0!==I?I:0,s.config?(O.max_bitrate=s.config.maxBitrateBps,O.min_bitrate=s.config.minBitrateBps,O.enable_simulcast=s.config.simulcastEnabled):(O.max_bitrate=te(Te),O.min_bitrate=te(200),O.enable_simulcast=!1)}if(i){const D=i.track.getSettings();O.auto_gain=null!==(T=D.autoGainControl)&&void 0!==T&&T,O.echo_cancellation=null!==(B=D.echoCancellation)&&void 0!==B&&B,O.noise_suppression=null!==(M=D.noiseSuppression)&&void 0!==M&&M}(0,Ci.isEqual)(O,this.multihostConfiguration)||(this.analyticsTracker.trackEventNoSharedProps(new oo(this.token,this.traceId,O)),this.multihostConfiguration=O)})}setupIntervals(){this.action===bt.PUBLISH&&(this.uploadMinutesLoggedInterval||(this.uploadMinutePublishedEvent(),this.uploadMinutesLoggedInterval=this.startInterval(this.uploadMinutePublishedEvent,6e4)),this.simulcastEnabled&&!this.pollSimulcastLayerInterval&&(this.pollSimulcastLayers(),this.pollSimulcastLayerInterval=this.startInterval(this.pollSimulcastLayers,5e3))),this.uploadStatsInterval||(this.uploadStats(),this.uploadStatsInterval=this.startInterval(this.uploadStats,1e4))}startInterval(i,s){return setInterval(i.bind(this),s)}getConnectionState(){var i;if(!this.peerConnection)return De.NONE;const s=null!==(i=this.peerConnection.connectionState)&&void 0!==i?i:this.peerConnection.iceConnectionState;try{return Aa(s)}catch{return De.IDLE}}pollSimulcastLayers(){var i;return $s(this,void 0,void 0,function*(){if(this.getConnectionState()===De.CONNECTED){const s=yield null===(i=this.peerConnection)||void 0===i?void 0:i.getStats();if(!s)return;s.forEach(u=>{var k;if("outbound-rtp"===u.type){const I=0!==(null!==(k=u.framesPerSecond)&&void 0!==k?k:0);switch(u.rid){case"low":I!==this.simulcastState.low&&(this.simulcastState.low=I,this.analyticsTracker.trackEventNoSharedProps(new ya(this.token,this.traceId,u.rid,I)));break;case"mid":I!==this.simulcastState.mid&&(this.simulcastState.mid=I,this.analyticsTracker.trackEventNoSharedProps(new ya(this.token,this.traceId,u.rid,I)));break;case"hi":I!==this.simulcastState.hi&&(this.simulcastState.hi=I,this.analyticsTracker.trackEventNoSharedProps(new ya(this.token,this.traceId,u.rid,I)))}}})}})}uploadMinutePublishedEvent(){this.getConnectionState()===De.CONNECTED&&(this.analyticsTracker.trackEventNoSharedProps(new ao(this.token,this.traceId,this.minutesLogged,!0,0)),this.minutesLogged++)}flushStats(){var i;return $s(this,void 0,void 0,function*(){const s=yield null===(i=this.peerConnection)||void 0===i?void 0:i.getStats();s&&(this.action===bt.PUBLISH?this.uploadPublisherStats(s):this.action===bt.SUBSCRIBE&&this.uploadSubscriberStats(s))})}uploadStats(){var i;return $s(this,void 0,void 0,function*(){if(this.getConnectionState()===De.CONNECTED){const s=yield null===(i=this.peerConnection)||void 0===i?void 0:i.getStats();if(!s)return;this.action===bt.PUBLISH?this.uploadPublisherStats(s):this.action===bt.SUBSCRIBE&&this.uploadSubscriberStats(s)}})}uploadPublisherStats(i){i.forEach(s=>{if("outbound-rtp"===s.type)switch(s.kind){case"audio":this.analyticsTracker.trackEventNoSharedProps(new jo(this.token,this.traceId,s)),this.prevAudioStats&&this.analyticsTracker.trackEventNoSharedProps(new Fa(this.token,this.traceId,s,this.prevAudioStats)),this.prevAudioStats=s;break;case"video":this.analyticsTracker.trackEventNoSharedProps(new no(this.token,this.traceId,s));const u=this.getPrevVideoStat(s);u&&this.analyticsTracker.trackEventNoSharedProps(new Ua(this.token,this.traceId,s,u)),this.setPrevVideoStat(s)}})}uploadSubscriberStats(i){i.forEach(s=>{if("inbound-rtp"===s.type)switch(s.kind){case"audio":this.analyticsTracker.trackEventNoSharedProps(new so(this.token,this.traceId,this.identifier,s)),this.prevAudioStats&&this.analyticsTracker.trackEventNoSharedProps(new va(this.token,this.traceId,this.identifier,s,this.prevAudioStats)),this.prevAudioStats=s;break;case"video":this.analyticsTracker.trackEventNoSharedProps(new ro(this.token,this.traceId,this.identifier,s));const u=this.getPrevVideoStat(s);u&&this.analyticsTracker.trackEventNoSharedProps(new io(this.token,this.traceId,this.identifier,s,u)),this.setPrevVideoStat(s)}})}getPrevVideoStat(i){return this.simulcastEnabled&&i.rid&&this.prevVideoStats.has(i.rid)?this.prevVideoStats.get(i.rid):!this.simulcastEnabled&&this.prevVideoStats.has(ba)?this.prevVideoStats.get(ba):void 0}setPrevVideoStat(i){this.simulcastEnabled&&i.rid?this.prevVideoStats.set(i.rid,i):this.simulcastEnabled||this.prevVideoStats.set(ba,i)}}var Er=function(c,i,s,u){return new(s||(s=Promise))(function(k,I){function T(O){try{M(u.next(O))}catch(D){I(D)}}function B(O){try{M(u.throw(O))}catch(D){I(D)}}function M(O){var D;O.done?k(O.value):(D=O.value,D instanceof s?D:new s(function(ie){ie(D)})).then(T,B)}M((u=u.apply(c,i||[])).next())})};let Gt=null;class co{constructor(i,s,u,k,I,T,B,M){if(this.sentOffer=!1,this.v2=!1,this.subscribeToAudioOnly=!1,this.stageCapabilities={simulcastNegotiated:!1},this.connect=(O=!1,D)=>Er(this,void 0,void 0,function*(){const{token:ie,tag:Se,identifier:me,action:ot}=this;let Ot,_t,Mt;const gn=()=>{this.emitter.off(ut,Ot),this.emitter.off(Re,_t)};this.traceId=D,this.subscribeToAudioOnly=O;const un=new Promise((tr,xi)=>{const pr=setTimeout(()=>{this.stop();const Tn=new rt(Object.assign(Object.assign({},ot===bt.SUBSCRIBE?$t.SUBSCRIBE_TIMED_OUT:$t.PUBLISH_TIMED_OUT),{token:ie,traceId:this.traceId,tag:Se,location:"connect",remoteParticipantId:me}));this.analyticsTracker.trackError(Tn),xi(Tn)},1e4);Ot=Gn=>{clearTimeout(pr),this.stop(),xi(Gn)},_t=Gn=>{Gn===De.CONNECTED&&(clearTimeout(pr),tr())},this.emitter.on(ut,Ot),this.emitter.on(Re,_t),Mt=()=>{clearTimeout(pr)}});try{yield this.start();const tr=yield this.addTransceivers();return yield un,zn.getInstance().removeAbortController(me),{mediaStream:tr}}catch(tr){throw Mt&&Mt(),tr}finally{gn()}}),this.disconnect=()=>Er(this,void 0,void 0,function*(){const{token:O,action:D}=this;this.stop(),zn.getInstance().isUnloading?this.cleanup(D,O.participantID,O):yield this.cleanup(D,O.participantID,O)}),this.onTrack=O=>{const{token:D,action:ie,traceId:Se,identifier:me}=this;ar(D,Se,`onTrack: ${O.track.kind}`,ie,me)},this.onIceGatheringStateChange=()=>{var O,D;const{token:ie,action:Se,traceId:me,identifier:ot}=this;if("gathering"===(null===(O=this.peerConnection)||void 0===O?void 0:O.iceGatheringState)&&this.perfTracker.markIceGatheringStart(),this.peerConnection){const _t=new ga(Se,ie,me,this.peerConnection.iceGatheringState,ot);this.analyticsTracker.trackEventNoSharedProps(_t)}ar(ie,me,`ICE gathering state change: ${null===(D=this.peerConnection)||void 0===D?void 0:D.iceGatheringState}`,Se,ot)},this.onIceCandidate=O=>Er(this,void 0,void 0,function*(){var D,ie,Se,me;const{token:ot,identifier:Ot,action:_t,sentOffer:Mt,traceId:gn}=this,un=null===(D=O.target.localDescription)||void 0===D?void 0:D.sdp.includes("relay");if(this.analyticsTracker.trackEventNoSharedProps(new ui(this.token,gn,`ice candidate: hasRelay = ${un}, candidate = ${null===(ie=O.candidate)||void 0===ie?void 0:ie.candidate}`,_t,Ot)),!un&&ot.shouldUseTURN()||Mt||void 0===(null===(Se=O.candidate)||void 0===Se?void 0:Se.candidate)||(this.perfTracker.markIceGatheringStop(),this.sentOffer=!0,this.perfTracker.markPostStart(),yield this.fetchAndSetRemoteDescription(_t,Ot,ot,this.responseURL),this.perfTracker.markPostStop()),!Mt&&void 0===(null===(me=O.candidate)||void 0===me?void 0:me.candidate)){const tr=new rt(Object.assign(Object.assign({},$t.NO_CANDIDATES),{token:ot,traceId:gn,tag:cn(_t,Ot),location:"StagePeerClient.start",remoteParticipantId:Ot}));return this.analyticsTracker.trackError(tr),void this.emitter.emit(ut,tr)}}),this.onMute=()=>Er(this,void 0,void 0,function*(){const{token:O,action:D,traceId:ie,identifier:Se}=this;ar(O,ie,"Track has muted",D,Se)}),this.onUnMute=()=>Er(this,void 0,void 0,function*(){const{token:O,action:D,traceId:ie,identifier:Se}=this;ar(O,ie,"Track has unmuted",D,Se)}),this.stopRemoteVideo=()=>{if(!this.videoTransceiver){const D=new Error("no video transciever to stop");throw this.logger.error({err:D,msg:"error stopping video"}),D}const{mid:O}=this.videoTransceiver;if(!O){const D=new Error("no mid for transceiver");throw this.logger.error({err:D,msg:"error stopping video"}),D}this.sendMediaControlsRequest({pause:[O]})},this.startRemoteVideo=()=>{if(!this.videoTransceiver){const D=new Error("no video transciever to start");throw this.logger.error({err:D,msg:"error starting video"}),D}const{mid:O}=this.videoTransceiver;if(!O){const D=new Error("no mid for transceiver");throw this.logger.error({err:D,msg:"error starting video"}),D}this.sendMediaControlsRequest({play:[O]})},this.sendMediaControlsRequest=O=>{var D;if(this.action!==bt.SUBSCRIBE){const me=new Error("media controls not supported for publisher peer connections");throw this.logger.error({err:me,msg:"tried to send media controls request for PUBLISHER peer connection"}),me}if(null===(D=this.whipResource)||void 0===D||!D.mediaControls){const me=new Error("media controls url undefined");throw this.logger.error({err:me,msg:"error sending media controls request"}),me}const{mediaControls:ie}=this.whipResource,Se=Kn();Qr().post(ie,JSON.stringify(O),{headers:{Authorization:`Bearer ${this.token.rawToken}`,"Content-Type":"application/json","X-Stages-Platform":"web","X-Stages-Request-ID":Se.value,"X-Stages-SDK":"1.5.0","X-Stages-Session-ID":Li(this.token),"X-Stages-Trace-ID":this.traceId.value,"X-Stages-WHIP-Version":ea}}).then(me=>{if(me.status>=300){const ot=new Error(`got bad status ${me.status} from media controls request`);throw this.logger.error({err:ot,msg:"error sending media controls request"}),ot}},me=>{throw me})},this.fetchAndSetRemoteDescription=(O,D,ie,Se)=>Er(this,void 0,void 0,function*(){var me,ot,Ot,_t;const Mt=Kn();try{const gn="POST";this.analyticsTracker.trackEventNoSharedProps(new Zr(O,ie,Se,gn,Mt.value,D,this.traceId));const un=zn.getInstance().trackNewAbortController(D),{data:tr,headers:xi,request:pr}=yield Ui({data:null===(ot=null===(me=this.peerConnection)||void 0===me?void 0:me.localDescription)||void 0===ot?void 0:ot.sdp,headers:{Authorization:`Bearer ${ie.rawToken}`,"Content-Type":"application/sdp","X-Stages-Platform":"web","X-Stages-Request-ID":Mt.value,"X-Stages-SDK":"1.5.0","X-Stages-Session-ID":Li(ie),"X-Stages-Trace-ID":this.traceId.value,"X-Stages-WHIP-Version":ea},method:gn,responseType:"text",url:Se,signal:un.signal});if(this.analyticsTracker.setSfuResource(function(Gn){const Tn=Gn.match(/https:\/\/([^/]+)\//);if(Tn){const Cr=Tn[1].split(".");if(Cr[0].includes("video-rtx"))return{node:`${Cr[0]}.${Cr[1]}`,cluster:Cr[1]}}}(pr.responseURL)),xi.location){const Gn=new URL(pr.responseURL);this.whipResource={path:`${Gn.protocol}//${Gn.hostname}${Gn.port?`:${Gn.port}`:""}${xi.location}`}}null===(Ot=xi.link)||void 0===Ot||Ot.split(",").forEach(Gn=>{const Tn=this.parseWhipLinkExtension(Gn);if(3===Tn?.length)switch(Tn[2]){case"urn:ietf:params:whip:ivs-stages:session-delete":{const Cr=new URL(pr.responseURL),aa=Cr.port?`:${Cr.port}`:"";this.whipResource&&(this.whipResource.sessionDelete=`${Cr.protocol}//${Cr.hostname}${aa}${Tn[1]}`);break}case"urn:ietf:params:whep:core:playback-controls":{const Cr=new URL(pr.responseURL),aa=Cr.port?`:${Cr.port}`:"";this.whipResource&&(this.whipResource.mediaControls=`${Cr.protocol}//${Cr.hostname}${aa}${Tn[1]}`);break}}}),yield null===(_t=this.peerConnection)||void 0===_t?void 0:_t.setRemoteDescription({sdp:tr,type:"answer"})}catch(gn){if(Qr().isCancel(gn)){const tr=new rt(Object.assign(Object.assign({},ln($t.OPERATION_ABORTED,gn)),{token:ie,traceId:this.traceId,tag:cn(O,D),location:"StagePeerClient.start",requestUUID:Mt,remoteParticipantId:D}));return this.analyticsTracker.trackError(tr),void this.emitter.emit(ut,tr)}const un=new rt(Object.assign(Object.assign({},ln($t.WHIP_POST_FAILURE,gn)),{token:ie,traceId:this.traceId,tag:cn(O,D),location:"StagePeerClient.start",requestUUID:Mt,remoteParticipantId:D}));this.analyticsTracker.trackError(un),this.emitter.emit(ut,un)}}),this.cleanup=(O,D,ie)=>Er(this,void 0,void 0,function*(){var Se,me,ot,Ot;let _t=Kr({action:O,identifier:D,token:ie.rawToken,whipURLOverride:this.whipUrlOverride});const Mt=Kn();if(ar(ie,this.traceId,`token dataplane url: ${_t}`,O,D),!(null===(Se=this.whipResource)||void 0===Se)&&Se.path&&(_t=null===(me=this.whipResource)||void 0===me?void 0:me.path,ar(ie,this.traceId,`use hostnamecachedurl: ${_t}`,O,D)),_t||this.analyticsTracker.trackErrorAndThrow(new rt(Object.assign(Object.assign({},$t.WHIP_URL_MISSING),{token:ie,traceId:this.traceId,tag:cn(O,D),location:O===bt.SUBSCRIBE?"unsubscribe":"unpublish",requestUUID:Mt,remoteParticipantId:D}))),zn.getInstance().isUnloading){if(null!==(Ot=this.whipResource)&&void 0!==Ot&&Ot.sessionDelete){_t=this.whipResource.sessionDelete,ar(ie,this.traceId,`DELETE via session-delete beacon path: ${_t}`,O,D);try{navigator.sendBeacon(_t,JSON.stringify({authorization:ie.rawToken}))}catch(gn){this.analyticsTracker.trackErrorAndThrow(new rt(Object.assign(Object.assign({},ln($t.WHIP_DELETE_FAILURE,gn)),{token:ie,traceId:this.traceId,tag:cn(O,D),location:bt.SUBSCRIBE?"unsubscribe":"unpublish",requestUUID:Mt,remoteParticipantId:D})))}}}else try{yield Qr().delete(_t,{headers:{Authorization:`Bearer ${ie.rawToken}`,"X-Stages-Platform":"web","X-Stages-Request-ID":Mt.value,"X-Stages-SDK":"1.5.0","X-Stages-Session-ID":Li(ie),"X-Stages-Trace-ID":this.traceId.value,"X-Stages-WHIP-Version":ea}})}catch(gn){404===(null===(ot=gn.response)||void 0===ot?void 0:ot.status)?ar(ie,this.traceId,`DELETE returned 404, ignoring, action = ${O}, uuid = ${Mt.value}`,O,D):this.analyticsTracker.trackErrorAndThrow(new rt(Object.assign(Object.assign({},ln($t.WHIP_DELETE_FAILURE,gn)),{token:ie,traceId:this.traceId,tag:cn(O,D),location:bt.SUBSCRIBE?"unsubscribe":"unpublish",requestUUID:Mt,remoteParticipantId:D})))}}),this.getConnectionState=()=>{if(!this.peerConnection)return De.NONE;const O=this.peerConnection.connectionState||this.peerConnection.iceConnectionState;try{return Aa(O)}catch{return this.logger.warn({msg:"Unhandled connection state:",rawState:O}),De.IDLE}},this.getValidPeerConnectionCanThrow=()=>{if(!this.peerConnection)throw new Error("missing peer connection");return this.peerConnection},this.onIceCandidateError=O=>{const{token:D,traceId:ie,tag:Se}=this;if(701!==O.errorCode){const me=new rt(Object.assign(Object.assign({},$t.ICE_CANDIDATE_ERROR),{token:D,traceId:ie,tag:Se,location:"onIceCandidateError",remoteParticipantId:this.identifier}));this.analyticsTracker.trackError(me),this.emitter.emit(ut,me)}},this.onIceConnectionStateChange=()=>{var O;const{token:D,traceId:ie,action:Se,identifier:me}=this;ar(D,ie,`ICE connection state change: ${null===(O=this.peerConnection)||void 0===O?void 0:O.iceConnectionState}`,Se,me),this.onConnectionStateChange()},this.onConnectionStateChange=()=>{var O;if(this.peerConnection){const ie=this.peerConnection.connectionState||this.peerConnection.iceConnectionState,{token:Se,traceId:me,identifier:ot,action:Ot}=this,_t=new Na(Ot,Se,me,ie,ot);this.analyticsTracker.trackEventNoSharedProps(_t),ar(Se,me,`connection state change: ${ie}`,Ot,ot)}const D=this.getConnectionState();switch(D){case De.CONNECTED:{this.perfTracker.markActionStop(),this.emitter.emit(Re,D);const ie=this.mediaStreamManager.getTrack(ht.AUDIO),Se=this.mediaStreamManager.getTrack(ht.VIDEO);if(Se){const ot=Se.getSettings();this.analyticsTracker.trackEvent(new Vs(ot))}if(ie){const ot=ie.getSettings();this.analyticsTracker.trackEvent(new Ii(ot))}const me=(null===(O=this.peerConnection)||void 0===O?void 0:O.getSenders())||[];this.statsReporter.updateMultihostConfiguration(this.audioTrackForPub,this.videoTrackForPub),me.forEach(ot=>{var Ot;((null===(Ot=ot.getParameters())||void 0===Ot?void 0:Ot.codecs)||[]).forEach(_t=>{var Mt;switch(null===(Mt=ot.track)||void 0===Mt?void 0:Mt.kind){case"video":{if(!Se)break;const gn=(new Ae).extractVideoSdpFmtpLine(_t.sdpFmtpLine),un=Se.getSettings();this.analyticsTracker.trackEvent(new Rs(un,gn,_t));break}case"audio":if(!ie)break;this.analyticsTracker.trackEvent(new Ji(_t))}})});break}case De.FAILED:this.emitter.emit(Re,D),this.handleConnectionFailure();break;default:this.emitter.emit(Re,D)}},this.token=i,this.logger=new ne(s,$.WEBRTC),this.action=k,this.tag=I,this.traceId=T,this.analyticsTracker=Zt.getInstance(),this.mediaStreamManager=u,this.emitter=new Yi,k===bt.SUBSCRIBE&&!B)throw new Error("Subscribe action provided without subscriber Id");this.subscriberId=B,this.perfTracker=new ja(this.action,this.traceId),this.whipUrlOverride=M,this.statsReporter=new Bs(k,i,T,this.identifier)}setV2(){this.v2=!0}start(){var i,s,u;return Er(this,void 0,void 0,function*(){const{token:k,action:I,traceId:T,identifier:B}=this;I!==bt.PUBLISH||k.claims.capabilities.allow_publish||this.analyticsTracker.trackErrorAndThrow(new rt(Object.assign(Object.assign({},ln($t.TOKEN_PERMISSIONS_DENIED,new Error("Cannot publish with subscribe only token"))),{token:k,traceId:T,tag:cn(I,B),location:"StagePeerClient.start",remoteParticipantId:B})));let M=Kr({action:I,identifier:B,token:k.rawToken,whipURLOverride:this.whipUrlOverride}),O=[];try{if(this.perfTracker.markActionStart(),k.shouldUseTURN()){let D;this.perfTracker.markOptionsStart(),({iceCredentials:O,responseURL:M,stageCapabilities:D}=yield function to({action:c,identifier:i,token:s,traceId:u,tag:k,configFeatures:I}){var T;return function(c,i,s,u){return new(s||(s=Promise))(function(k,I){function T(O){try{M(u.next(O))}catch(D){I(D)}}function B(O){try{M(u.throw(O))}catch(D){I(D)}}function M(O){var D;O.done?k(O.value):(D=O.value,D instanceof s?D:new s(function(ie){ie(D)})).then(T,B)}M((u=u.apply(c,[])).next())})}(this,0,void 0,function*(){const B=$i(s),M=Kn(),O=Zt.getInstance();try{const D=Kr({action:c,identifier:i,token:s});if(!D)throw Error("Could not find URL in token");const ie="OPTIONS";O.trackEventNoSharedProps(new Zr(c,B,D,ie,M.value,i,u));const Se=zn.getInstance().trackNewAbortController(i),me={Authorization:`Bearer ${s}`,"X-Stages-Platform":"web","X-Stages-Request-ID":M.value,"X-Stages-SDK":"1.5.0","X-Stages-Session-ID":Li(B),"X-Stages-Trace-ID":u.value,"X-Stages-WHIP-Version":ea};I.simulcastEnabled&&(me[js]=Da);const{headers:ot,request:Ot}=yield Ui({headers:me,method:ie,url:D,signal:Se.signal}),_t={simulcastNegotiated:!1};if(ot[js]){const gn=JSON.parse(atob(ot[js]));I.simulcastEnabled&&(null===(T=gn.cap)||void 0===T?void 0:T.includes("smc"))&&(_t.simulcastNegotiated=!0)}if(!ot.link)throw Error("Headers returned from OPTIONS request missing link entry");const Mt=[];if(ot.link.split(",").forEach(gn=>{const un={credential:"",urls:"",username:""};gn.split(";").forEach(tr=>{const xi=tr.split(/=(.*)/s);if(tr.startsWith("turn:")||tr.startsWith("<turn:")){let pr=tr.trim();pr.startsWith("<turn:")&&pr.endsWith(">")&&(pr=pr.slice(1,-1)),un.urls=pr}else if(3===xi.length){const pr=xi[1].trim().slice(1,-1);switch(xi[0].trim()){case"credential":un.credential=pr;break;case"username":un.username=pr}}}),""!==un.credential&&""!==un.urls&&""!==un.username&&Mt.push(un)}),0===Mt.length)throw Error("OPTIONS response contained link header, but no valid ICE Servers");return{iceCredentials:Mt,responseURL:Ot.responseURL,stageCapabilities:_t}}catch(D){Qr().isCancel(D)&&O.trackErrorAndThrow(new rt(Object.assign(Object.assign({},ln($t.OPERATION_ABORTED,D)),{token:B,tag:k,traceId:u,location:"getTurnCredentials",remoteParticipantId:i,requestUUID:M})));const ie=function(Se){var me,ot,Ot,_t,Mt;if(null===(me=Se.response)||void 0===me||!me.status)return;const gn=Number(null===(ot=Se.response)||void 0===ot?void 0:ot.status);if(!(gn<400)){if(gn>=400&&gn<=403&&(null===(Ot=Se.response)||void 0===Ot?void 0:Ot.data)&&(null===(_t=Se.response)||void 0===_t?void 0:_t.data).code)switch((null===(Mt=Se.response)||void 0===Mt?void 0:Mt.data).code){case Ln.TokenExpired:return $t.EXPIRED_TOKEN;case Ln.NoPermissions:return $t.TOKEN_PERMISSIONS_DENIED;case Ln.StageAtCapacity:return $t.STAGE_AT_CAPACITY;default:return $t.UNKNOWN_PERMISSIONS_ERROR}switch(gn){case 404:return $t.WHIP_SESSION_RESOURCE_DELETED;case 429:return $t.WHIP_TOO_MANY_REQUESTS;case 500:return $t.INTERNAL_SERVER_ERROR;default:return $t.UNKNOWN_PERMISSIONS_ERROR}}}(D);ie&&O.trackErrorAndThrow(new rt(Object.assign(Object.assign({},ln(ie,D)),{token:B,tag:k,traceId:u,location:"getTurnCredentials",remoteParticipantId:i,requestUUID:M}))),O.trackErrorAndThrow(new rt(Object.assign(Object.assign({},ln($t.WHIP_OPTIONS_FAILURE,D)),{token:B,tag:k,traceId:u,location:"getTurnCredentials",remoteParticipantId:i,requestUUID:M})))}})}({action:I,identifier:B,token:k.rawToken,traceId:T,tag:this.tag,configFeatures:{simulcastEnabled:null!==(u=null===(s=null===(i=this.videoTrackForPub)||void 0===i?void 0:i.config)||void 0===s?void 0:s.simulcastEnabled)&&void 0!==u&&u}})),this.stageCapabilities=D,this.perfTracker.markOptionsStop(),this.analyticsTracker.trackEventNoSharedProps(new ui(this.token,T,`ice url list = ${O.map(ie=>ie.urls)}`,I,B))}this.sentOffer=!1,this.responseURL=M,this.peerConnection=new RTCPeerConnection({iceServers:O,iceTransportPolicy:k.shouldUseTURN()?"relay":"all"}),this.statsReporter.start(this.peerConnection,this.stageCapabilities.simulcastNegotiated),this.peerConnection.addEventListener("connectionstatechange",this.onConnectionStateChange),this.peerConnection.addEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),this.peerConnection.addEventListener("icecandidateerror",this.onIceCandidateError),this.peerConnection.addEventListener("icegatheringstatechange",this.onIceGatheringStateChange),this.peerConnection.addEventListener("icecandidate",this.onIceCandidate),this.peerConnection.addEventListener("track",this.onTrack),this.peerConnection.addEventListener("mute",this.onMute),this.peerConnection.addEventListener("unmute",this.onUnMute),ar(k,T,"peer connection created",I,B)}catch(D){const ie=new rt(Object.assign(Object.assign({},ln($t.CREATE_PEER_CONNECTION_FAILURE,D)),{token:k,traceId:T,tag:cn(I,B),location:"StagePeerClient.start",remoteParticipantId:B}));I===bt.PUBLISH&&this.emitter.emit(Re,De.FAILED),this.emitter.emit(ut,ie),this.analyticsTracker.trackErrorAndThrow(ie)}})}stop(){var i,s,u,k,I,T,B,M,O;this.statsReporter.stop(),null===(i=this.peerConnection)||void 0===i||i.removeEventListener("connectionstatechange",this.onConnectionStateChange),null===(s=this.peerConnection)||void 0===s||s.removeEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),null===(u=this.peerConnection)||void 0===u||u.removeEventListener("icecandidateerror",this.onIceCandidateError),null===(k=this.peerConnection)||void 0===k||k.removeEventListener("icegatheringstatechange",this.onIceGatheringStateChange),null===(I=this.peerConnection)||void 0===I||I.removeEventListener("track",this.onTrack),null===(T=this.peerConnection)||void 0===T||T.removeEventListener("mute",this.onMute),null===(B=this.peerConnection)||void 0===B||B.removeEventListener("unmute",this.onUnMute),null===(M=this.peerConnection)||void 0===M||M.removeEventListener("icecandidate",this.onIceCandidate),null===(O=this.peerConnection)||void 0===O||O.close()}getTransceiverForKind(i){if(!this.peerConnection)return;const s=this.peerConnection.getTransceivers();return"audio"===i?s.find(u=>"0"===u.mid):"video"===i?s.find(u=>"1"===u.mid):void 0}removeTrack(i){return Er(this,void 0,void 0,function*(){if(this.peerConnection&&("audio"===i||"video"===i))try{const u=this.getTransceiverForKind(i);if(!u)return void this.logger.warn({msg:`tried removing track type ${i} but couldn't find transceiver`});yield u.sender.replaceTrack(null),i===ht.AUDIO?this.audioTrackForPub=void 0:this.videoTrackForPub=void 0,yield this.statsReporter.updateMultihostConfiguration(this.audioTrackForPub,this.videoTrackForPub)}catch(u){this.logger.warn({msg:"error replacing track",err:u})}})}replaceOrUpdateTrack(i){return Er(this,void 0,void 0,function*(){if(this.peerConnection&&i.track){$a(i)?this.audioTrackForPub=i:bs(i)&&(this.videoTrackForPub=i);try{const s=this.getTransceiverForKind(i.track.kind);if(!s)return void this.logger.warn({msg:`tried replacing track type ${i.track.kind} but couldn't find transceiver`,track:i.track});if(bs(i)){const u=s.sender.getParameters(),k=this.getEncodingLayersFromConfig(this.stageCapabilities.simulcastNegotiated,i);u.encodings=u.encodings.map(I=>{var T;const B=null!==(T=I.rid)&&void 0!==T?T:"",M=k.find(O=>{var D;return(null!==(D=O.rid)&&void 0!==D?D:"")===B});return M?Object.assign(Object.assign({},I),M):I}),yield s.sender.setParameters(u)}yield s.sender.replaceTrack(i.track),yield this.statsReporter.updateMultihostConfiguration(this.audioTrackForPub,this.videoTrackForPub)}catch(s){this.logger.warn({msg:"error replacing track",err:s})}}})}addTransceivers(){var i,s;return Er(this,void 0,void 0,function*(){const{traceId:u,token:k,action:I,identifier:T}=this;yr(this.peerConnection);let B,M=null;if(I===bt.PUBLISH){if(this.audioTrackForPub||(this.audioTrackForPub={track:this.getSilentAudio()}),!this.videoTrackForPub&&!this.v2)throw new Error("We cannot configure transceivers without a video track");const O=this.peerConnection.getTransceivers(),D=[];O.forEach(_t=>{var Mt;D.concat(null===(Mt=_t.sender.track)||void 0===Mt?void 0:Mt.id)});const ie=new MediaStream([this.audioTrackForPub.track,null===(i=this.videoTrackForPub)||void 0===i?void 0:i.track].filter(_t=>!!_t&&!D.includes(_t.id))),Se=ie.getAudioTracks()[0]||"audio",me=ie.getVideoTracks()[0]||"video",ot={direction:"sendonly",streams:[ie]},Ot={direction:"sendrecv",streams:[ie],sendEncodings:this.getEncodingLayersFromConfig(this.stageCapabilities.simulcastNegotiated,this.videoTrackForPub)};this.peerConnection.addTransceiver(Se,ot),ar(k,u,`track added, type: ${Se.kind||Se}`,I,T),this.peerConnection.addTransceiver(me,Ot),ar(k,u,`track added, type: ${me.kind||me}`,I,T)}else if(I===bt.SUBSCRIBE){if(k.shouldSendSilentAudio()){const O="audio"===(null===(s=this.customSilentAudioTrackForSub)||void 0===s?void 0:s.kind)?this.customSilentAudioTrackForSub:this.getSilentAudio();this.peerConnection.addTransceiver(O,{direction:"sendrecv"})}else this.peerConnection.addTransceiver("audio",{direction:"recvonly"});ar(k,u,"track added, type: audio",I,T),this.subscribeToAudioOnly||(this.videoTransceiver=this.peerConnection.addTransceiver("video",{direction:"recvonly"}),ar(k,u,"track added, type: video",I,T)),M=new MediaStream,this.peerConnection.getTransceivers().forEach(O=>{O.receiver?(this.logger.info({msg:"dbg: Subscribe succeeded, adding media track to participant mediaStream"}),M?.addTrack(O.receiver.track)):this.logger.info({msg:"dbg: Subscribe succeeded, but Transceiver were negotiated without Receiver"})})}try{ar(this.token,u,"Creating offer",this.action,T),B=yield this.peerConnection.createOffer(),ar(this.token,u,"Setting local description",this.action,T)}catch(O){const D=new rt(Object.assign(Object.assign({},ln($t.CREATE_OFFER_FAILURE,O)),{token:this.token,traceId:u,tag:this.tag,location:"addTransceivers",remoteParticipantId:T}));this.emitter.emit(ut,D),this.analyticsTracker.trackErrorAndThrow(D)}return this.stageCapabilities.simulcastNegotiated&&(B.sdp=new Wn(B.sdp).withVideoLayersAllocationRtpHeaderExtension().sdp),yield this.peerConnection.setLocalDescription(B),ar(this.token,u,"local description set",this.action,T),M})}getEncodingLayersFromConfig(i,s){var u,k;const I=s?.track,T=s?.config;if(i&&I){const B=(0,Ci.cloneDeep)([{encodingParams:nt,targetResolution:Ke},{encodingParams:nn,targetResolution:Ft},{encodingParams:jt,targetResolution:rn}]),{height:M,width:O}=I.getSettings(),D=M&&O?{width:O,height:M}:void 0;for(const me of B){me.encodingParams.active=!0;let ot=1;D&&(ot=Math.floor(Math.sqrt(D.width*D.height/(me.targetResolution.width*me.targetResolution.height))),ot=Math.max(ot,1)),me.encodingParams.scaleResolutionDownBy=ot}let ie=null!==(u=T?.maxBitrateBps)&&void 0!==u?u:jt.maxBitrate;const Se=null!==(k=T?.maxFramerate)&&void 0!==k?k:jt.maxFramerate;return ie<nn.maxBitrate&&(ie=jt.maxBitrate),B[2].encodingParams.maxBitrate=ie,B[2].encodingParams.maxFramerate=Se,B[2].encodingParams.scaleResolutionDownBy=1,B.map(me=>me.encodingParams)}return T?[{maxBitrate:T.maxBitrateBps,maxFramerate:T.maxFramerate}]:[{maxBitrate:te(Te),maxFramerate:30}]}getReports(){var i;return Er(this,void 0,void 0,function*(){try{const s=(yield null===(i=this.peerConnection)||void 0===i?void 0:i.getStats())||[],u=[];return s.forEach(k=>{u.push(k)}),u}catch{return[]}})}requestRTCStats(i){return Er(this,void 0,void 0,function*(){if(this.peerConnection)return this.peerConnection.getStats(i)})}get identifier(){return this.subscriberId||this.token.participantID}handleConnectionFailure(){return Er(this,void 0,void 0,function*(){const{token:i,traceId:s,tag:u}=this;this.analyticsTracker.trackError(new rt(Object.assign(Object.assign({},$t.PEER_CONNECTION_NETWORK_FAILURE),{token:i,traceId:s,tag:u,location:"onIceCandidateError",remoteParticipantId:this.identifier})))})}on(i,s,u){this.emitter.on(i,s,u)}off(i,s,u){this.emitter.off(i,s,u)}getSilentAudio(){Gt||(Gt=new AudioContext);const i=Gt.createOscillator(),s=Gt.createGain();i.connect(s);const u=Gt.createMediaStreamDestination();return s.connect(u),s.gain.value=0,i.start(),u.stream.getAudioTracks()[0]}getActionMeasurements(){return this.perfTracker.getMeasurements()}getAudioSender(){var i;return null===(i=this.peerConnection)||void 0===i?void 0:i.getSenders().find(s=>{var u;return"audio"===(null===(u=s.track)||void 0===u?void 0:u.kind)})}getVideoSender(){var i;return null===(i=this.peerConnection)||void 0===i?void 0:i.getSenders().find(s=>{var u;return"video"===(null===(u=s.track)||void 0===u?void 0:u.kind)})}parseWhipLinkExtension(i){return/<([0-9a-zA-Z/_-]+)>; rel="([a-z:-]+)"/.exec(i)}initTracksToPublish(i){this.videoTrackForPub=i.find(bs),this.audioTrackForPub=i.find($a)}setCustomSilentAudioTrackForSub(i){this.customSilentAudioTrackForSub=i}}var ta,rs,Mr,ei,Ha,Mn,Ri,Bn,Gr,ss,Ss,Fi,na=function(c,i,s,u){return new(s||(s=Promise))(function(k,I){function T(O){try{M(u.next(O))}catch(D){I(D)}}function B(O){try{M(u.throw(O))}catch(D){I(D)}}function M(O){var D;O.done?k(O.value):(D=O.value,D instanceof s?D:new s(function(ie){ie(D)})).then(T,B)}M((u=u.apply(c,i||[])).next())})},Wr=function(c,i,s,u){if("a"===s&&!u)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof i?c!==i||!u:!i.has(c))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===s?u:"a"===s?u.call(c):u?u.value:i.get(c)};(function(c){c.INIT="init",c.CONNECTING="connecting",c.CONNECTED="connected",c.UNSTABLE="unstable",c.PAUSED="paused",c.FAILED="failed",c.STOPPED="stopped"})(Mr||(Mr={})),function(c){c.NONE="none",c.AUDIO_ONLY="audio_only",c.AUDIO_VIDEO="audio_video"}(ei||(ei={}));class $o{constructor(i,s,u,k,I,T,B){this.id=i,this.token=s,this.stageConnection=u,this.nonScopedLogger=k,this.mediaStreamManager=I,this.traceId=T,this.customSilentAudioTrack=B,ta.add(this),this.emitter=new Yi.EventEmitter,this.isSubscriptionActive=!1,this.subscriptionState={connectionState:Mr.INIT,subscribeInProgress:!1},this.previousSignalState={isTargetPublishing:!1},this.failedRetries=0,this.throttler=new Qa(1e3),this.isStarted=!1,this.updateSubscribeType=M=>{M===ei.AUDIO_ONLY?this.peerClient.stopRemoteVideo():M===ei.AUDIO_VIDEO&&this.peerClient.startRemoteVideo()},this.onParticipantUpdated=M=>{Wr(this,ta,"m",rs).call(this,M)&&(this.logger.debug({msg:"onParticipantUpdated",participant:M}),this.onSignalStateChange({isTargetPublishing:M.isPublishing}))},this.onParticipantJoined=M=>{Wr(this,ta,"m",rs).call(this,M)&&(this.logger.debug({msg:"onParticipantJoined",participant:M}),this.onSignalStateChange({isTargetPublishing:M.isPublishing}))},this.onParticipantLeft=M=>{Wr(this,ta,"m",rs).call(this,M)&&(this.logger.debug({msg:"onParticipantLeft",participant:M}),this.onSignalStateChange({isTargetPublishing:!1}))},this.requestRTCStats=M=>na(this,void 0,void 0,function*(){return this.peerClient.requestRTCStats(M)}),this.attemptSubscribe=M=>na(this,void 0,void 0,function*(){if(this.logger.debug({msg:`Subscribe attempt started: ${M}`}),!this.isSubscriptionActive)return this.logger.warn({msg:"Subscribe attempt invalid: Subscription is inactive"}),!1;this.logger.debug({msg:"Subscribe attempt is valid."}),this.subscriptionState.connectionState!==Mr.FAILED&&(this.logger.debug({msg:"Updating state to CONNECTING"}),this.changeState({connectionState:Mr.CONNECTING}));try{const{mediaStream:O}=yield this.subscribe();return this.throttler.clear(),this.failedRetries=0,this.emitter.emit(ha,O),this.logger.debug({msg:"Subscribe attempt succeeded"}),!0}catch(O){this.logger.error({log:"Subscribe attempt failed",err:O}),this.onAttemptSubscribeFailure(M)}return!1}),this.id=i,this.token=s,this.stageConnection=u,this.peerClient=new co(s,this.nonScopedLogger,this.mediaStreamManager,bt.SUBSCRIBE,cn(bt.SUBSCRIBE,i),this.traceId,i),this.logger=new ne(k,$.SUBSCRIPTION),this.analyticsTracker=Zt.getInstance(),this.traceId=T}onPeerClientConnectionStateChange(i){const s=this.stageConnection.getParticipant(this.id);this.logger.debug({msg:`onPeerClientConnectionStateChange: ${i}`,state:i,targetParticipant:s}),this.onSignalStateChange({peerClientState:i})}onSignalStateChange(i){const s=this.previousSignalState,u=Object.assign({},s,i);this.isSubscriptionActive?(u.isTargetPublishing?i.peerClientState===De.DISCONNECTED?this.changeState({connectionState:Mr.UNSTABLE}):i.peerClientState===De.CONNECTED?this.changeState({connectionState:Mr.CONNECTED,subscribeInProgress:!0}):i.peerClientState===De.FAILED&&this.subscriptionState.subscribeInProgress&&(this.trackSubscribeEnded(!1,jn.CONNECTION_FAIL),this.changeState({subscribeInProgress:!1})):(s.isTargetPublishing&&this.subscriptionState.subscribeInProgress&&(this.logger.debug({msg:"Scheduling an unsubscribe on the event loop"}),this.unsubscribe()),this.throttler.clear(),this.changeState({connectionState:Mr.PAUSED})),(!s.isTargetPublishing&&i.isTargetPublishing||i.peerClientState===De.FAILED)&&this.throttledAttemptSubscribe("onSignalState change: isTargetPublishing is now true"),Object.assign(this.previousSignalState,i)):this.logger.warn({msg:"Unexpected onSignalStateChange when subscription is inactive"})}onAttemptSubscribeFailure(i){if(this.logger.debug({msg:"Changing/keeping state FAILED"}),this.changeState({connectionState:Mr.FAILED}),this.failedRetries<=4){const s=1e3*Math.pow(2,this.failedRetries);this.logger.debug({msg:`Retrying in ${s}ms`}),this.failedRetries++,setTimeout(()=>na(this,void 0,void 0,function*(){this.throttledAttemptSubscribe(i)}),s)}else this.previousSignalState.isTargetPublishing=!1}start(){this.isSubscriptionActive=!0,this.isStarted=!0,this.peerClient.on(Re,this.onPeerClientConnectionStateChange,this),this.stageConnection.on(ms,this.onParticipantUpdated),this.stageConnection.on(li,this.onParticipantJoined),this.stageConnection.on(br,this.onParticipantLeft),this.stageConnection.on(ts,this.onParticipantLeft);const i=this.stageConnection.getParticipant(this.id);this.onSignalStateChange({isTargetPublishing:i?.isPublishing})}throttledAttemptSubscribe(i){return this.throttler.invoke(this.attemptSubscribe,i)}changeState(i){void 0!==i.subscribeInProgress&&(this.subscriptionState.subscribeInProgress=i.subscribeInProgress),i.connectionState&&this.subscriptionState.connectionState!==i.connectionState&&(this.subscriptionState.connectionState=i.connectionState,this.emitter.emit(gs,this.subscriptionState.connectionState))}on(i,s){this.emitter.on(i,s)}off(i,s){this.emitter.off(i,s)}stop(){this.cleanUp(),this.changeState({connectionState:Mr.STOPPED})}cleanUp(){this.peerClient&&(this.peerClient.off(Re,this.onPeerClientConnectionStateChange,this),this.unsubscribe()),this.throttler.clear(),this.stageConnection.off(ms,this.onParticipantUpdated),this.stageConnection.off(li,this.onParticipantJoined),this.stageConnection.off(br,this.onParticipantLeft),this.stageConnection.off(ts,this.onParticipantLeft),this.isSubscriptionActive=!1,zn.getInstance().abortPendingOperations()}isActive(){return this.isSubscriptionActive}getSubscriptionConnectionState(){return this.subscriptionState.connectionState}subscribe(i){return na(this,void 0,void 0,function*(){const{token:s,id:u,customSilentAudioTrack:k}=this;this.traceId=oi();try{s.assertTokenIsUnexpired(this.traceId,cn(bt.SUBSCRIBE,u),"subscribe",u),this.trackSubscribeRequested(),k&&s.shouldSendSilentAudio()&&this.peerClient.setCustomSilentAudioTrackForSub(k);const{mediaStream:I}=yield this.peerClient.connect(i,this.traceId);return this.trackSubscribeStarted(),this.isStarted||(this.subscriptionState={connectionState:Mr.CONNECTED,subscribeInProgress:!0}),{peerClient:this.peerClient,mediaStream:I}}catch(I){const T=new rt(Object.assign(Object.assign({},$t.SUBSCRIBE_FAILURE),{token:s,traceId:this.traceId,tag:cn(bt.SUBSCRIBE,u),location:"subscribe",remoteParticipantId:u}));throw this.analyticsTracker.trackEventNoSharedProps(new ur(T)),I instanceof rt&&(I.location=`subscribe > ${I.location}`),I}})}unsubscribe(){return na(this,void 0,void 0,function*(){if(this.subscriptionState.connectionState===Mr.STOPPED||this.subscriptionState.connectionState===Mr.INIT)return;const{id:i,token:s}=this;this.analyticsTracker.trackEventNoSharedProps(new Oa({token:s,unsubscribedId:i,traceId:this.traceId})),s.assertTokenIsUnexpired(this.traceId,cn(bt.SUBSCRIBE,i),"unsubscribe",i);const u=zn.getInstance().isUnloading,k=u?jn.UNLOAD:jn.UNSUBSCRIBE;try{if(!this.peerClient)throw new Error("Invalid unpublish - no peerClient");u?this.peerClient.disconnect():yield this.peerClient.disconnect(),this.trackSubscribeEnded(!0,k),this.isStarted||(this.subscriptionState={connectionState:Mr.STOPPED,subscribeInProgress:!0}),this.changeState({subscribeInProgress:!1})}catch{this.trackAndThrowUnsubscribeError(k)}})}trackAndThrowUnsubscribeError(i){const s=new rt(Object.assign(Object.assign({},$t.UNSUBSCRIBE_FAILURE),{token:this.token,traceId:this.traceId,tag:cn(bt.SUBSCRIBE,this.id),location:"unsubscribe",remoteParticipantId:this.id}));throw this.analyticsTracker.trackError(s),this.trackSubscribeEnded(!1,i),s}trackSubscribeRequested(){this.analyticsTracker.trackEventNoSharedProps(new Do({token:this.token,subscribedId:this.id,traceId:this.traceId}))}trackSubscribeStarted(){const{optionsDuration:i,postDuration:s,timeToCandidate:u,timeToConnected:k}=this.peerClient.getActionMeasurements();this.analyticsTracker.trackEventNoSharedProps(new No({token:this.token,traceId:this.traceId,remoteParticipantId:this.id,optionsDuration:i,postDuration:s,timeToCandidate:u,totalDuration:k}))}trackSubscribeEnded(i,s){this.analyticsTracker.trackEventNoSharedProps(new eo({token:this.token,traceId:this.traceId,remoteParticipantId:this.id,isUnsubscribeSuccessful:i,reason:s}))}}ta=new WeakSet,rs=function(c){return c.id===this.id};class Sa extends on{constructor(i){super(It.EDP_CONNECTED,i.token,i.traceId,!1),Object.assign(this.properties,{event_endpoint:i.eventEndpoint,protocol:i.protocol,retry_times:i.numRetries})}}class za extends on{constructor(i){super(It.EDP_DISCONNECTED,i.token,i.traceId,!1),Object.assign(this.properties,{event_endpoint:i.eventEndpoint,protocol:i.protocol})}}class lo extends on{constructor(i){super(It.EDP_PONG,i.token,i.traceId,!1),Object.assign(this.properties,{event_endpoint:i.eventEndpoint,protocol:i.protocol,edp_rtt:i.edpRttMs})}}!function(c){c.MESSAGE="message",c.RESPONSE="response"}(Ha||(Ha={}));class ti{constructor(i){this.protocol="",this.connecting=!1,this.closing=!1,this.closingForError=!1,this.nextConnectionAttempt=0,this.windowUnloading=!1,this.pingInterval=0,this.pongTimeout=0,this.latestPingTimestamp=0,this.pongCount=0,this.latestSequenceNumber=0,this.beforeUnload=()=>{this.windowUnloading=!0},this.logger=new ne(i,$.SOCKET),this.emitter=new Yi.EventEmitter,this.analyticsTracker=Zt.getInstance(),this.connectionAttempts=0,this.sentPing=!1,this.receivedPong=!1,this.id=`[${Kn().value}] `,window.addEventListener("beforeunload",this.beforeUnload)}connect(i,s,u){this.logger.debug({msg:`${this.id}connecting to ${i}`}),this.addr=i||this.addr,this.token=s||this.token,this.traceId=u||this.traceId;const{topic:k,rawToken:I}=this.token;this.connecting=!0,this.closing=!1;try{this.socket=this.createWebSocket(`${this.addr}?topic=${k}/publishers`,I),this.socket.onmessage=this.onMessage.bind(this),this.socket.onerror=this.onError.bind(this),this.socket.onclose=this.onClose.bind(this),this.socket.onopen=this.onOpen.bind(this),this.protocol=this.socket.protocol}catch{this.emitter.emit(Yt,new Error("UnableToConnect"))}}send(i){var s;this.logger.debug({msg:`${this.id}sending ${JSON.stringify(i)}`}),this.isReady()?null===(s=this.socket)||void 0===s||s.send(JSON.stringify(i)):this.logger.warn({msg:"Trying to send data over stage socket that is not ready"})}close(){this.closing=!0,this.connecting=!1,this.emitter.emit("close"),this.closeSocket()}removeAllListeners(){window.removeEventListener("beforeunload",this.beforeUnload),this.emitter.removeAllListeners()}createWebSocket(i,s){return new WebSocket(i,s)}closeForError(){this.closingForError=!0,this.closeSocket()}closeSocket(){var i;this.logger.debug({msg:`${this.id}closing`}),this.clearTimeouts(),null===(i=this.socket)||void 0===i||i.close(),this.socket&&(this.socket.onmessage=null,this.socket.onerror=null,this.socket.onclose=null,this.socket.onopen=null)}on(i,s){this.emitter.on(i,s)}off(i,s){this.emitter.off(i,s)}isReady(){return this.logger.debug({msg:`${this.id}isReady called`}),!!this.socket&&this.socket.readyState===this.socket.OPEN}onMessage(i){this.logger.debug({msg:`${this.id}received message: ${i.data}`});try{const s=JSON.parse(i.data);switch(s.type){case"STAGE_STATE":case"aws:ivs:STAGE_STATE":{const u=s.payload.sequenceNumber;u>this.latestSequenceNumber&&(this.emitter.emit(ns,s),this.latestSequenceNumber=u);break}case"PONG":this.receivedPong=!0,this.pongCount%2==0&&this.analyticsTracker.trackEventNoSharedProps(new lo({token:this.token,eventEndpoint:this.token.eventsURL,protocol:this.protocol,traceId:this.traceId,edpRttMs:performance.now()-this.latestPingTimestamp})),this.pongCount++;break;case"REFRESH":this.emitter.emit(Jr);break;default:(0,Ci.noop)()}}catch(s){this.logger.debug({msg:`onMessage JSON Parse error: ${s}`}),this.emitter.emit(Qs,s)}}onError(i){this.logger.debug({msg:`${this.id}error: ${JSON.stringify(i)}`})}onClose(i){if(this.logger.debug({msg:`${this.id}onClose triggered with code (closing = ${this.closing}, closingForError = ${this.closingForError}, connecting = ${this.connecting})`}),this.clearTimeouts(),this.connecting){let s=Math.pow(2,this.connectionAttempts);s>1e3&&(s=1e3),this.logger.debug({msg:`${this.id}reconnecting in ${s} seconds`}),this.connectionAttempts+=1,this.nextConnectionAttempt=window.setTimeout(this.connect.bind(this),1e3*s)}else if(this.closing)this.closing=!1;else if(this.closingForError)this.emitter.emit(Yt,new Error("ClosedForError")),this.closingForError=!1;else{if(this.windowUnloading)return;this.logger.debug({msg:`${this.id}unexpected close`}),this.emitter.emit(Yt,new Error("UnintentionalError"))}}onOpen(){this.logger.debug({msg:`${this.id} socket opened`});const i=this.connectionAttempts;this.connectionAttempts=0,this.connecting=!1,this.ping(),this.pingInterval=window.setInterval(this.ping.bind(this),3e4),this.emitter.emit(X,{attempts:i})}ping(){var i;this.logger.debug({msg:`${this.id}sending PING`});try{this.latestPingTimestamp=performance.now(),null===(i=this.socket)||void 0===i||i.send(JSON.stringify({type:"PING"})),this.sentPing=!0,this.receivedPong=!1,this.pongTimeout&&clearTimeout(this.pongTimeout),this.pongTimeout=window.setTimeout(this.pongTimedOut.bind(this),5e3)}catch{this.closeForError()}}pongTimedOut(){this.sentPing&&!this.receivedPong&&(this.logger.debug({msg:`${this.id}Pong timed out!`}),this.closeForError())}clearTimeouts(){this.sentPing=this.receivedPong=!1,clearTimeout(this.pongTimeout),clearInterval(this.pingInterval),clearTimeout(this.nextConnectionAttempt)}}!function(c){c.DISCONNECTED="disconnected",c.CONNECTING="connecting",c.CONNECTED="connected",c.ERRORED="errored"}(Mn||(Mn={}));class Ea extends es{constructor(i){super(),this.nonScopedLogger=i,this.participants=new Map,this.disconnected=[],this.state={value:Mn.DISCONNECTED,context:{hasConnected:!1}},this.onConnecting=(s,u)=>{if(this.logger.debug({msg:"onConnecting",context:s,event:u}),"RECONNECT"===u.type&&this.stageSocket.close(),"CONNECT"===u.type&&(s.token=u.payload.token,s.traceId=u.payload.traceId),!s.token||!s.traceId)return void this.logger.warn({msg:"Attempting a connect but no token OR traceId provided"});const{eventsURL:k}=s.token;this.stageSocket.connect(k,s.token,s.traceId),this.emit(Pi,Mn.CONNECTING),this.state.value=Mn.CONNECTING},this.onConnected=(s,u)=>{this.logger.debug({msg:"onConnected",context:s,event:u}),s.hasConnected=!0,this.emit("stageJoined"),this.emit(Pi,Mn.CONNECTED),this.state.value=Mn.CONNECTED},this.onDisconnected=s=>{this.logger.debug({msg:"onDisconnected",context:s}),this.stageSocket.close(),s.hasConnected=!1,delete s.traceId,delete s.token,this.emit(Pi,Mn.DISCONNECTED),this.state.value=Mn.DISCONNECTED},this.onErrored=(s,u)=>{this.logger.error({msg:"Connection failure occurred",err:u.payload.error}),this.emit(Pi,Mn.ERRORED),this.state.value=Mn.ERRORED,s.hasConnected&&s.token&&s.traceId?this.processStateUpdate({type:"RECONNECT"}):this.stageSocket.close()},this.processStateUpdate=s=>{const k=this.state.context;switch(this.state.value){case Mn.DISCONNECTED:"CONNECT"===s.type&&this.onConnecting(k,s);break;case Mn.CONNECTING:"RECONNECT"===s.type?this.onConnecting(k,s):"DISCONNECT"===s.type?this.onDisconnected(k):"CONNECT_SUCCESS"===s.type?this.onConnected(k,s):"ERROR"===s.type&&this.onErrored(k,s);break;case Mn.CONNECTED:"RECONNECT"===s.type?this.onConnecting(k,s):"DISCONNECT"===s.type?this.onDisconnected(k):"ERROR"===s.type&&this.onErrored(k,s);break;case Mn.ERRORED:"RECONNECT"===s.type?this.onConnecting(k,s):"DISCONNECT"===s.type&&this.onDisconnected(k)}},this.trackConnectedEvent=(s,u,k)=>{this.analyticsTracker.trackEventNoSharedProps(new Sa({token:s,eventEndpoint:s.eventsURL,numRetries:k,protocol:this.stageSocket.protocol,traceId:u}))},this.trackDisconnectedEvent=(s,u)=>{this.analyticsTracker.trackEventNoSharedProps(new za({token:s,eventEndpoint:s.eventsURL,protocol:this.stageSocket.protocol,traceId:u}))},this.trackMessageParseError=(s,u)=>k=>{this.logger.error({msg:"Message Parse Error occurred",err:k});const I=new rt({token:s,traceId:u,code:$t.WEBSOCKET_MESSAGE_PARSE_FAILURE.code,tag:"signalling_session",location:"onMessage",message:$t.WEBSOCKET_MESSAGE_PARSE_FAILURE.message,details:k.message});this.analyticsTracker.trackEventNoSharedProps(new ur(I))},this.onStageStateMessage=(s,u)=>k=>{var I,T;this.logger.debug({msg:"State Stage Message occurred",state:k});const B=k.payload,M=null!==(I=B.participants)&&void 0!==I?I:[],O=null!==(T=B.disconnected)&&void 0!==T?T:[],D=[],ie=[],Se=(me,ot)=>{this.analyticsTracker.trackEventNoSharedProps(new Bi({token:s,otherParticipantId:me.id,otherParticipantUserId:me.userId,isAudioMuted:me.audioMuted,isVideoStopped:me.videoStopped,isPublishing:me.isPublishing,isDisconnected:ot,traceId:u}))};this.participants.forEach(me=>{const ot=M.find(Ot=>Ot.id===me.id);if(ot){let Ot=!0,_t=!1;["isPublishing","id","audioMuted","joinedAt","userId","videoStopped"].forEach(Mt=>{Ot=Ot&&ot[Mt.toString()]===me[Mt.toString()],Ot||(me[Mt.toString()]=ot[Mt.toString()],_t=!0)}),Object.keys(me.attributes).forEach(Mt=>{Ot=Ot&&ot.attributes[Mt]===me.attributes[Mt],Ot||(me.attributes=ot.attributes,_t=!0)}),_t&&(Se(me,!1),this.emit(ms,ot))}else ie.push(me)}),M.forEach(me=>{this.participants.get(me.id)||D.push(me)}),ie.forEach(me=>{this.participants.delete(me.id),Se(me,!0),this.emit(br,me)}),D.forEach(me=>{this.participants.set(me.id,me),Se(me,!1),this.emit(li,me)}),O.forEach(me=>{this.disconnected.find(ot=>ot.id===me.id)||(this.disconnected.push(me),"KICKED"===me.status&&this.emit(ts,me))}),this.disconnected=O},this.analyticsTracker=Zt.getInstance(),this.nonScopedLogger=i,this.logger=new ne(i,$.CONNECTION),this.stageSocket=new ti(this.nonScopedLogger)}connect(i,s){return function(c,i,s,u){return new(s||(s=Promise))(function(k,I){function T(O){try{M(u.next(O))}catch(D){I(D)}}function B(O){try{M(u.throw(O))}catch(D){I(D)}}function M(O){var D;O.done?k(O.value):(D=O.value,D instanceof s?D:new s(function(ie){ie(D)})).then(T,B)}M((u=u.apply(c,[])).next())})}(this,0,void 0,function*(){return this.logger.debug({msg:"connect invoked",token:i,traceId:s}),this.state.value!==Mn.DISCONNECTED&&(this.logger.debug({msg:"Disconnecting previous connection"}),this.processStateUpdate({type:"DISCONNECT"}),window.clearTimeout(this.connectTimeout)),new Promise((u,k)=>{this.connectTimeout=window.setTimeout(()=>{this.logger.debug({msg:"Attempt to connect timed out"});const I=new Error("InitialConnectTimedOut");this.processStateUpdate({type:"ERROR",payload:{error:I}}),k(I)},1e4),this.stageSocket.on(X,I=>{const{attempts:T}=I;window.clearTimeout(this.connectTimeout),this.trackConnectedEvent(i,s,T),this.processStateUpdate({type:"CONNECT_SUCCESS"}),u()}),this.stageSocket.on(Yt,I=>{this.processStateUpdate({type:"ERROR",payload:{error:I}})}),this.stageSocket.on(Jr,()=>{this.logger.debug({msg:"Refresh event occurred"}),this.emit("stageRefresh"),this.processStateUpdate({type:"RECONNECT"})}),this.stageSocket.on("close",()=>{this.logger.debug({msg:"Close event occurred"}),this.trackDisconnectedEvent(i,s)}),this.stageSocket.on(ns,this.onStageStateMessage(i,s)),this.stageSocket.on(Qs,this.trackMessageParseError(i,s)),this.processStateUpdate({type:"CONNECT",payload:{token:i,traceId:s}})})})}disconnect(){this.logger.debug({msg:"disconnect invoked"});const i=this.state.context.traceId;return this.processStateUpdate({type:"DISCONNECT"}),this.participants=new Map,this.disconnected=[],this.stageSocket.removeAllListeners(),i}getParticipant(i){return this.participants.get(i)}listConnectedParticipants(){const i=[];return this.participants.forEach(s=>{s.subscribed&&i.push(s)}),i}listAvailableParticipants(){return Array.from(this.participants.values())}emitStageState(i,s){this.stageSocket.send({audioMuted:i,type:"SET_STATE",version:"0",videoStopped:s})}}class as{constructor(i,s){this.strategy=i,this.logger=s}setStrategy(i){this.strategy=i}stageStreamsToPublish(){let i=[];try{i=this.strategy.stageStreamsToPublish()}catch(k){throw this.logger.warn({msg:"error executing stageStreamsToPublish treating this as a no-op",err:k}),console.error("Error executing stageStreamsToPublish",k),k}let s=0,u=0;for(const k of i)"audio"===k.mediaStreamTrack.kind?s++:"video"===k.mediaStreamTrack.kind&&u++;if(s>1||u>1)throw new Error("stageStreamsToPublish strategy function returned more than 1 video or audio stream and as a result will not publish",{cause:"UserStrategy"});return i}shouldPublishParticipant(i){try{return this.strategy.shouldPublishParticipant(i)}catch(s){throw this.logger.warn({msg:"error executing shouldPublishParticipant treating this as a no-op",err:s}),console.error("Error executing shouldPublishParticipant",s),s}}shouldSubscribeToParticipant(i){try{return this.strategy.shouldSubscribeToParticipant(i)}catch(s){throw this.logger.warn({msg:"error executing shouldSubscribeToParticipant. Treating it as a no-op",err:s}),console.error("Error executing shouldSubscribeToParticipant",s),s}}}class uo extends es{constructor(i,s){super(),this.audioMuted=!0,this.videoStopped=!0,this.publishState=Bn.NOT_PUBLISHED,this.logger=s,this.info=i,this.audioMuted=i.audioMuted,this.videoStopped=i.videoStopped}}(function(c){c.PUBLISH="publish",c.SUBSCRIBE="subscribe"})(Ri||(Ri={})),function(c){c.NOT_PUBLISHED="not_published",c.ATTEMPTING_PUBLISH="attempting_publish",c.PUBLISHED="published",c.ERRORED="errored"}(Bn||(Bn={})),function(c){c.NOT_SUBSCRIBED="not_subscribed",c.ATTEMPTING_SUBSCRIBE="attempting_subscribe",c.SUBSCRIBED="subscribed",c.ERRORED="errored"}(Gr||(Gr={})),function(c){c.Mobile="mobile",c.Tablet="tablet",c.Desktop="desktop",c.Tv="tv"}(ss||(ss={})),function(c){c.IOS="iOS",c.MacOS="macOS",c.Windows="Windows",c.Android="Android"}(Ss||(Ss={})),function(c){c.Safari="Safari",c.Firefox="Firefox",c.Chrome="Chrome",c.IE="Internet Explorer",c.Edge="Microsoft Edge"}(Fi||(Fi={}));const zi=function(c){const i=Hi(window.navigator.userAgent);return{platform:{isMobile:ra(ss.Mobile,i),isTablet:ra(ss.Tablet,i),isDesktop:ra(ss.Desktop,i),isTv:ra(ss.Tv,i)},os:{name:po(i),version:Wa(i),isIOS:ia(Ss.IOS,i),isMacOS:ia(Ss.MacOS,i),isWindows:ia(Ss.Windows,i),isAndroid:ia(Ss.Android,i)},browser:{name:fo(i),version:ho(i),isSafari:or(Fi.Safari,i),isFirefox:or(Fi.Firefox,i),isChrome:or(Fi.Chrome,i),isIE:or(Fi.IE,i),isEdge:or(Fi.Edge,i)}}}();function Hi(c){try{return Di.getParser(c||window.navigator.userAgent)}catch{}}function ra(c,i){return()=>(i||(i=Hi()),!(!i||i.getPlatformType(!0)!==c.toLowerCase()))}function Wa(c){return()=>(c||(c=Hi()),c&&c.getOSVersion()||"")}function po(c){return()=>(c||(c=Hi()),c&&c.getOSName()||"")}function ia(c,i){return()=>(i||(i=Hi()),!(!i||i.getOSName(!0)!==c.toLowerCase()))}function ho(c){return()=>(c||(c=Hi()),c&&c.getBrowserVersion()||"")}function fo(c){return()=>(c||(c=Hi()),c&&c.getBrowserName()||"")}function or(c,i){return()=>(i||(i=Hi()),!(!i||i.getBrowserName().toLowerCase()!==c.toLowerCase()))}var Dr,Es,os;class wa extends es{constructor(i,s){super(),this.setGetStats=u=>{this.getStats=u},this.requestRTCStats=()=>function(c,i,s,u){return new(s||(s=Promise))(function(k,I){function T(O){try{M(u.next(O))}catch(D){I(D)}}function B(O){try{M(u.throw(O))}catch(D){I(D)}}function M(O){var D;O.done?k(O.value):(D=O.value,D instanceof s?D:new s(function(ie){ie(D)})).then(T,B)}M((u=u.apply(c,[])).next())})}(this,0,void 0,function*(){if(this.getStats)return this.getStats(this.mediaStreamTrack)}),this.cleanup=()=>{this.removeAllListeners(),this.getStats=void 0},this.getStats=s,this.id=i.id,this.isMuted=!i.enabled,this.mediaStreamTrack=i,this.streamType="audio"===this.mediaStreamTrack.kind?ht.AUDIO:ht.VIDEO}}class Ga extends wa{constructor(i,s,u){super(i,u),this.setMuted=k=>{this.isMuted=k},this.id=i.id,this.participantInfo=s,this.mediaStreamTrack=i,this.isMuted=this.streamType===ht.AUDIO?s.audioMuted:s.videoStopped}}!function(c){c.LOCAL_STREAM_MUTE_CHANGED="localStreamMutedChanged"}(Dr||(Dr={}));class _i extends wa{constructor(i,s){super(i),this.setMuted=u=>{u!==this.isMuted&&(this.mediaStreamTrack.enabled=!u,this.isMuted=u,this.emit(Dr.LOCAL_STREAM_MUTE_CHANGED,this))},i.kind===ht.VIDEO&&(_i.validateBitrate(s?.minBitrate),_i.validateBitrate(s?.maxBitrate),_i.validateFramerate(s?.maxFramerate),this.mediaConfig=_i.configureSimulcast(i,s))}static validateBitrate(i){if(i&&(i<200||i>Te))throw new Error("bitrate must be between 200 kbps and 2500 kbps")}static validateFramerate(i){if(i&&(i>30||i<10))throw new Error("framerate cannot exceed 30 fps")}static configureSimulcast(i,s){let u=(0,Ci.cloneDeep)(s);if(!zi.browser.isChrome()&&!zi.browser.isEdge())return u?u.simulcast={enabled:!1}:u={simulcast:{enabled:!1}},u;const k=!i.getSettings().displaySurface;return u?(u.simulcast||(u.simulcast={enabled:k}),u.maxBitrate&&u.simulcast.enabled&&u.maxBitrate<nn.maxBitrate/1e3&&(u.simulcast.enabled=!1),u):(u={simulcast:{enabled:k}},u)}}(function(c){c.STATE_CHANGE="stateChange",c.MEDIA_STREAM_ADDED="mediaStreamAdded",c.MEDIA_STREAM_REMOVED="mediaStreamRemoved",c.MEDIA_STREAM_MUTE_CHANGED="mediaStreamMuteChanged"})(Es||(Es={})),function(c){c.SUBSCRIPTION_STATE_CHANGE="subscriptionStateChange"}(os||(os={}));const wr=Object.assign(Object.assign({},Es),os);var Ca;!function(c){c.PUBLICATION_STATE_CHANGE="publicationStateChange"}(Ca||(Ca={}));const ws=Object.assign(Object.assign({},Es),Ca);class Ta extends uo{constructor(i,s,u,k,I,T,B=!1){super(i,new ne(k,$.REMOTE_PARTICIPANT)),this.subscribeState=Gr.NOT_SUBSCRIBED,this.desiredSubscribeType=ei.NONE,this.streams=[],this.onSubscriptionStateChange=M=>{switch(this.logger.debug({msg:"subscriptionStateChange",state:M}),M){case"connected":this.subscribeState=Gr.SUBSCRIBED;break;case"connecting":this.subscribeState=Gr.ATTEMPTING_SUBSCRIBE;break;case"failed":this.subscribeState=Gr.ERRORED;break;default:return void this.logger.warn({msg:"FIXME onSubscriptionStateChange UNHANDLED STATE",state:M})}this.emit(wr.SUBSCRIPTION_STATE_CHANGE,this.subscribeState)},this.onSubscriptionMediaStream=M=>{this.logger.debug({msg:"onSubscriptionMediaStream",stream:M});let O=M.getTracks().map(D=>{const ie=new Ga(D,this.info,this.subscription.requestRTCStats);return this.streams.push(ie),ie});if(this.desiredSubscribeType===ei.AUDIO_ONLY){try{this.subscription.updateSubscribeType(this.desiredSubscribeType)}catch(D){this.logger.error({err:D,msg:"error updating subscribe type in onSubscriptionMediaStream"})}O=O.filter(D=>D.streamType!==ht.VIDEO)}this.emit(wr.MEDIA_STREAM_ADDED,O)},this.updateSubscribeStateIfNecessary=M=>{if(!this.info.capabilities.has(Ri.SUBSCRIBE))return;const O=M!==ei.NONE&&this.publishState===Bn.PUBLISHED,D=this.subscribeState!==Gr.NOT_SUBSCRIBED&&this.subscribeState!==Gr.ERRORED;if(O&&!D)this.subscribe(),this.desiredSubscribeType=M;else if(!O&&D)this.unsubscribe(),this.desiredSubscribeType=M;else if(this.subscribeState===Gr.SUBSCRIBED&&this.desiredSubscribeType!==M)try{this.subscription.updateSubscribeType(M),M===ei.AUDIO_ONLY&&this.emit(wr.MEDIA_STREAM_REMOVED,this.streams.filter(ie=>ie.streamType===ht.VIDEO)),M===ei.AUDIO_VIDEO&&this.emit(wr.MEDIA_STREAM_ADDED,this.streams.filter(ie=>ie.streamType===ht.VIDEO)),this.desiredSubscribeType=M}catch(ie){this.logger.error({err:ie,msg:"error updating subscribe type"})}},this.updatePublishState=M=>!(M&&this.publishState===Bn.PUBLISHED||!M&&this.publishState===Bn.NOT_PUBLISHED||(this.info.isPublishing=M,this.publishState=M?Bn.PUBLISHED:Bn.NOT_PUBLISHED,0)),this.updateStreamState=(M,O)=>{this.audioMuted!==M&&(this.audioMuted=M,this.info.audioMuted=M,this.updateStreamMuteState(ht.AUDIO,M)),this.videoStopped!==O&&(this.videoStopped=O,this.info.videoStopped=O,this.updateStreamMuteState(ht.VIDEO,O))},this.updateStreamMuteState=(M,O)=>{const D=this.streams.find(ie=>ie.streamType===M);D?(D.setMuted(O),this.emit(wr.MEDIA_STREAM_MUTE_CHANGED,D)):this.logger.warn({msg:`tried to update mute state for ${M} stream on participant ${this.info.id} that didn't exist`})},this.cleanup=()=>this.removeAllListeners(),this.quickUnsubscribe=()=>this.subscribeState!==Gr.NOT_SUBSCRIBED&&this.subscription.stop(),this.desiredSubscribeType=T,this.createSubscription=()=>{const M=new $o(i.id,s,u,k,I,oi());return M.on(gs,this.onSubscriptionStateChange),M.on(ha,this.onSubscriptionMediaStream),M},this.subscription=this.createSubscription(),B&&(this.publishState=Bn.PUBLISHED)}subscribe(){this.logger.debug({msg:"subscribe"}),this.subscription.start()}unsubscribe(){this.subscribeState!==Gr.NOT_SUBSCRIBED&&(this.logger.debug({msg:"unsubscribe"}),this.subscription.stop(),this.subscription.off(gs,this.onSubscriptionStateChange),this.subscription.off(ha,this.onSubscriptionMediaStream),this.subscription=this.createSubscription(),this.emit(wr.MEDIA_STREAM_REMOVED,this.desiredSubscribeType===ei.AUDIO_ONLY?this.streams.filter(i=>i.streamType===ht.AUDIO):this.streams),this.subscribeState=Gr.NOT_SUBSCRIBED,this.emit(wr.SUBSCRIPTION_STATE_CHANGE,this.subscribeState),this.streams.forEach(i=>{i.cleanup()}),this.streams=[])}}class _a extends uo{constructor(i,s,u,k,I){super(i,new ne(u,$.LOCAL_PARTICIPANT)),this.onPublicationStateChange=T=>{switch(this.logger.debug({msg:"publicationStateChange",state:T}),T){case"connected":this.updatePublishState(Bn.PUBLISHED);break;case"connecting":this.updatePublishState(Bn.ATTEMPTING_PUBLISH);break;case"errored":this.updatePublishState(Bn.ERRORED);break;default:return void this.logger.warn({msg:"FIXME onPublicationStateChange UNHANDLED STATE",state:T})}},this.updatePublishState=T=>{this.info.isPublishing=T===Bn.PUBLISHED,this.publishState=T,this.emit(ws.PUBLICATION_STATE_CHANGE,this.publishState)},this.handleMute=T=>{T.streamType===ht.AUDIO&&(this.audioMuted=T.isMuted,this.info.audioMuted=T.isMuted),T.streamType===ht.VIDEO&&(this.videoStopped=T.isMuted,this.info.videoStopped=T.isMuted),this.connection.emitStageState(this.audioMuted,this.videoStopped),this.emit(ws.MEDIA_STREAM_MUTE_CHANGED,T)},this.publish=T=>{this.logger.debug({msg:"publish"}),T.forEach(M=>{M&&(this.setupStreamListener(M),M.streamType===ht.AUDIO?(this.audioStream=M,this.audioMuted=!M.mediaStreamTrack.enabled,this.info.audioMuted=this.audioMuted):M.streamType===ht.VIDEO&&(this.videoStream=M,this.videoStopped=!M.mediaStreamTrack.enabled,this.info.videoStopped=this.videoStopped),M.setGetStats(this.publication.requestRTCStats))}),this.connection.emitStageState(this.audioMuted,this.videoStopped);const B=T.map(M=>this.toMediaTrackWithConfig(M));this.publication.start(B)},this.cleanup=()=>this.removeAllListeners(),this.quickUnpublish=()=>this.publishState!==Bn.NOT_PUBLISHED&&this.publishState!==Bn.ERRORED&&void this.publication.stop(),this.toMediaTrackWithConfig=T=>{var B,M,O,D,ie,Se,me,ot;if("video"===T.mediaStreamTrack.kind){const Ot=null!==(M=null===(B=T.mediaConfig)||void 0===B?void 0:B.minBitrate)&&void 0!==M?M:200,_t=null!==(D=null===(O=T.mediaConfig)||void 0===O?void 0:O.maxBitrate)&&void 0!==D?D:Te,Mt=null!==(Se=null===(ie=T.mediaConfig)||void 0===ie?void 0:ie.maxFramerate)&&void 0!==Se?Se:30,gn=!(null===(ot=null===(me=T.mediaConfig)||void 0===me?void 0:me.simulcast)||void 0===ot||!ot.enabled);return{track:T.mediaStreamTrack,config:{minBitrateBps:1e3*Ot,maxBitrateBps:1e3*_t,maxFramerate:Mt,simulcastEnabled:gn}}}return{track:T.mediaStreamTrack}},this.connection=I,this.createPublication=()=>{const T=new Ba(s,u,k,oi(),!0);return T.on(ys.STATE_CHANGE,this.onPublicationStateChange),T},this.publication=this.createPublication()}setupStreamListener(i){i.on(Dr.LOCAL_STREAM_MUTE_CHANGED,this.handleMute)}removeTrack(i){var s,u;i.streamType===ht.AUDIO?(null===(s=this.audioStream)||void 0===s||s.off(Dr.LOCAL_STREAM_MUTE_CHANGED,this.handleMute),this.audioStream=void 0,this.audioMuted=!0,this.info.audioMuted=!0):i.streamType===ht.VIDEO&&(null===(u=this.videoStream)||void 0===u||u.off(Dr.LOCAL_STREAM_MUTE_CHANGED,this.handleMute),this.videoStream=void 0,this.videoStopped=!0,this.info.videoStopped=!0),this.connection.emitStageState(this.audioMuted,this.videoStopped),this.publication.removeTrack(i.streamType)}replaceOrAddTrack(i){return function(c,i,s,u){return new(s||(s=Promise))(function(k,I){function T(O){try{M(u.next(O))}catch(D){I(D)}}function B(O){try{M(u.throw(O))}catch(D){I(D)}}function M(O){var D;O.done?k(O.value):(D=O.value,D instanceof s?D:new s(function(ie){ie(D)})).then(T,B)}M((u=u.apply(c,[])).next())})}(this,0,void 0,function*(){this.setupStreamListener(i),i.setGetStats(this.publication.requestRTCStats),i.streamType===ht.AUDIO?(this.audioStream=i,this.audioMuted=!i.mediaStreamTrack.enabled):i.streamType===ht.VIDEO&&(this.videoStream=i,this.videoStopped=!i.mediaStreamTrack.enabled),this.connection.emitStageState(this.audioMuted,this.videoStopped),yield this.publication.replaceOrUpdateTrack(this.toMediaTrackWithConfig(i))})}unpublish(){if(this.publishState===Bn.NOT_PUBLISHED||this.publishState===Bn.ERRORED)return;this.logger.debug({msg:"unpublish"}),this.publication.stop(),this.publication.off(ys.STATE_CHANGE,this.onPublicationStateChange);const i=[this.audioStream,this.videoStream].filter(s=>!!s);i.forEach(s=>{s.cleanup()}),this.audioStream=void 0,this.videoStream=void 0,this.emit(ws.MEDIA_STREAM_REMOVED,i),this.updatePublishState(Bn.NOT_PUBLISHED),this.publication=this.createPublication()}}const sa={streamConfig:pt},Va=c=>!!c;class xa extends es{constructor(i,s){super(),this.connectionState=Mn.DISCONNECTED,this.participants=new Map,this.connectionStateErrored=!1,this.onConnectionStateChanged=I=>{var T,B;this.connectionState=I,I===Mn.ERRORED&&(this.connectionStateErrored=!0),I===Mn.CONNECTED&&this.localParticipant&&this.stageConnection.emitStageState(null===(T=this.localParticipant)||void 0===T?void 0:T.audioMuted,null===(B=this.localParticipant)||void 0===B?void 0:B.videoStopped),I===Mn.CONNECTED&&this.connectionStateErrored&&(this.connectionStateErrored=!1,this.refreshStrategy()),this.emit(Nr.STAGE_CONNECTION_STATE_CHANGED,this.connectionState)},this.onLocalParticipantJoined=I=>{this.connectionState===Mn.CONNECTED&&(this.localParticipant=new _a(I,this.token,this.logger.unwrap(),this.mediaStreamManager,this.stageConnection),this.localParticipant.on(ws.PUBLICATION_STATE_CHANGE,T=>{this.onPublishStateChanged(this.localParticipant.info,T)}),this.localParticipant.on(ws.MEDIA_STREAM_REMOVED,this.onLocalStreamsRemoved),this.localParticipant.on(ws.MEDIA_STREAM_MUTE_CHANGED,T=>{this.localParticipant?this.onStreamMuteChange(this.localParticipant.info,T):this.logger.warn({msg:"tried to emit a stream mute change event for undefined local participant"})}),this.emit(Nr.STAGE_PARTICIPANT_JOINED,I),this.updateStreamsToPublishIfNecessary())},this.onRemoteParticipantJoined=I=>{var T,D;if(I.id!==(null===(T=this.localParticipant)||void 0===T?void 0:T.info.id)){const B={id:(D=I).id,userId:D.userId,attributes:D.attributes,capabilities:new Set([Ri.SUBSCRIBE]),isLocal:!1,userInfo:{},videoStopped:D.videoStopped,audioMuted:D.audioMuted,isPublishing:D.isPublishing};if(this.participants.has(B.id))return void this.logger.warn({msg:"Remote participant already tracked"});let M=ei.NONE;if(B.capabilities.has(Ri.SUBSCRIBE))try{M=this.strategyWrapper.shouldSubscribeToParticipant(B)}catch{}const O=new Ta(B,this.token,this.stageConnection,this.logger.unwrap(),this.mediaStreamManager,M,I.isPublishing);this.participants.set(B.id,O),this.setupRemoteParticipantListeners(O),this.emit(Nr.STAGE_PARTICIPANT_JOINED,O.info),O.updateSubscribeStateIfNecessary(M)}},this.setupRemoteParticipantListeners=I=>{I.on(wr.SUBSCRIPTION_STATE_CHANGE,T=>{this.onParticipantSubscribeStateChanged(I.info.id,T)}),I.on(wr.MEDIA_STREAM_ADDED,T=>{const B=this.participants.get(I.info.id);B?this.emit(Nr.STAGE_PARTICIPANT_STREAMS_ADDED,B.info,T):this.logger.warn({msg:"Got stream add for participant no longer being tracked"})}),I.on(wr.MEDIA_STREAM_REMOVED,T=>{const B=this.participants.get(I.info.id);B?this.emit(Nr.STAGE_PARTICIPANT_STREAMS_REMOVED,B.info,T):this.logger.warn({msg:"Got stream remove for participant no longer being tracked"})}),I.on(wr.MEDIA_STREAM_MUTE_CHANGED,T=>{this.onStreamMuteChange(I.info,T)})},this.onRemoteParticipantLeft=I=>{if(this.connectionState!==Mn.CONNECTED)return;const T=this.participants.get(I);T?(T.unsubscribe(),T.cleanup(),this.participants.delete(I),this.emitParticipantLeave(T.info)):this.logger.warn({msg:"Remote participant no longer tracked"})},this.emitParticipantLeave=I=>{this.emit(Nr.STAGE_PARTICIPANT_LEFT,I)},this.onRemoteParticipantStateChanged=I=>{const T=this.participants.get(I.id);if(!T)return void this.logger.warn({msg:"Remote participant updated but not tracked"});T.updatePublishState(I.isPublishing)&&this.onPublishStateChanged(T.info,T.publishState),T.updateStreamState(I.audioMuted,I.videoStopped);let B=ei.NONE;try{B=this.strategyWrapper.shouldSubscribeToParticipant(T.info)}catch{return}T.updateSubscribeStateIfNecessary(B)},this.onPublishStateChanged=(I,T)=>{this.emit(Nr.STAGE_PARTICIPANT_PUBLISH_STATE_CHANGED,I,T)},this.onParticipantSubscribeStateChanged=(I,T)=>{const B=this.participants.get(I);B?this.emit(Nr.STAGE_PARTICIPANT_SUBSCRIBE_STATE_CHANGED,B.info,T):this.logger.warn({msg:"Remote participant subscribe state changed but not tracked"})},this.onLocalStreamsAdded=I=>{this.localParticipant&&this.emit(Nr.STAGE_PARTICIPANT_STREAMS_ADDED,this.localParticipant.info,I)},this.onLocalStreamsRemoved=I=>{this.localParticipant&&this.emit(Nr.STAGE_PARTICIPANT_STREAMS_REMOVED,this.localParticipant.info,I)},this.onStreamMuteChange=(I,T)=>{this.emit(Nr.STAGE_STREAM_MUTE_CHANGED,I,T)},this.leave=()=>{if(!this.localParticipant)return;this.analyticsTracker.trackEventNoSharedProps(new Ks({token:this.token,eventEndpoint:this.token.eventsURL,whipEndpoint:this.token.whipURL,traceId:this.joinTraceId})),this.localParticipant.unpublish(),this.localParticipant.cleanup();const I=this.localParticipant.info;this.localParticipant=void 0,this.emitParticipantLeave(I);const T=this.participants.entries();for(const[B,M]of T)M.unsubscribe(),this.participants.delete(B),M.cleanup(),this.emitParticipantLeave(M.info);this.stageConnection.disconnect(),this.stageConnection.removeAllListeners(),this.stageConnection=new Ea(this.logger.unwrap()),this.setupListeners(),this.analyticsTracker.stop(!1)},this.refreshStrategy=()=>{this.participants.forEach(I=>{if(I.info.capabilities.has(Ri.SUBSCRIBE)){let T=I.desiredSubscribeType;try{T=this.strategyWrapper.shouldSubscribeToParticipant(I.info)}catch{return}I.updateSubscribeStateIfNecessary(T)}}),this.updateStreamsToPublishIfNecessary()},this.updateStreamsToPublishIfNecessary=()=>{var I;if(!this.localParticipant||null===(I=this.localParticipant)||void 0===I||!I.info.capabilities.has(Ri.PUBLISH))return;const T=this.localParticipant.publishState!==Bn.NOT_PUBLISHED;let B,M=!1;try{M=this.strategyWrapper.shouldPublishParticipant(this.localParticipant.info)}catch{return}if(T||M)if(!T||M){try{B=this.strategyWrapper.stageStreamsToPublish()}catch(O){if(O instanceof Error&&"UserStrategy"===O.cause)throw O;return}M=M&&B.length>0,!T&&M?(this.localParticipant.publish(B),this.onLocalStreamsAdded(B)):this.syncTracksToPublish(B)}else this.localParticipant.unpublish()},this.syncTracksToPublish=I=>{var T;if(!this.localParticipant)return;const B=this.localParticipant.audioStream,M=this.localParticipant.videoStream,{updates:O,streamsToAdd:D,streamsToRemove:ie}=this.determineStreamUpdates(B,M,I);if(O.length){for(const Se of O)Se.newStream?null===(T=this.localParticipant)||void 0===T||T.replaceOrAddTrack(Se.newStream):Se.oldStream&&this.localParticipant.removeTrack(Se.oldStream);0!==ie.length&&this.onLocalStreamsRemoved(ie),0!==D.length&&this.onLocalStreamsAdded(D)}},this.determineStreamUpdates=(I,T,B=[])=>{const M=[],O=B.slice(0,2);if(O.sort((Se,me)=>Se.streamType===ht.AUDIO?-1:1),0===O.length)I&&M.push({oldStream:I}),T&&M.push({oldStream:T});else if(1===O.length){const Se=O[0];Se.streamType===ht.AUDIO?T&&M.push({oldStream:T}):Se.streamType===ht.VIDEO&&I&&M.push({oldStream:I})}O.forEach(Se=>{Se.streamType===ht.AUDIO?I?I.id!==Se.id&&M.push({oldStream:I,newStream:Se}):M.push({newStream:Se}):Se.streamType===ht.VIDEO&&(T?T.id===Se.id&&(0,Ci.isEqual)(T.mediaConfig,Se.mediaConfig)||M.push({oldStream:T,newStream:Se}):M.push({newStream:Se}))});const D=M.map(Se=>Se.newStream).filter(Va),ie=M.map(Se=>Se.oldStream).filter(Va);return{updates:M,streamsToAdd:D,streamsToRemove:ie}},this.analyticsTracker=Zt.getInstance(),this.mediaStreamManager=Ee.getOrRegisterInstance(this);const u=window.STAGES_LOG_LEVEL,k=new Hs(void 0,u,sa.streamConfig,sa.logger);this.logger=new ne(new oe(k.logLevel,k.logger),$.STAGE),this.strategyWrapper=new as(s,this.logger),this.token=$i(i),this.stageConnection=new Ea(this.logger.unwrap()),this.setupListeners()}setupListeners(){this.stageConnection.on(Pi,i=>{this.onConnectionStateChanged(i)}),this.stageConnection.on(li,i=>{this.onRemoteParticipantJoined(i)}),this.stageConnection.on(br,i=>{this.onRemoteParticipantLeft(i.id)}),this.stageConnection.on(ms,i=>{var s;i.id!==(null===(s=this.localParticipant)||void 0===s?void 0:s.info.id)&&this.onRemoteParticipantStateChanged(i)})}join(){return function(c,i,s,u){return new(s||(s=Promise))(function(k,I){function T(O){try{M(u.next(O))}catch(D){I(D)}}function B(O){try{M(u.throw(O))}catch(D){I(D)}}function M(O){var D;O.done?k(O.value):(D=O.value,D instanceof s?D:new s(function(ie){ie(D)})).then(T,B)}M((u=u.apply(c,[])).next())})}(this,0,void 0,function*(){try{this.analyticsTracker.start(),this.joinTraceId=oi(),this.token.assertTokenIsUnexpired(this.joinTraceId,"signalling_session","join"),this.analyticsTracker.trackEventNoSharedProps(new Js({token:this.token,eventEndpoint:this.token.eventsURL,whipEndpoint:this.token.whipURL,traceId:this.joinTraceId})),yield this.stageConnection.connect(this.token,this.joinTraceId),this.onLocalParticipantJoined(function(i){var s,u;const k=new Set;return i.token.claims.capabilities.allow_publish&&k.add(Ri.PUBLISH),i.token.claims.capabilities.allow_subscribe&&k.add(Ri.SUBSCRIBE),{id:i.token.participantID,userId:null!==(s=i.token.userID)&&void 0!==s?s:"",attributes:null!==(u=i.token.claims.attributes)&&void 0!==u?u:{},capabilities:k,isLocal:!0,userInfo:{},videoStopped:i.videoStopped,audioMuted:i.audioMuted,isPublishing:i.isPublishing}}({token:this.token,videoStopped:!0,audioMuted:!0,isPublishing:!1})),window.addEventListener("beforeunload",i=>{var s;const u=zn.getInstance();u.isUnloading=!0,u.abortPendingOperations(),this.participants.forEach(k=>{k.quickUnsubscribe()}),null===(s=this.localParticipant)||void 0===s||s.quickUnpublish(),this.stageConnection.disconnect()})}catch(i){throw this.logger.error({err:i,msg:"error joining stage"}),i}})}replaceStrategy(i){this.strategyWrapper.setStrategy(i),this.refreshStrategy()}}var Nr;!function(c){c.STAGE_CONNECTION_STATE_CHANGED="stageConnectionStateChanged",c.STAGE_PARTICIPANT_JOINED="stageParticipantJoined",c.STAGE_PARTICIPANT_LEFT="stageParticipantLeft",c.STAGE_PARTICIPANT_STREAMS_ADDED="stageParticipantStreamsAdded",c.STAGE_PARTICIPANT_STREAMS_REMOVED="stageParticipantStreamsRemoved",c.STAGE_STREAM_MUTE_CHANGED="stageStreamMuteChanged",c.STAGE_PARTICIPANT_SUBSCRIBE_STATE_CHANGED="stageParticipantSubscribeStateChanged",c.STAGE_PARTICIPANT_PUBLISH_STATE_CHANGED="stageParticipantPublishStateChanged"}(Nr||(Nr={}));const Xa=b})(),et})());