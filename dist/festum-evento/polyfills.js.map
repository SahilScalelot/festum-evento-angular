{"version":3,"file":"polyfills.js","mappings":"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","sources":["./src/polyfills.ts","./node_modules/hammerjs/hammer.js","./node_modules/zone.js/fesm2015/zone.js"],"sourcesContent":["/**\r\n * This file includes polyfills needed by Angular and is loaded before the app.\r\n * You can add your own extra polyfills to this file.\r\n *\r\n * This file is divided into 2 sections:\r\n *   1. Browser polyfills. These are applied before loading ZoneJS and are sorted by browsers.\r\n *   2. Application imports. Files imported after ZoneJS that should be loaded before your main\r\n *      file.\r\n *\r\n * The current setup is for so-called \"evergreen\" browsers; the last versions of browsers that\r\n * automatically update themselves. This includes recent versions of Safari, Chrome (including\r\n * Opera), Edge on the desktop, and iOS and Chrome on mobile.\r\n *\r\n * Learn more in https://angular.io/guide/browser-support\r\n */\r\n\r\n/***************************************************************************************************\r\n * BROWSER POLYFILLS\r\n */\r\n\r\n/**\r\n * By default, zone.js will patch all possible macroTask and DomEvents\r\n * user can disable parts of macroTask/DomEvents patch by setting following flags\r\n * because those flags need to be set before `zone.js` being loaded, and webpack\r\n * will put import in the top of bundle, so user need to create a separate file\r\n * in this directory (for example: zone-flags.ts), and put the following flags\r\n * into that file, and then add the following code before importing zone.js.\r\n * import './zone-flags';\r\n *\r\n * The flags allowed in zone-flags.ts are listed here.\r\n *\r\n * The following flags will work for all browsers.\r\n *\r\n * (window as any).__Zone_disable_requestAnimationFrame = true; // disable patch requestAnimationFrame\r\n * (window as any).__Zone_disable_on_property = true; // disable patch onProperty such as onclick\r\n * (window as any).__zone_symbol__UNPATCHED_EVENTS = ['scroll', 'mousemove']; // disable patch specified eventNames\r\n *\r\n *  in IE/Edge developer tools, the addEventListener will also be wrapped by zone.js\r\n *  with the following flag, it will bypass `zone.js` patch for IE/Edge\r\n *\r\n *  (window as any).__Zone_enable_cross_context_check = true;\r\n *\r\n */\r\n\r\n/***************************************************************************************************\r\n * Zone JS is required by default for Angular itself.\r\n */\r\nimport 'zone.js';  // Included with Angular CLI.\r\nimport 'hammerjs';\r\n\r\n\r\n/***************************************************************************************************\r\n * APPLICATION IMPORTS\r\n */\r\n","/*! Hammer.JS - v2.0.7 - 2016-04-22\n * http://hammerjs.github.io/\n *\n * Copyright (c) 2016 Jorik Tangelder;\n * Licensed under the MIT license */\n(function(window, document, exportName, undefined) {\n  'use strict';\n\nvar VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\nvar TEST_ELEMENT = document.createElement('div');\n\nvar TYPE_FUNCTION = 'function';\n\nvar round = Math.round;\nvar abs = Math.abs;\nvar now = Date.now;\n\n/**\n * set a timeout with a given scope\n * @param {Function} fn\n * @param {Number} timeout\n * @param {Object} context\n * @returns {number}\n */\nfunction setTimeoutContext(fn, timeout, context) {\n    return setTimeout(bindFn(fn, context), timeout);\n}\n\n/**\n * if the argument is an array, we want to execute the fn on each entry\n * if it aint an array we don't want to do a thing.\n * this is used by all the methods that accept a single and array argument.\n * @param {*|Array} arg\n * @param {String} fn\n * @param {Object} [context]\n * @returns {Boolean}\n */\nfunction invokeArrayArg(arg, fn, context) {\n    if (Array.isArray(arg)) {\n        each(arg, context[fn], context);\n        return true;\n    }\n    return false;\n}\n\n/**\n * walk objects and arrays\n * @param {Object} obj\n * @param {Function} iterator\n * @param {Object} context\n */\nfunction each(obj, iterator, context) {\n    var i;\n\n    if (!obj) {\n        return;\n    }\n\n    if (obj.forEach) {\n        obj.forEach(iterator, context);\n    } else if (obj.length !== undefined) {\n        i = 0;\n        while (i < obj.length) {\n            iterator.call(context, obj[i], i, obj);\n            i++;\n        }\n    } else {\n        for (i in obj) {\n            obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n        }\n    }\n}\n\n/**\n * wrap a method with a deprecation warning and stack trace\n * @param {Function} method\n * @param {String} name\n * @param {String} message\n * @returns {Function} A new function wrapping the supplied method.\n */\nfunction deprecate(method, name, message) {\n    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n    return function() {\n        var e = new Error('get-stack-trace');\n        var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '')\n            .replace(/^\\s+at\\s+/gm, '')\n            .replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n\n        var log = window.console && (window.console.warn || window.console.log);\n        if (log) {\n            log.call(window.console, deprecationMessage, stack);\n        }\n        return method.apply(this, arguments);\n    };\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} target\n * @param {...Object} objects_to_assign\n * @returns {Object} target\n */\nvar assign;\nif (typeof Object.assign !== 'function') {\n    assign = function assign(target) {\n        if (target === undefined || target === null) {\n            throw new TypeError('Cannot convert undefined or null to object');\n        }\n\n        var output = Object(target);\n        for (var index = 1; index < arguments.length; index++) {\n            var source = arguments[index];\n            if (source !== undefined && source !== null) {\n                for (var nextKey in source) {\n                    if (source.hasOwnProperty(nextKey)) {\n                        output[nextKey] = source[nextKey];\n                    }\n                }\n            }\n        }\n        return output;\n    };\n} else {\n    assign = Object.assign;\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} dest\n * @param {Object} src\n * @param {Boolean} [merge=false]\n * @returns {Object} dest\n */\nvar extend = deprecate(function extend(dest, src, merge) {\n    var keys = Object.keys(src);\n    var i = 0;\n    while (i < keys.length) {\n        if (!merge || (merge && dest[keys[i]] === undefined)) {\n            dest[keys[i]] = src[keys[i]];\n        }\n        i++;\n    }\n    return dest;\n}, 'extend', 'Use `assign`.');\n\n/**\n * merge the values from src in the dest.\n * means that properties that exist in dest will not be overwritten by src\n * @param {Object} dest\n * @param {Object} src\n * @returns {Object} dest\n */\nvar merge = deprecate(function merge(dest, src) {\n    return extend(dest, src, true);\n}, 'merge', 'Use `assign`.');\n\n/**\n * simple class inheritance\n * @param {Function} child\n * @param {Function} base\n * @param {Object} [properties]\n */\nfunction inherit(child, base, properties) {\n    var baseP = base.prototype,\n        childP;\n\n    childP = child.prototype = Object.create(baseP);\n    childP.constructor = child;\n    childP._super = baseP;\n\n    if (properties) {\n        assign(childP, properties);\n    }\n}\n\n/**\n * simple function bind\n * @param {Function} fn\n * @param {Object} context\n * @returns {Function}\n */\nfunction bindFn(fn, context) {\n    return function boundFn() {\n        return fn.apply(context, arguments);\n    };\n}\n\n/**\n * let a boolean value also be a function that must return a boolean\n * this first item in args will be used as the context\n * @param {Boolean|Function} val\n * @param {Array} [args]\n * @returns {Boolean}\n */\nfunction boolOrFn(val, args) {\n    if (typeof val == TYPE_FUNCTION) {\n        return val.apply(args ? args[0] || undefined : undefined, args);\n    }\n    return val;\n}\n\n/**\n * use the val2 when val1 is undefined\n * @param {*} val1\n * @param {*} val2\n * @returns {*}\n */\nfunction ifUndefined(val1, val2) {\n    return (val1 === undefined) ? val2 : val1;\n}\n\n/**\n * addEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction addEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.addEventListener(type, handler, false);\n    });\n}\n\n/**\n * removeEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction removeEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.removeEventListener(type, handler, false);\n    });\n}\n\n/**\n * find if a node is in the given parent\n * @method hasParent\n * @param {HTMLElement} node\n * @param {HTMLElement} parent\n * @return {Boolean} found\n */\nfunction hasParent(node, parent) {\n    while (node) {\n        if (node == parent) {\n            return true;\n        }\n        node = node.parentNode;\n    }\n    return false;\n}\n\n/**\n * small indexOf wrapper\n * @param {String} str\n * @param {String} find\n * @returns {Boolean} found\n */\nfunction inStr(str, find) {\n    return str.indexOf(find) > -1;\n}\n\n/**\n * split string on whitespace\n * @param {String} str\n * @returns {Array} words\n */\nfunction splitStr(str) {\n    return str.trim().split(/\\s+/g);\n}\n\n/**\n * find if a array contains the object using indexOf or a simple polyFill\n * @param {Array} src\n * @param {String} find\n * @param {String} [findByKey]\n * @return {Boolean|Number} false when not found, or the index\n */\nfunction inArray(src, find, findByKey) {\n    if (src.indexOf && !findByKey) {\n        return src.indexOf(find);\n    } else {\n        var i = 0;\n        while (i < src.length) {\n            if ((findByKey && src[i][findByKey] == find) || (!findByKey && src[i] === find)) {\n                return i;\n            }\n            i++;\n        }\n        return -1;\n    }\n}\n\n/**\n * convert array-like objects to real arrays\n * @param {Object} obj\n * @returns {Array}\n */\nfunction toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n}\n\n/**\n * unique array with objects based on a key (like 'id') or just by the array's value\n * @param {Array} src [{id:1},{id:2},{id:1}]\n * @param {String} [key]\n * @param {Boolean} [sort=False]\n * @returns {Array} [{id:1},{id:2}]\n */\nfunction uniqueArray(src, key, sort) {\n    var results = [];\n    var values = [];\n    var i = 0;\n\n    while (i < src.length) {\n        var val = key ? src[i][key] : src[i];\n        if (inArray(values, val) < 0) {\n            results.push(src[i]);\n        }\n        values[i] = val;\n        i++;\n    }\n\n    if (sort) {\n        if (!key) {\n            results = results.sort();\n        } else {\n            results = results.sort(function sortUniqueArray(a, b) {\n                return a[key] > b[key];\n            });\n        }\n    }\n\n    return results;\n}\n\n/**\n * get the prefixed property\n * @param {Object} obj\n * @param {String} property\n * @returns {String|Undefined} prefixed\n */\nfunction prefixed(obj, property) {\n    var prefix, prop;\n    var camelProp = property[0].toUpperCase() + property.slice(1);\n\n    var i = 0;\n    while (i < VENDOR_PREFIXES.length) {\n        prefix = VENDOR_PREFIXES[i];\n        prop = (prefix) ? prefix + camelProp : property;\n\n        if (prop in obj) {\n            return prop;\n        }\n        i++;\n    }\n    return undefined;\n}\n\n/**\n * get a unique id\n * @returns {number} uniqueId\n */\nvar _uniqueId = 1;\nfunction uniqueId() {\n    return _uniqueId++;\n}\n\n/**\n * get the window object of an element\n * @param {HTMLElement} element\n * @returns {DocumentView|Window}\n */\nfunction getWindowForElement(element) {\n    var doc = element.ownerDocument || element;\n    return (doc.defaultView || doc.parentWindow || window);\n}\n\nvar MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n\nvar SUPPORT_TOUCH = ('ontouchstart' in window);\nvar SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;\nvar SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);\n\nvar INPUT_TYPE_TOUCH = 'touch';\nvar INPUT_TYPE_PEN = 'pen';\nvar INPUT_TYPE_MOUSE = 'mouse';\nvar INPUT_TYPE_KINECT = 'kinect';\n\nvar COMPUTE_INTERVAL = 25;\n\nvar INPUT_START = 1;\nvar INPUT_MOVE = 2;\nvar INPUT_END = 4;\nvar INPUT_CANCEL = 8;\n\nvar DIRECTION_NONE = 1;\nvar DIRECTION_LEFT = 2;\nvar DIRECTION_RIGHT = 4;\nvar DIRECTION_UP = 8;\nvar DIRECTION_DOWN = 16;\n\nvar DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\nvar DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\nvar DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n\nvar PROPS_XY = ['x', 'y'];\nvar PROPS_CLIENT_XY = ['clientX', 'clientY'];\n\n/**\n * create new input type manager\n * @param {Manager} manager\n * @param {Function} callback\n * @returns {Input}\n * @constructor\n */\nfunction Input(manager, callback) {\n    var self = this;\n    this.manager = manager;\n    this.callback = callback;\n    this.element = manager.element;\n    this.target = manager.options.inputTarget;\n\n    // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n    // so when disabled the input events are completely bypassed.\n    this.domHandler = function(ev) {\n        if (boolOrFn(manager.options.enable, [manager])) {\n            self.handler(ev);\n        }\n    };\n\n    this.init();\n\n}\n\nInput.prototype = {\n    /**\n     * should handle the inputEvent data and trigger the callback\n     * @virtual\n     */\n    handler: function() { },\n\n    /**\n     * bind the events\n     */\n    init: function() {\n        this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    },\n\n    /**\n     * unbind the events\n     */\n    destroy: function() {\n        this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    }\n};\n\n/**\n * create new input type manager\n * called by the Manager constructor\n * @param {Hammer} manager\n * @returns {Input}\n */\nfunction createInputInstance(manager) {\n    var Type;\n    var inputClass = manager.options.inputClass;\n\n    if (inputClass) {\n        Type = inputClass;\n    } else if (SUPPORT_POINTER_EVENTS) {\n        Type = PointerEventInput;\n    } else if (SUPPORT_ONLY_TOUCH) {\n        Type = TouchInput;\n    } else if (!SUPPORT_TOUCH) {\n        Type = MouseInput;\n    } else {\n        Type = TouchMouseInput;\n    }\n    return new (Type)(manager, inputHandler);\n}\n\n/**\n * handle input events\n * @param {Manager} manager\n * @param {String} eventType\n * @param {Object} input\n */\nfunction inputHandler(manager, eventType, input) {\n    var pointersLen = input.pointers.length;\n    var changedPointersLen = input.changedPointers.length;\n    var isFirst = (eventType & INPUT_START && (pointersLen - changedPointersLen === 0));\n    var isFinal = (eventType & (INPUT_END | INPUT_CANCEL) && (pointersLen - changedPointersLen === 0));\n\n    input.isFirst = !!isFirst;\n    input.isFinal = !!isFinal;\n\n    if (isFirst) {\n        manager.session = {};\n    }\n\n    // source event is the normalized value of the domEvents\n    // like 'touchstart, mouseup, pointerdown'\n    input.eventType = eventType;\n\n    // compute scale, rotation etc\n    computeInputData(manager, input);\n\n    // emit secret event\n    manager.emit('hammer.input', input);\n\n    manager.recognize(input);\n    manager.session.prevInput = input;\n}\n\n/**\n * extend the data with some usable properties like scale, rotate, velocity etc\n * @param {Object} manager\n * @param {Object} input\n */\nfunction computeInputData(manager, input) {\n    var session = manager.session;\n    var pointers = input.pointers;\n    var pointersLength = pointers.length;\n\n    // store the first input to calculate the distance and direction\n    if (!session.firstInput) {\n        session.firstInput = simpleCloneInputData(input);\n    }\n\n    // to compute scale and rotation we need to store the multiple touches\n    if (pointersLength > 1 && !session.firstMultiple) {\n        session.firstMultiple = simpleCloneInputData(input);\n    } else if (pointersLength === 1) {\n        session.firstMultiple = false;\n    }\n\n    var firstInput = session.firstInput;\n    var firstMultiple = session.firstMultiple;\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n\n    var center = input.center = getCenter(pointers);\n    input.timeStamp = now();\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\n\n    input.angle = getAngle(offsetCenter, center);\n    input.distance = getDistance(offsetCenter, center);\n\n    computeDeltaXY(session, input);\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n\n    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n    input.overallVelocityX = overallVelocity.x;\n    input.overallVelocityY = overallVelocity.y;\n    input.overallVelocity = (abs(overallVelocity.x) > abs(overallVelocity.y)) ? overallVelocity.x : overallVelocity.y;\n\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n\n    input.maxPointers = !session.prevInput ? input.pointers.length : ((input.pointers.length >\n        session.prevInput.maxPointers) ? input.pointers.length : session.prevInput.maxPointers);\n\n    computeIntervalInputData(session, input);\n\n    // find the correct target\n    var target = manager.element;\n    if (hasParent(input.srcEvent.target, target)) {\n        target = input.srcEvent.target;\n    }\n    input.target = target;\n}\n\nfunction computeDeltaXY(session, input) {\n    var center = input.center;\n    var offset = session.offsetDelta || {};\n    var prevDelta = session.prevDelta || {};\n    var prevInput = session.prevInput || {};\n\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n        prevDelta = session.prevDelta = {\n            x: prevInput.deltaX || 0,\n            y: prevInput.deltaY || 0\n        };\n\n        offset = session.offsetDelta = {\n            x: center.x,\n            y: center.y\n        };\n    }\n\n    input.deltaX = prevDelta.x + (center.x - offset.x);\n    input.deltaY = prevDelta.y + (center.y - offset.y);\n}\n\n/**\n * velocity is calculated every x ms\n * @param {Object} session\n * @param {Object} input\n */\nfunction computeIntervalInputData(session, input) {\n    var last = session.lastInterval || input,\n        deltaTime = input.timeStamp - last.timeStamp,\n        velocity, velocityX, velocityY, direction;\n\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\n        var deltaX = input.deltaX - last.deltaX;\n        var deltaY = input.deltaY - last.deltaY;\n\n        var v = getVelocity(deltaTime, deltaX, deltaY);\n        velocityX = v.x;\n        velocityY = v.y;\n        velocity = (abs(v.x) > abs(v.y)) ? v.x : v.y;\n        direction = getDirection(deltaX, deltaY);\n\n        session.lastInterval = input;\n    } else {\n        // use latest velocity info if it doesn't overtake a minimum period\n        velocity = last.velocity;\n        velocityX = last.velocityX;\n        velocityY = last.velocityY;\n        direction = last.direction;\n    }\n\n    input.velocity = velocity;\n    input.velocityX = velocityX;\n    input.velocityY = velocityY;\n    input.direction = direction;\n}\n\n/**\n * create a simple clone from the input used for storage of firstInput and firstMultiple\n * @param {Object} input\n * @returns {Object} clonedInputData\n */\nfunction simpleCloneInputData(input) {\n    // make a simple copy of the pointers because we will get a reference if we don't\n    // we only need clientXY for the calculations\n    var pointers = [];\n    var i = 0;\n    while (i < input.pointers.length) {\n        pointers[i] = {\n            clientX: round(input.pointers[i].clientX),\n            clientY: round(input.pointers[i].clientY)\n        };\n        i++;\n    }\n\n    return {\n        timeStamp: now(),\n        pointers: pointers,\n        center: getCenter(pointers),\n        deltaX: input.deltaX,\n        deltaY: input.deltaY\n    };\n}\n\n/**\n * get the center of all the pointers\n * @param {Array} pointers\n * @return {Object} center contains `x` and `y` properties\n */\nfunction getCenter(pointers) {\n    var pointersLength = pointers.length;\n\n    // no need to loop when only one touch\n    if (pointersLength === 1) {\n        return {\n            x: round(pointers[0].clientX),\n            y: round(pointers[0].clientY)\n        };\n    }\n\n    var x = 0, y = 0, i = 0;\n    while (i < pointersLength) {\n        x += pointers[i].clientX;\n        y += pointers[i].clientY;\n        i++;\n    }\n\n    return {\n        x: round(x / pointersLength),\n        y: round(y / pointersLength)\n    };\n}\n\n/**\n * calculate the velocity between two points. unit is in px per ms.\n * @param {Number} deltaTime\n * @param {Number} x\n * @param {Number} y\n * @return {Object} velocity `x` and `y`\n */\nfunction getVelocity(deltaTime, x, y) {\n    return {\n        x: x / deltaTime || 0,\n        y: y / deltaTime || 0\n    };\n}\n\n/**\n * get the direction between two points\n * @param {Number} x\n * @param {Number} y\n * @return {Number} direction\n */\nfunction getDirection(x, y) {\n    if (x === y) {\n        return DIRECTION_NONE;\n    }\n\n    if (abs(x) >= abs(y)) {\n        return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n}\n\n/**\n * calculate the absolute distance between two points\n * @param {Object} p1 {x, y}\n * @param {Object} p2 {x, y}\n * @param {Array} [props] containing x and y keys\n * @return {Number} distance\n */\nfunction getDistance(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n\n    return Math.sqrt((x * x) + (y * y));\n}\n\n/**\n * calculate the angle between two coordinates\n * @param {Object} p1\n * @param {Object} p2\n * @param {Array} [props] containing x and y keys\n * @return {Number} angle\n */\nfunction getAngle(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.atan2(y, x) * 180 / Math.PI;\n}\n\n/**\n * calculate the rotation degrees between two pointersets\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} rotation\n */\nfunction getRotation(start, end) {\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n}\n\n/**\n * calculate the scale factor between two pointersets\n * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} scale\n */\nfunction getScale(start, end) {\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n}\n\nvar MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n};\n\nvar MOUSE_ELEMENT_EVENTS = 'mousedown';\nvar MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n\n/**\n * Mouse events input\n * @constructor\n * @extends Input\n */\nfunction MouseInput() {\n    this.evEl = MOUSE_ELEMENT_EVENTS;\n    this.evWin = MOUSE_WINDOW_EVENTS;\n\n    this.pressed = false; // mousedown state\n\n    Input.apply(this, arguments);\n}\n\ninherit(MouseInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function MEhandler(ev) {\n        var eventType = MOUSE_INPUT_MAP[ev.type];\n\n        // on start we want to have the left mouse button down\n        if (eventType & INPUT_START && ev.button === 0) {\n            this.pressed = true;\n        }\n\n        if (eventType & INPUT_MOVE && ev.which !== 1) {\n            eventType = INPUT_END;\n        }\n\n        // mouse must be down\n        if (!this.pressed) {\n            return;\n        }\n\n        if (eventType & INPUT_END) {\n            this.pressed = false;\n        }\n\n        this.callback(this.manager, eventType, {\n            pointers: [ev],\n            changedPointers: [ev],\n            pointerType: INPUT_TYPE_MOUSE,\n            srcEvent: ev\n        });\n    }\n});\n\nvar POINTER_INPUT_MAP = {\n    pointerdown: INPUT_START,\n    pointermove: INPUT_MOVE,\n    pointerup: INPUT_END,\n    pointercancel: INPUT_CANCEL,\n    pointerout: INPUT_CANCEL\n};\n\n// in IE10 the pointer types is defined as an enum\nvar IE10_POINTER_TYPE_ENUM = {\n    2: INPUT_TYPE_TOUCH,\n    3: INPUT_TYPE_PEN,\n    4: INPUT_TYPE_MOUSE,\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n};\n\nvar POINTER_ELEMENT_EVENTS = 'pointerdown';\nvar POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel';\n\n// IE10 has prefixed support, and case-sensitive\nif (window.MSPointerEvent && !window.PointerEvent) {\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n}\n\n/**\n * Pointer events input\n * @constructor\n * @extends Input\n */\nfunction PointerEventInput() {\n    this.evEl = POINTER_ELEMENT_EVENTS;\n    this.evWin = POINTER_WINDOW_EVENTS;\n\n    Input.apply(this, arguments);\n\n    this.store = (this.manager.session.pointerEvents = []);\n}\n\ninherit(PointerEventInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function PEhandler(ev) {\n        var store = this.store;\n        var removePointer = false;\n\n        var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n        var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n        var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n\n        var isTouch = (pointerType == INPUT_TYPE_TOUCH);\n\n        // get index of the event in the store\n        var storeIndex = inArray(store, ev.pointerId, 'pointerId');\n\n        // start and mouse must be down\n        if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\n            if (storeIndex < 0) {\n                store.push(ev);\n                storeIndex = store.length - 1;\n            }\n        } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n            removePointer = true;\n        }\n\n        // it not found, so the pointer hasn't been down (so it's probably a hover)\n        if (storeIndex < 0) {\n            return;\n        }\n\n        // update the event in the store\n        store[storeIndex] = ev;\n\n        this.callback(this.manager, eventType, {\n            pointers: store,\n            changedPointers: [ev],\n            pointerType: pointerType,\n            srcEvent: ev\n        });\n\n        if (removePointer) {\n            // remove from the store\n            store.splice(storeIndex, 1);\n        }\n    }\n});\n\nvar SINGLE_TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\nvar SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Touch events input\n * @constructor\n * @extends Input\n */\nfunction SingleTouchInput() {\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n    this.started = false;\n\n    Input.apply(this, arguments);\n}\n\ninherit(SingleTouchInput, Input, {\n    handler: function TEhandler(ev) {\n        var type = SINGLE_TOUCH_INPUT_MAP[ev.type];\n\n        // should we handle the touch events?\n        if (type === INPUT_START) {\n            this.started = true;\n        }\n\n        if (!this.started) {\n            return;\n        }\n\n        var touches = normalizeSingleTouches.call(this, ev, type);\n\n        // when done, reset the started state\n        if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\n            this.started = false;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction normalizeSingleTouches(ev, type) {\n    var all = toArray(ev.touches);\n    var changed = toArray(ev.changedTouches);\n\n    if (type & (INPUT_END | INPUT_CANCEL)) {\n        all = uniqueArray(all.concat(changed), 'identifier', true);\n    }\n\n    return [all, changed];\n}\n\nvar TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Multi-user touch events input\n * @constructor\n * @extends Input\n */\nfunction TouchInput() {\n    this.evTarget = TOUCH_TARGET_EVENTS;\n    this.targetIds = {};\n\n    Input.apply(this, arguments);\n}\n\ninherit(TouchInput, Input, {\n    handler: function MTEhandler(ev) {\n        var type = TOUCH_INPUT_MAP[ev.type];\n        var touches = getTouches.call(this, ev, type);\n        if (!touches) {\n            return;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction getTouches(ev, type) {\n    var allTouches = toArray(ev.touches);\n    var targetIds = this.targetIds;\n\n    // when there is only one touch, the process can be simplified\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\n        targetIds[allTouches[0].identifier] = true;\n        return [allTouches, allTouches];\n    }\n\n    var i,\n        targetTouches,\n        changedTouches = toArray(ev.changedTouches),\n        changedTargetTouches = [],\n        target = this.target;\n\n    // get target touches from touches\n    targetTouches = allTouches.filter(function(touch) {\n        return hasParent(touch.target, target);\n    });\n\n    // collect touches\n    if (type === INPUT_START) {\n        i = 0;\n        while (i < targetTouches.length) {\n            targetIds[targetTouches[i].identifier] = true;\n            i++;\n        }\n    }\n\n    // filter changed touches to only contain touches that exist in the collected target ids\n    i = 0;\n    while (i < changedTouches.length) {\n        if (targetIds[changedTouches[i].identifier]) {\n            changedTargetTouches.push(changedTouches[i]);\n        }\n\n        // cleanup removed touches\n        if (type & (INPUT_END | INPUT_CANCEL)) {\n            delete targetIds[changedTouches[i].identifier];\n        }\n        i++;\n    }\n\n    if (!changedTargetTouches.length) {\n        return;\n    }\n\n    return [\n        // merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n        uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true),\n        changedTargetTouches\n    ];\n}\n\n/**\n * Combined touch and mouse input\n *\n * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\n * This because touch devices also emit mouse events while doing a touch.\n *\n * @constructor\n * @extends Input\n */\n\nvar DEDUP_TIMEOUT = 2500;\nvar DEDUP_DISTANCE = 25;\n\nfunction TouchMouseInput() {\n    Input.apply(this, arguments);\n\n    var handler = bindFn(this.handler, this);\n    this.touch = new TouchInput(this.manager, handler);\n    this.mouse = new MouseInput(this.manager, handler);\n\n    this.primaryTouch = null;\n    this.lastTouches = [];\n}\n\ninherit(TouchMouseInput, Input, {\n    /**\n     * handle mouse and touch events\n     * @param {Hammer} manager\n     * @param {String} inputEvent\n     * @param {Object} inputData\n     */\n    handler: function TMEhandler(manager, inputEvent, inputData) {\n        var isTouch = (inputData.pointerType == INPUT_TYPE_TOUCH),\n            isMouse = (inputData.pointerType == INPUT_TYPE_MOUSE);\n\n        if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {\n            return;\n        }\n\n        // when we're in a touch event, record touches to  de-dupe synthetic mouse event\n        if (isTouch) {\n            recordTouches.call(this, inputEvent, inputData);\n        } else if (isMouse && isSyntheticEvent.call(this, inputData)) {\n            return;\n        }\n\n        this.callback(manager, inputEvent, inputData);\n    },\n\n    /**\n     * remove the event listeners\n     */\n    destroy: function destroy() {\n        this.touch.destroy();\n        this.mouse.destroy();\n    }\n});\n\nfunction recordTouches(eventType, eventData) {\n    if (eventType & INPUT_START) {\n        this.primaryTouch = eventData.changedPointers[0].identifier;\n        setLastTouch.call(this, eventData);\n    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n        setLastTouch.call(this, eventData);\n    }\n}\n\nfunction setLastTouch(eventData) {\n    var touch = eventData.changedPointers[0];\n\n    if (touch.identifier === this.primaryTouch) {\n        var lastTouch = {x: touch.clientX, y: touch.clientY};\n        this.lastTouches.push(lastTouch);\n        var lts = this.lastTouches;\n        var removeLastTouch = function() {\n            var i = lts.indexOf(lastTouch);\n            if (i > -1) {\n                lts.splice(i, 1);\n            }\n        };\n        setTimeout(removeLastTouch, DEDUP_TIMEOUT);\n    }\n}\n\nfunction isSyntheticEvent(eventData) {\n    var x = eventData.srcEvent.clientX, y = eventData.srcEvent.clientY;\n    for (var i = 0; i < this.lastTouches.length; i++) {\n        var t = this.lastTouches[i];\n        var dx = Math.abs(x - t.x), dy = Math.abs(y - t.y);\n        if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');\nvar NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined;\n\n// magical touchAction value\nvar TOUCH_ACTION_COMPUTE = 'compute';\nvar TOUCH_ACTION_AUTO = 'auto';\nvar TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\nvar TOUCH_ACTION_NONE = 'none';\nvar TOUCH_ACTION_PAN_X = 'pan-x';\nvar TOUCH_ACTION_PAN_Y = 'pan-y';\nvar TOUCH_ACTION_MAP = getTouchActionProps();\n\n/**\n * Touch Action\n * sets the touchAction property or uses the js alternative\n * @param {Manager} manager\n * @param {String} value\n * @constructor\n */\nfunction TouchAction(manager, value) {\n    this.manager = manager;\n    this.set(value);\n}\n\nTouchAction.prototype = {\n    /**\n     * set the touchAction value on the element or enable the polyfill\n     * @param {String} value\n     */\n    set: function(value) {\n        // find out the touch-action by the event handlers\n        if (value == TOUCH_ACTION_COMPUTE) {\n            value = this.compute();\n        }\n\n        if (NATIVE_TOUCH_ACTION && this.manager.element.style && TOUCH_ACTION_MAP[value]) {\n            this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;\n        }\n        this.actions = value.toLowerCase().trim();\n    },\n\n    /**\n     * just re-set the touchAction value\n     */\n    update: function() {\n        this.set(this.manager.options.touchAction);\n    },\n\n    /**\n     * compute the value for the touchAction property based on the recognizer's settings\n     * @returns {String} value\n     */\n    compute: function() {\n        var actions = [];\n        each(this.manager.recognizers, function(recognizer) {\n            if (boolOrFn(recognizer.options.enable, [recognizer])) {\n                actions = actions.concat(recognizer.getTouchAction());\n            }\n        });\n        return cleanTouchActions(actions.join(' '));\n    },\n\n    /**\n     * this method is called on each input cycle and provides the preventing of the browser behavior\n     * @param {Object} input\n     */\n    preventDefaults: function(input) {\n        var srcEvent = input.srcEvent;\n        var direction = input.offsetDirection;\n\n        // if the touch action did prevented once this session\n        if (this.manager.session.prevented) {\n            srcEvent.preventDefault();\n            return;\n        }\n\n        var actions = this.actions;\n        var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];\n        var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];\n        var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];\n\n        if (hasNone) {\n            //do not prevent defaults if this is a tap gesture\n\n            var isTapPointer = input.pointers.length === 1;\n            var isTapMovement = input.distance < 2;\n            var isTapTouchTime = input.deltaTime < 250;\n\n            if (isTapPointer && isTapMovement && isTapTouchTime) {\n                return;\n            }\n        }\n\n        if (hasPanX && hasPanY) {\n            // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n            return;\n        }\n\n        if (hasNone ||\n            (hasPanY && direction & DIRECTION_HORIZONTAL) ||\n            (hasPanX && direction & DIRECTION_VERTICAL)) {\n            return this.preventSrc(srcEvent);\n        }\n    },\n\n    /**\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n     * @param {Object} srcEvent\n     */\n    preventSrc: function(srcEvent) {\n        this.manager.session.prevented = true;\n        srcEvent.preventDefault();\n    }\n};\n\n/**\n * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n * @param {String} actions\n * @returns {*}\n */\nfunction cleanTouchActions(actions) {\n    // none\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);\n\n    // if both pan-x and pan-y are set (different recognizers\n    // for different directions, e.g. horizontal pan but vertical swipe?)\n    // we need none (as otherwise with pan-x pan-y combined none of these\n    // recognizers will work, since the browser would handle all panning\n    if (hasPanX && hasPanY) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    // pan-x OR pan-y\n    if (hasPanX || hasPanY) {\n        return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n    }\n\n    // manipulation\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n        return TOUCH_ACTION_MANIPULATION;\n    }\n\n    return TOUCH_ACTION_AUTO;\n}\n\nfunction getTouchActionProps() {\n    if (!NATIVE_TOUCH_ACTION) {\n        return false;\n    }\n    var touchMap = {};\n    var cssSupports = window.CSS && window.CSS.supports;\n    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function(val) {\n\n        // If css.supports is not supported but there is native touch-action assume it supports\n        // all values. This is the case for IE 10 and 11.\n        touchMap[val] = cssSupports ? window.CSS.supports('touch-action', val) : true;\n    });\n    return touchMap;\n}\n\n/**\n * Recognizer flow explained; *\n * All recognizers have the initial state of POSSIBLE when a input session starts.\n * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n * Example session for mouse-input: mousedown -> mousemove -> mouseup\n *\n * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n * which determines with state it should be.\n *\n * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n * POSSIBLE to give it another change on the next cycle.\n *\n *               Possible\n *                  |\n *            +-----+---------------+\n *            |                     |\n *      +-----+-----+               |\n *      |           |               |\n *   Failed      Cancelled          |\n *                          +-------+------+\n *                          |              |\n *                      Recognized       Began\n *                                         |\n *                                      Changed\n *                                         |\n *                                  Ended/Recognized\n */\nvar STATE_POSSIBLE = 1;\nvar STATE_BEGAN = 2;\nvar STATE_CHANGED = 4;\nvar STATE_ENDED = 8;\nvar STATE_RECOGNIZED = STATE_ENDED;\nvar STATE_CANCELLED = 16;\nvar STATE_FAILED = 32;\n\n/**\n * Recognizer\n * Every recognizer needs to extend from this class.\n * @constructor\n * @param {Object} options\n */\nfunction Recognizer(options) {\n    this.options = assign({}, this.defaults, options || {});\n\n    this.id = uniqueId();\n\n    this.manager = null;\n\n    // default is enable true\n    this.options.enable = ifUndefined(this.options.enable, true);\n\n    this.state = STATE_POSSIBLE;\n\n    this.simultaneous = {};\n    this.requireFail = [];\n}\n\nRecognizer.prototype = {\n    /**\n     * @virtual\n     * @type {Object}\n     */\n    defaults: {},\n\n    /**\n     * set options\n     * @param {Object} options\n     * @return {Recognizer}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // also update the touchAction, in case something changed about the directions/enabled state\n        this.manager && this.manager.touchAction.update();\n        return this;\n    },\n\n    /**\n     * recognize simultaneous with an other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    recognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n            return this;\n        }\n\n        var simultaneous = this.simultaneous;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (!simultaneous[otherRecognizer.id]) {\n            simultaneous[otherRecognizer.id] = otherRecognizer;\n            otherRecognizer.recognizeWith(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRecognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        delete this.simultaneous[otherRecognizer.id];\n        return this;\n    },\n\n    /**\n     * recognizer can only run when an other is failing\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    requireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n            return this;\n        }\n\n        var requireFail = this.requireFail;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (inArray(requireFail, otherRecognizer) === -1) {\n            requireFail.push(otherRecognizer);\n            otherRecognizer.requireFailure(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRequireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        var index = inArray(this.requireFail, otherRecognizer);\n        if (index > -1) {\n            this.requireFail.splice(index, 1);\n        }\n        return this;\n    },\n\n    /**\n     * has require failures boolean\n     * @returns {boolean}\n     */\n    hasRequireFailures: function() {\n        return this.requireFail.length > 0;\n    },\n\n    /**\n     * if the recognizer can recognize simultaneous with an other recognizer\n     * @param {Recognizer} otherRecognizer\n     * @returns {Boolean}\n     */\n    canRecognizeWith: function(otherRecognizer) {\n        return !!this.simultaneous[otherRecognizer.id];\n    },\n\n    /**\n     * You should use `tryEmit` instead of `emit` directly to check\n     * that all the needed recognizers has failed before emitting.\n     * @param {Object} input\n     */\n    emit: function(input) {\n        var self = this;\n        var state = this.state;\n\n        function emit(event) {\n            self.manager.emit(event, input);\n        }\n\n        // 'panstart' and 'panmove'\n        if (state < STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n\n        emit(self.options.event); // simple 'eventName' events\n\n        if (input.additionalEvent) { // additional event(panleft, panright, pinchin, pinchout...)\n            emit(input.additionalEvent);\n        }\n\n        // panend and pancancel\n        if (state >= STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n    },\n\n    /**\n     * Check that all the require failure recognizers has failed,\n     * if true, it emits a gesture event,\n     * otherwise, setup the state to FAILED.\n     * @param {Object} input\n     */\n    tryEmit: function(input) {\n        if (this.canEmit()) {\n            return this.emit(input);\n        }\n        // it's failing anyway\n        this.state = STATE_FAILED;\n    },\n\n    /**\n     * can we emit?\n     * @returns {boolean}\n     */\n    canEmit: function() {\n        var i = 0;\n        while (i < this.requireFail.length) {\n            if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\n                return false;\n            }\n            i++;\n        }\n        return true;\n    },\n\n    /**\n     * update the recognizer\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        // make a new copy of the inputData\n        // so we can change the inputData without messing up the other recognizers\n        var inputDataClone = assign({}, inputData);\n\n        // is is enabled and allow recognizing?\n        if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n            this.reset();\n            this.state = STATE_FAILED;\n            return;\n        }\n\n        // reset when we've reached the end\n        if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n            this.state = STATE_POSSIBLE;\n        }\n\n        this.state = this.process(inputDataClone);\n\n        // the recognizer has recognized a gesture\n        // so trigger an event\n        if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n            this.tryEmit(inputDataClone);\n        }\n    },\n\n    /**\n     * return the state of the recognizer\n     * the actual recognizing happens in this method\n     * @virtual\n     * @param {Object} inputData\n     * @returns {Const} STATE\n     */\n    process: function(inputData) { }, // jshint ignore:line\n\n    /**\n     * return the preferred touch-action\n     * @virtual\n     * @returns {Array}\n     */\n    getTouchAction: function() { },\n\n    /**\n     * called when the gesture isn't allowed to recognize\n     * like when another is being recognized or it is disabled\n     * @virtual\n     */\n    reset: function() { }\n};\n\n/**\n * get a usable string, used as event postfix\n * @param {Const} state\n * @returns {String} state\n */\nfunction stateStr(state) {\n    if (state & STATE_CANCELLED) {\n        return 'cancel';\n    } else if (state & STATE_ENDED) {\n        return 'end';\n    } else if (state & STATE_CHANGED) {\n        return 'move';\n    } else if (state & STATE_BEGAN) {\n        return 'start';\n    }\n    return '';\n}\n\n/**\n * direction cons to string\n * @param {Const} direction\n * @returns {String}\n */\nfunction directionStr(direction) {\n    if (direction == DIRECTION_DOWN) {\n        return 'down';\n    } else if (direction == DIRECTION_UP) {\n        return 'up';\n    } else if (direction == DIRECTION_LEFT) {\n        return 'left';\n    } else if (direction == DIRECTION_RIGHT) {\n        return 'right';\n    }\n    return '';\n}\n\n/**\n * get a recognizer by name if it is bound to a manager\n * @param {Recognizer|String} otherRecognizer\n * @param {Recognizer} recognizer\n * @returns {Recognizer}\n */\nfunction getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n    var manager = recognizer.manager;\n    if (manager) {\n        return manager.get(otherRecognizer);\n    }\n    return otherRecognizer;\n}\n\n/**\n * This recognizer is just used as a base for the simple attribute recognizers.\n * @constructor\n * @extends Recognizer\n */\nfunction AttrRecognizer() {\n    Recognizer.apply(this, arguments);\n}\n\ninherit(AttrRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof AttrRecognizer\n     */\n    defaults: {\n        /**\n         * @type {Number}\n         * @default 1\n         */\n        pointers: 1\n    },\n\n    /**\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {Boolean} recognized\n     */\n    attrTest: function(input) {\n        var optionPointers = this.options.pointers;\n        return optionPointers === 0 || input.pointers.length === optionPointers;\n    },\n\n    /**\n     * Process the input and return the state for the recognizer\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {*} State\n     */\n    process: function(input) {\n        var state = this.state;\n        var eventType = input.eventType;\n\n        var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\n        var isValid = this.attrTest(input);\n\n        // on cancel input and we've recognized before, return STATE_CANCELLED\n        if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\n            return state | STATE_CANCELLED;\n        } else if (isRecognized || isValid) {\n            if (eventType & INPUT_END) {\n                return state | STATE_ENDED;\n            } else if (!(state & STATE_BEGAN)) {\n                return STATE_BEGAN;\n            }\n            return state | STATE_CHANGED;\n        }\n        return STATE_FAILED;\n    }\n});\n\n/**\n * Pan\n * Recognized when the pointer is down and moved in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PanRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n\n    this.pX = null;\n    this.pY = null;\n}\n\ninherit(PanRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PanRecognizer\n     */\n    defaults: {\n        event: 'pan',\n        threshold: 10,\n        pointers: 1,\n        direction: DIRECTION_ALL\n    },\n\n    getTouchAction: function() {\n        var direction = this.options.direction;\n        var actions = [];\n        if (direction & DIRECTION_HORIZONTAL) {\n            actions.push(TOUCH_ACTION_PAN_Y);\n        }\n        if (direction & DIRECTION_VERTICAL) {\n            actions.push(TOUCH_ACTION_PAN_X);\n        }\n        return actions;\n    },\n\n    directionTest: function(input) {\n        var options = this.options;\n        var hasMoved = true;\n        var distance = input.distance;\n        var direction = input.direction;\n        var x = input.deltaX;\n        var y = input.deltaY;\n\n        // lock to axis?\n        if (!(direction & options.direction)) {\n            if (options.direction & DIRECTION_HORIZONTAL) {\n                direction = (x === 0) ? DIRECTION_NONE : (x < 0) ? DIRECTION_LEFT : DIRECTION_RIGHT;\n                hasMoved = x != this.pX;\n                distance = Math.abs(input.deltaX);\n            } else {\n                direction = (y === 0) ? DIRECTION_NONE : (y < 0) ? DIRECTION_UP : DIRECTION_DOWN;\n                hasMoved = y != this.pY;\n                distance = Math.abs(input.deltaY);\n            }\n        }\n        input.direction = direction;\n        return hasMoved && distance > options.threshold && direction & options.direction;\n    },\n\n    attrTest: function(input) {\n        return AttrRecognizer.prototype.attrTest.call(this, input) &&\n            (this.state & STATE_BEGAN || (!(this.state & STATE_BEGAN) && this.directionTest(input)));\n    },\n\n    emit: function(input) {\n\n        this.pX = input.deltaX;\n        this.pY = input.deltaY;\n\n        var direction = directionStr(input.direction);\n\n        if (direction) {\n            input.additionalEvent = this.options.event + direction;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Pinch\n * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PinchRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(PinchRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'pinch',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\n    },\n\n    emit: function(input) {\n        if (input.scale !== 1) {\n            var inOut = input.scale < 1 ? 'in' : 'out';\n            input.additionalEvent = this.options.event + inOut;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Press\n * Recognized when the pointer is down for x ms without any movement.\n * @constructor\n * @extends Recognizer\n */\nfunction PressRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    this._timer = null;\n    this._input = null;\n}\n\ninherit(PressRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PressRecognizer\n     */\n    defaults: {\n        event: 'press',\n        pointers: 1,\n        time: 251, // minimal time of the pointer to be pressed\n        threshold: 9 // a minimal movement is ok, but keep it low\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_AUTO];\n    },\n\n    process: function(input) {\n        var options = this.options;\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTime = input.deltaTime > options.time;\n\n        this._input = input;\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (!validMovement || !validPointers || (input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime)) {\n            this.reset();\n        } else if (input.eventType & INPUT_START) {\n            this.reset();\n            this._timer = setTimeoutContext(function() {\n                this.state = STATE_RECOGNIZED;\n                this.tryEmit();\n            }, options.time, this);\n        } else if (input.eventType & INPUT_END) {\n            return STATE_RECOGNIZED;\n        }\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function(input) {\n        if (this.state !== STATE_RECOGNIZED) {\n            return;\n        }\n\n        if (input && (input.eventType & INPUT_END)) {\n            this.manager.emit(this.options.event + 'up', input);\n        } else {\n            this._input.timeStamp = now();\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Rotate\n * Recognized when two or more pointer are moving in a circular motion.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction RotateRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(RotateRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof RotateRecognizer\n     */\n    defaults: {\n        event: 'rotate',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\n    }\n});\n\n/**\n * Swipe\n * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction SwipeRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(SwipeRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof SwipeRecognizer\n     */\n    defaults: {\n        event: 'swipe',\n        threshold: 10,\n        velocity: 0.3,\n        direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n        pointers: 1\n    },\n\n    getTouchAction: function() {\n        return PanRecognizer.prototype.getTouchAction.call(this);\n    },\n\n    attrTest: function(input) {\n        var direction = this.options.direction;\n        var velocity;\n\n        if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n            velocity = input.overallVelocity;\n        } else if (direction & DIRECTION_HORIZONTAL) {\n            velocity = input.overallVelocityX;\n        } else if (direction & DIRECTION_VERTICAL) {\n            velocity = input.overallVelocityY;\n        }\n\n        return this._super.attrTest.call(this, input) &&\n            direction & input.offsetDirection &&\n            input.distance > this.options.threshold &&\n            input.maxPointers == this.options.pointers &&\n            abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\n    },\n\n    emit: function(input) {\n        var direction = directionStr(input.offsetDirection);\n        if (direction) {\n            this.manager.emit(this.options.event + direction, input);\n        }\n\n        this.manager.emit(this.options.event, input);\n    }\n});\n\n/**\n * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n * a single tap.\n *\n * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n * multi-taps being recognized.\n * @constructor\n * @extends Recognizer\n */\nfunction TapRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    // previous time and center,\n    // used for tap counting\n    this.pTime = false;\n    this.pCenter = false;\n\n    this._timer = null;\n    this._input = null;\n    this.count = 0;\n}\n\ninherit(TapRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'tap',\n        pointers: 1,\n        taps: 1,\n        interval: 300, // max time between the multi-tap taps\n        time: 250, // max time of the pointer to be down (like finger on the screen)\n        threshold: 9, // a minimal movement is ok, but keep it low\n        posThreshold: 10 // a multi-tap can be a bit off the initial position\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_MANIPULATION];\n    },\n\n    process: function(input) {\n        var options = this.options;\n\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTouchTime = input.deltaTime < options.time;\n\n        this.reset();\n\n        if ((input.eventType & INPUT_START) && (this.count === 0)) {\n            return this.failTimeout();\n        }\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (validMovement && validTouchTime && validPointers) {\n            if (input.eventType != INPUT_END) {\n                return this.failTimeout();\n            }\n\n            var validInterval = this.pTime ? (input.timeStamp - this.pTime < options.interval) : true;\n            var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\n\n            this.pTime = input.timeStamp;\n            this.pCenter = input.center;\n\n            if (!validMultiTap || !validInterval) {\n                this.count = 1;\n            } else {\n                this.count += 1;\n            }\n\n            this._input = input;\n\n            // if tap count matches we have recognized it,\n            // else it has began recognizing...\n            var tapCount = this.count % options.taps;\n            if (tapCount === 0) {\n                // no failing requirements, immediately trigger the tap event\n                // or wait as long as the multitap interval to trigger\n                if (!this.hasRequireFailures()) {\n                    return STATE_RECOGNIZED;\n                } else {\n                    this._timer = setTimeoutContext(function() {\n                        this.state = STATE_RECOGNIZED;\n                        this.tryEmit();\n                    }, options.interval, this);\n                    return STATE_BEGAN;\n                }\n            }\n        }\n        return STATE_FAILED;\n    },\n\n    failTimeout: function() {\n        this._timer = setTimeoutContext(function() {\n            this.state = STATE_FAILED;\n        }, this.options.interval, this);\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function() {\n        if (this.state == STATE_RECOGNIZED) {\n            this._input.tapCount = this.count;\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Simple way to create a manager with a default set of recognizers.\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Hammer(element, options) {\n    options = options || {};\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n    return new Manager(element, options);\n}\n\n/**\n * @const {string}\n */\nHammer.VERSION = '2.0.7';\n\n/**\n * default settings\n * @namespace\n */\nHammer.defaults = {\n    /**\n     * set if DOM events are being triggered.\n     * But this is slower and unused by simple implementations, so disabled by default.\n     * @type {Boolean}\n     * @default false\n     */\n    domEvents: false,\n\n    /**\n     * The value for the touchAction property/fallback.\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\n     * @type {String}\n     * @default compute\n     */\n    touchAction: TOUCH_ACTION_COMPUTE,\n\n    /**\n     * @type {Boolean}\n     * @default true\n     */\n    enable: true,\n\n    /**\n     * EXPERIMENTAL FEATURE -- can be removed/changed\n     * Change the parent input target element.\n     * If Null, then it is being set the to main element.\n     * @type {Null|EventTarget}\n     * @default null\n     */\n    inputTarget: null,\n\n    /**\n     * force an input class\n     * @type {Null|Function}\n     * @default null\n     */\n    inputClass: null,\n\n    /**\n     * Default recognizer setup when calling `Hammer()`\n     * When creating a new Manager these will be skipped.\n     * @type {Array}\n     */\n    preset: [\n        // RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n        [RotateRecognizer, {enable: false}],\n        [PinchRecognizer, {enable: false}, ['rotate']],\n        [SwipeRecognizer, {direction: DIRECTION_HORIZONTAL}],\n        [PanRecognizer, {direction: DIRECTION_HORIZONTAL}, ['swipe']],\n        [TapRecognizer],\n        [TapRecognizer, {event: 'doubletap', taps: 2}, ['tap']],\n        [PressRecognizer]\n    ],\n\n    /**\n     * Some CSS properties can be used to improve the working of Hammer.\n     * Add them to this method and they will be set when creating a new Manager.\n     * @namespace\n     */\n    cssProps: {\n        /**\n         * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userSelect: 'none',\n\n        /**\n         * Disable the Windows Phone grippers when pressing an element.\n         * @type {String}\n         * @default 'none'\n         */\n        touchSelect: 'none',\n\n        /**\n         * Disables the default callout shown when you touch and hold a touch target.\n         * On iOS, when you touch and hold a touch target such as a link, Safari displays\n         * a callout containing information about the link. This property allows you to disable that callout.\n         * @type {String}\n         * @default 'none'\n         */\n        touchCallout: 'none',\n\n        /**\n         * Specifies whether zooming is enabled. Used by IE10>\n         * @type {String}\n         * @default 'none'\n         */\n        contentZooming: 'none',\n\n        /**\n         * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userDrag: 'none',\n\n        /**\n         * Overrides the highlight color shown when the user taps a link or a JavaScript\n         * clickable element in iOS. This property obeys the alpha value, if specified.\n         * @type {String}\n         * @default 'rgba(0,0,0,0)'\n         */\n        tapHighlightColor: 'rgba(0,0,0,0)'\n    }\n};\n\nvar STOP = 1;\nvar FORCED_STOP = 2;\n\n/**\n * Manager\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Manager(element, options) {\n    this.options = assign({}, Hammer.defaults, options || {});\n\n    this.options.inputTarget = this.options.inputTarget || element;\n\n    this.handlers = {};\n    this.session = {};\n    this.recognizers = [];\n    this.oldCssProps = {};\n\n    this.element = element;\n    this.input = createInputInstance(this);\n    this.touchAction = new TouchAction(this, this.options.touchAction);\n\n    toggleCssProps(this, true);\n\n    each(this.options.recognizers, function(item) {\n        var recognizer = this.add(new (item[0])(item[1]));\n        item[2] && recognizer.recognizeWith(item[2]);\n        item[3] && recognizer.requireFailure(item[3]);\n    }, this);\n}\n\nManager.prototype = {\n    /**\n     * set options\n     * @param {Object} options\n     * @returns {Manager}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // Options that need a little more setup\n        if (options.touchAction) {\n            this.touchAction.update();\n        }\n        if (options.inputTarget) {\n            // Clean up existing event listeners and reinitialize\n            this.input.destroy();\n            this.input.target = options.inputTarget;\n            this.input.init();\n        }\n        return this;\n    },\n\n    /**\n     * stop recognizing for this session.\n     * This session will be discarded, when a new [input]start event is fired.\n     * When forced, the recognizer cycle is stopped immediately.\n     * @param {Boolean} [force]\n     */\n    stop: function(force) {\n        this.session.stopped = force ? FORCED_STOP : STOP;\n    },\n\n    /**\n     * run the recognizers!\n     * called by the inputHandler function on every movement of the pointers (touches)\n     * it walks through all the recognizers and tries to detect the gesture that is being made\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        var session = this.session;\n        if (session.stopped) {\n            return;\n        }\n\n        // run the touch-action polyfill\n        this.touchAction.preventDefaults(inputData);\n\n        var recognizer;\n        var recognizers = this.recognizers;\n\n        // this holds the recognizer that is being recognized.\n        // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n        // if no recognizer is detecting a thing, it is set to `null`\n        var curRecognizer = session.curRecognizer;\n\n        // reset when the last recognizer is recognized\n        // or when we're in a new session\n        if (!curRecognizer || (curRecognizer && curRecognizer.state & STATE_RECOGNIZED)) {\n            curRecognizer = session.curRecognizer = null;\n        }\n\n        var i = 0;\n        while (i < recognizers.length) {\n            recognizer = recognizers[i];\n\n            // find out if we are allowed try to recognize the input for this one.\n            // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n            // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n            //      that is being recognized.\n            // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n            //      this can be setup with the `recognizeWith()` method on the recognizer.\n            if (session.stopped !== FORCED_STOP && ( // 1\n                    !curRecognizer || recognizer == curRecognizer || // 2\n                    recognizer.canRecognizeWith(curRecognizer))) { // 3\n                recognizer.recognize(inputData);\n            } else {\n                recognizer.reset();\n            }\n\n            // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n            // current active recognizer. but only if we don't already have an active recognizer\n            if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n                curRecognizer = session.curRecognizer = recognizer;\n            }\n            i++;\n        }\n    },\n\n    /**\n     * get a recognizer by its event name.\n     * @param {Recognizer|String} recognizer\n     * @returns {Recognizer|Null}\n     */\n    get: function(recognizer) {\n        if (recognizer instanceof Recognizer) {\n            return recognizer;\n        }\n\n        var recognizers = this.recognizers;\n        for (var i = 0; i < recognizers.length; i++) {\n            if (recognizers[i].options.event == recognizer) {\n                return recognizers[i];\n            }\n        }\n        return null;\n    },\n\n    /**\n     * add a recognizer to the manager\n     * existing recognizers with the same event name will be removed\n     * @param {Recognizer} recognizer\n     * @returns {Recognizer|Manager}\n     */\n    add: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'add', this)) {\n            return this;\n        }\n\n        // remove existing\n        var existing = this.get(recognizer.options.event);\n        if (existing) {\n            this.remove(existing);\n        }\n\n        this.recognizers.push(recognizer);\n        recognizer.manager = this;\n\n        this.touchAction.update();\n        return recognizer;\n    },\n\n    /**\n     * remove a recognizer by name or instance\n     * @param {Recognizer|String} recognizer\n     * @returns {Manager}\n     */\n    remove: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'remove', this)) {\n            return this;\n        }\n\n        recognizer = this.get(recognizer);\n\n        // let's make sure this recognizer exists\n        if (recognizer) {\n            var recognizers = this.recognizers;\n            var index = inArray(recognizers, recognizer);\n\n            if (index !== -1) {\n                recognizers.splice(index, 1);\n                this.touchAction.update();\n            }\n        }\n\n        return this;\n    },\n\n    /**\n     * bind event\n     * @param {String} events\n     * @param {Function} handler\n     * @returns {EventEmitter} this\n     */\n    on: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n        if (handler === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            handlers[event] = handlers[event] || [];\n            handlers[event].push(handler);\n        });\n        return this;\n    },\n\n    /**\n     * unbind event, leave emit blank to remove all handlers\n     * @param {String} events\n     * @param {Function} [handler]\n     * @returns {EventEmitter} this\n     */\n    off: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            if (!handler) {\n                delete handlers[event];\n            } else {\n                handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);\n            }\n        });\n        return this;\n    },\n\n    /**\n     * emit event to the listeners\n     * @param {String} event\n     * @param {Object} data\n     */\n    emit: function(event, data) {\n        // we also want to trigger dom events\n        if (this.options.domEvents) {\n            triggerDomEvent(event, data);\n        }\n\n        // no handlers, so skip it all\n        var handlers = this.handlers[event] && this.handlers[event].slice();\n        if (!handlers || !handlers.length) {\n            return;\n        }\n\n        data.type = event;\n        data.preventDefault = function() {\n            data.srcEvent.preventDefault();\n        };\n\n        var i = 0;\n        while (i < handlers.length) {\n            handlers[i](data);\n            i++;\n        }\n    },\n\n    /**\n     * destroy the manager and unbinds all events\n     * it doesn't unbind dom events, that is the user own responsibility\n     */\n    destroy: function() {\n        this.element && toggleCssProps(this, false);\n\n        this.handlers = {};\n        this.session = {};\n        this.input.destroy();\n        this.element = null;\n    }\n};\n\n/**\n * add/remove the css properties as defined in manager.options.cssProps\n * @param {Manager} manager\n * @param {Boolean} add\n */\nfunction toggleCssProps(manager, add) {\n    var element = manager.element;\n    if (!element.style) {\n        return;\n    }\n    var prop;\n    each(manager.options.cssProps, function(value, name) {\n        prop = prefixed(element.style, name);\n        if (add) {\n            manager.oldCssProps[prop] = element.style[prop];\n            element.style[prop] = value;\n        } else {\n            element.style[prop] = manager.oldCssProps[prop] || '';\n        }\n    });\n    if (!add) {\n        manager.oldCssProps = {};\n    }\n}\n\n/**\n * trigger dom event\n * @param {String} event\n * @param {Object} data\n */\nfunction triggerDomEvent(event, data) {\n    var gestureEvent = document.createEvent('Event');\n    gestureEvent.initEvent(event, true, true);\n    gestureEvent.gesture = data;\n    data.target.dispatchEvent(gestureEvent);\n}\n\nassign(Hammer, {\n    INPUT_START: INPUT_START,\n    INPUT_MOVE: INPUT_MOVE,\n    INPUT_END: INPUT_END,\n    INPUT_CANCEL: INPUT_CANCEL,\n\n    STATE_POSSIBLE: STATE_POSSIBLE,\n    STATE_BEGAN: STATE_BEGAN,\n    STATE_CHANGED: STATE_CHANGED,\n    STATE_ENDED: STATE_ENDED,\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\n    STATE_CANCELLED: STATE_CANCELLED,\n    STATE_FAILED: STATE_FAILED,\n\n    DIRECTION_NONE: DIRECTION_NONE,\n    DIRECTION_LEFT: DIRECTION_LEFT,\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\n    DIRECTION_UP: DIRECTION_UP,\n    DIRECTION_DOWN: DIRECTION_DOWN,\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n    DIRECTION_ALL: DIRECTION_ALL,\n\n    Manager: Manager,\n    Input: Input,\n    TouchAction: TouchAction,\n\n    TouchInput: TouchInput,\n    MouseInput: MouseInput,\n    PointerEventInput: PointerEventInput,\n    TouchMouseInput: TouchMouseInput,\n    SingleTouchInput: SingleTouchInput,\n\n    Recognizer: Recognizer,\n    AttrRecognizer: AttrRecognizer,\n    Tap: TapRecognizer,\n    Pan: PanRecognizer,\n    Swipe: SwipeRecognizer,\n    Pinch: PinchRecognizer,\n    Rotate: RotateRecognizer,\n    Press: PressRecognizer,\n\n    on: addEventListeners,\n    off: removeEventListeners,\n    each: each,\n    merge: merge,\n    extend: extend,\n    assign: assign,\n    inherit: inherit,\n    bindFn: bindFn,\n    prefixed: prefixed\n});\n\n// this prevents errors when Hammer is loaded in the presence of an AMD\n//  style loader but by script tag, not by the loader.\nvar freeGlobal = (typeof window !== 'undefined' ? window : (typeof self !== 'undefined' ? self : {})); // jshint ignore:line\nfreeGlobal.Hammer = Hammer;\n\nif (typeof define === 'function' && define.amd) {\n    define(function() {\n        return Hammer;\n    });\n} else if (typeof module != 'undefined' && module.exports) {\n    module.exports = Hammer;\n} else {\n    window[exportName] = Hammer;\n}\n\n})(window, document, 'Hammer');\n","'use strict';\n/**\n * @license Angular v14.2.0-next.0\n * (c) 2010-2022 Google LLC. https://angular.io/\n * License: MIT\n */\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n((function (global) {\n    const performance = global['performance'];\n    function mark(name) {\n        performance && performance['mark'] && performance['mark'](name);\n    }\n    function performanceMeasure(name, label) {\n        performance && performance['measure'] && performance['measure'](name, label);\n    }\n    mark('Zone');\n    // Initialize before it's accessed below.\n    // __Zone_symbol_prefix global can be used to override the default zone\n    // symbol prefix with a custom one if needed.\n    const symbolPrefix = global['__Zone_symbol_prefix'] || '__zone_symbol__';\n    function __symbol__(name) {\n        return symbolPrefix + name;\n    }\n    const checkDuplicate = global[__symbol__('forceDuplicateZoneCheck')] === true;\n    if (global['Zone']) {\n        // if global['Zone'] already exists (maybe zone.js was already loaded or\n        // some other lib also registered a global object named Zone), we may need\n        // to throw an error, but sometimes user may not want this error.\n        // For example,\n        // we have two web pages, page1 includes zone.js, page2 doesn't.\n        // and the 1st time user load page1 and page2, everything work fine,\n        // but when user load page2 again, error occurs because global['Zone'] already exists.\n        // so we add a flag to let user choose whether to throw this error or not.\n        // By default, if existing Zone is from zone.js, we will not throw the error.\n        if (checkDuplicate || typeof global['Zone'].__symbol__ !== 'function') {\n            throw new Error('Zone already loaded.');\n        }\n        else {\n            return global['Zone'];\n        }\n    }\n    class Zone {\n        constructor(parent, zoneSpec) {\n            this._parent = parent;\n            this._name = zoneSpec ? zoneSpec.name || 'unnamed' : '<root>';\n            this._properties = zoneSpec && zoneSpec.properties || {};\n            this._zoneDelegate =\n                new _ZoneDelegate(this, this._parent && this._parent._zoneDelegate, zoneSpec);\n        }\n        static assertZonePatched() {\n            if (global['Promise'] !== patches['ZoneAwarePromise']) {\n                throw new Error('Zone.js has detected that ZoneAwarePromise `(window|global).Promise` ' +\n                    'has been overwritten.\\n' +\n                    'Most likely cause is that a Promise polyfill has been loaded ' +\n                    'after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. ' +\n                    'If you must load one, do so before loading zone.js.)');\n            }\n        }\n        static get root() {\n            let zone = Zone.current;\n            while (zone.parent) {\n                zone = zone.parent;\n            }\n            return zone;\n        }\n        static get current() {\n            return _currentZoneFrame.zone;\n        }\n        static get currentTask() {\n            return _currentTask;\n        }\n        // tslint:disable-next-line:require-internal-with-underscore\n        static __load_patch(name, fn, ignoreDuplicate = false) {\n            if (patches.hasOwnProperty(name)) {\n                // `checkDuplicate` option is defined from global variable\n                // so it works for all modules.\n                // `ignoreDuplicate` can work for the specified module\n                if (!ignoreDuplicate && checkDuplicate) {\n                    throw Error('Already loaded patch: ' + name);\n                }\n            }\n            else if (!global['__Zone_disable_' + name]) {\n                const perfName = 'Zone:' + name;\n                mark(perfName);\n                patches[name] = fn(global, Zone, _api);\n                performanceMeasure(perfName, perfName);\n            }\n        }\n        get parent() {\n            return this._parent;\n        }\n        get name() {\n            return this._name;\n        }\n        get(key) {\n            const zone = this.getZoneWith(key);\n            if (zone)\n                return zone._properties[key];\n        }\n        getZoneWith(key) {\n            let current = this;\n            while (current) {\n                if (current._properties.hasOwnProperty(key)) {\n                    return current;\n                }\n                current = current._parent;\n            }\n            return null;\n        }\n        fork(zoneSpec) {\n            if (!zoneSpec)\n                throw new Error('ZoneSpec required!');\n            return this._zoneDelegate.fork(this, zoneSpec);\n        }\n        wrap(callback, source) {\n            if (typeof callback !== 'function') {\n                throw new Error('Expecting function got: ' + callback);\n            }\n            const _callback = this._zoneDelegate.intercept(this, callback, source);\n            const zone = this;\n            return function () {\n                return zone.runGuarded(_callback, this, arguments, source);\n            };\n        }\n        run(callback, applyThis, applyArgs, source) {\n            _currentZoneFrame = { parent: _currentZoneFrame, zone: this };\n            try {\n                return this._zoneDelegate.invoke(this, callback, applyThis, applyArgs, source);\n            }\n            finally {\n                _currentZoneFrame = _currentZoneFrame.parent;\n            }\n        }\n        runGuarded(callback, applyThis = null, applyArgs, source) {\n            _currentZoneFrame = { parent: _currentZoneFrame, zone: this };\n            try {\n                try {\n                    return this._zoneDelegate.invoke(this, callback, applyThis, applyArgs, source);\n                }\n                catch (error) {\n                    if (this._zoneDelegate.handleError(this, error)) {\n                        throw error;\n                    }\n                }\n            }\n            finally {\n                _currentZoneFrame = _currentZoneFrame.parent;\n            }\n        }\n        runTask(task, applyThis, applyArgs) {\n            if (task.zone != this) {\n                throw new Error('A task can only be run in the zone of creation! (Creation: ' +\n                    (task.zone || NO_ZONE).name + '; Execution: ' + this.name + ')');\n            }\n            // https://github.com/angular/zone.js/issues/778, sometimes eventTask\n            // will run in notScheduled(canceled) state, we should not try to\n            // run such kind of task but just return\n            if (task.state === notScheduled && (task.type === eventTask || task.type === macroTask)) {\n                return;\n            }\n            const reEntryGuard = task.state != running;\n            reEntryGuard && task._transitionTo(running, scheduled);\n            task.runCount++;\n            const previousTask = _currentTask;\n            _currentTask = task;\n            _currentZoneFrame = { parent: _currentZoneFrame, zone: this };\n            try {\n                if (task.type == macroTask && task.data && !task.data.isPeriodic) {\n                    task.cancelFn = undefined;\n                }\n                try {\n                    return this._zoneDelegate.invokeTask(this, task, applyThis, applyArgs);\n                }\n                catch (error) {\n                    if (this._zoneDelegate.handleError(this, error)) {\n                        throw error;\n                    }\n                }\n            }\n            finally {\n                // if the task's state is notScheduled or unknown, then it has already been cancelled\n                // we should not reset the state to scheduled\n                if (task.state !== notScheduled && task.state !== unknown) {\n                    if (task.type == eventTask || (task.data && task.data.isPeriodic)) {\n                        reEntryGuard && task._transitionTo(scheduled, running);\n                    }\n                    else {\n                        task.runCount = 0;\n                        this._updateTaskCount(task, -1);\n                        reEntryGuard &&\n                            task._transitionTo(notScheduled, running, notScheduled);\n                    }\n                }\n                _currentZoneFrame = _currentZoneFrame.parent;\n                _currentTask = previousTask;\n            }\n        }\n        scheduleTask(task) {\n            if (task.zone && task.zone !== this) {\n                // check if the task was rescheduled, the newZone\n                // should not be the children of the original zone\n                let newZone = this;\n                while (newZone) {\n                    if (newZone === task.zone) {\n                        throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${task.zone.name}`);\n                    }\n                    newZone = newZone.parent;\n                }\n            }\n            task._transitionTo(scheduling, notScheduled);\n            const zoneDelegates = [];\n            task._zoneDelegates = zoneDelegates;\n            task._zone = this;\n            try {\n                task = this._zoneDelegate.scheduleTask(this, task);\n            }\n            catch (err) {\n                // should set task's state to unknown when scheduleTask throw error\n                // because the err may from reschedule, so the fromState maybe notScheduled\n                task._transitionTo(unknown, scheduling, notScheduled);\n                // TODO: @JiaLiPassion, should we check the result from handleError?\n                this._zoneDelegate.handleError(this, err);\n                throw err;\n            }\n            if (task._zoneDelegates === zoneDelegates) {\n                // we have to check because internally the delegate can reschedule the task.\n                this._updateTaskCount(task, 1);\n            }\n            if (task.state == scheduling) {\n                task._transitionTo(scheduled, scheduling);\n            }\n            return task;\n        }\n        scheduleMicroTask(source, callback, data, customSchedule) {\n            return this.scheduleTask(new ZoneTask(microTask, source, callback, data, customSchedule, undefined));\n        }\n        scheduleMacroTask(source, callback, data, customSchedule, customCancel) {\n            return this.scheduleTask(new ZoneTask(macroTask, source, callback, data, customSchedule, customCancel));\n        }\n        scheduleEventTask(source, callback, data, customSchedule, customCancel) {\n            return this.scheduleTask(new ZoneTask(eventTask, source, callback, data, customSchedule, customCancel));\n        }\n        cancelTask(task) {\n            if (task.zone != this)\n                throw new Error('A task can only be cancelled in the zone of creation! (Creation: ' +\n                    (task.zone || NO_ZONE).name + '; Execution: ' + this.name + ')');\n            task._transitionTo(canceling, scheduled, running);\n            try {\n                this._zoneDelegate.cancelTask(this, task);\n            }\n            catch (err) {\n                // if error occurs when cancelTask, transit the state to unknown\n                task._transitionTo(unknown, canceling);\n                this._zoneDelegate.handleError(this, err);\n                throw err;\n            }\n            this._updateTaskCount(task, -1);\n            task._transitionTo(notScheduled, canceling);\n            task.runCount = 0;\n            return task;\n        }\n        _updateTaskCount(task, count) {\n            const zoneDelegates = task._zoneDelegates;\n            if (count == -1) {\n                task._zoneDelegates = null;\n            }\n            for (let i = 0; i < zoneDelegates.length; i++) {\n                zoneDelegates[i]._updateTaskCount(task.type, count);\n            }\n        }\n    }\n    // tslint:disable-next-line:require-internal-with-underscore\n    Zone.__symbol__ = __symbol__;\n    const DELEGATE_ZS = {\n        name: '',\n        onHasTask: (delegate, _, target, hasTaskState) => delegate.hasTask(target, hasTaskState),\n        onScheduleTask: (delegate, _, target, task) => delegate.scheduleTask(target, task),\n        onInvokeTask: (delegate, _, target, task, applyThis, applyArgs) => delegate.invokeTask(target, task, applyThis, applyArgs),\n        onCancelTask: (delegate, _, target, task) => delegate.cancelTask(target, task)\n    };\n    class _ZoneDelegate {\n        constructor(zone, parentDelegate, zoneSpec) {\n            this._taskCounts = { 'microTask': 0, 'macroTask': 0, 'eventTask': 0 };\n            this.zone = zone;\n            this._parentDelegate = parentDelegate;\n            this._forkZS = zoneSpec && (zoneSpec && zoneSpec.onFork ? zoneSpec : parentDelegate._forkZS);\n            this._forkDlgt = zoneSpec && (zoneSpec.onFork ? parentDelegate : parentDelegate._forkDlgt);\n            this._forkCurrZone =\n                zoneSpec && (zoneSpec.onFork ? this.zone : parentDelegate._forkCurrZone);\n            this._interceptZS =\n                zoneSpec && (zoneSpec.onIntercept ? zoneSpec : parentDelegate._interceptZS);\n            this._interceptDlgt =\n                zoneSpec && (zoneSpec.onIntercept ? parentDelegate : parentDelegate._interceptDlgt);\n            this._interceptCurrZone =\n                zoneSpec && (zoneSpec.onIntercept ? this.zone : parentDelegate._interceptCurrZone);\n            this._invokeZS = zoneSpec && (zoneSpec.onInvoke ? zoneSpec : parentDelegate._invokeZS);\n            this._invokeDlgt =\n                zoneSpec && (zoneSpec.onInvoke ? parentDelegate : parentDelegate._invokeDlgt);\n            this._invokeCurrZone =\n                zoneSpec && (zoneSpec.onInvoke ? this.zone : parentDelegate._invokeCurrZone);\n            this._handleErrorZS =\n                zoneSpec && (zoneSpec.onHandleError ? zoneSpec : parentDelegate._handleErrorZS);\n            this._handleErrorDlgt =\n                zoneSpec && (zoneSpec.onHandleError ? parentDelegate : parentDelegate._handleErrorDlgt);\n            this._handleErrorCurrZone =\n                zoneSpec && (zoneSpec.onHandleError ? this.zone : parentDelegate._handleErrorCurrZone);\n            this._scheduleTaskZS =\n                zoneSpec && (zoneSpec.onScheduleTask ? zoneSpec : parentDelegate._scheduleTaskZS);\n            this._scheduleTaskDlgt = zoneSpec &&\n                (zoneSpec.onScheduleTask ? parentDelegate : parentDelegate._scheduleTaskDlgt);\n            this._scheduleTaskCurrZone =\n                zoneSpec && (zoneSpec.onScheduleTask ? this.zone : parentDelegate._scheduleTaskCurrZone);\n            this._invokeTaskZS =\n                zoneSpec && (zoneSpec.onInvokeTask ? zoneSpec : parentDelegate._invokeTaskZS);\n            this._invokeTaskDlgt =\n                zoneSpec && (zoneSpec.onInvokeTask ? parentDelegate : parentDelegate._invokeTaskDlgt);\n            this._invokeTaskCurrZone =\n                zoneSpec && (zoneSpec.onInvokeTask ? this.zone : parentDelegate._invokeTaskCurrZone);\n            this._cancelTaskZS =\n                zoneSpec && (zoneSpec.onCancelTask ? zoneSpec : parentDelegate._cancelTaskZS);\n            this._cancelTaskDlgt =\n                zoneSpec && (zoneSpec.onCancelTask ? parentDelegate : parentDelegate._cancelTaskDlgt);\n            this._cancelTaskCurrZone =\n                zoneSpec && (zoneSpec.onCancelTask ? this.zone : parentDelegate._cancelTaskCurrZone);\n            this._hasTaskZS = null;\n            this._hasTaskDlgt = null;\n            this._hasTaskDlgtOwner = null;\n            this._hasTaskCurrZone = null;\n            const zoneSpecHasTask = zoneSpec && zoneSpec.onHasTask;\n            const parentHasTask = parentDelegate && parentDelegate._hasTaskZS;\n            if (zoneSpecHasTask || parentHasTask) {\n                // If we need to report hasTask, than this ZS needs to do ref counting on tasks. In such\n                // a case all task related interceptors must go through this ZD. We can't short circuit it.\n                this._hasTaskZS = zoneSpecHasTask ? zoneSpec : DELEGATE_ZS;\n                this._hasTaskDlgt = parentDelegate;\n                this._hasTaskDlgtOwner = this;\n                this._hasTaskCurrZone = zone;\n                if (!zoneSpec.onScheduleTask) {\n                    this._scheduleTaskZS = DELEGATE_ZS;\n                    this._scheduleTaskDlgt = parentDelegate;\n                    this._scheduleTaskCurrZone = this.zone;\n                }\n                if (!zoneSpec.onInvokeTask) {\n                    this._invokeTaskZS = DELEGATE_ZS;\n                    this._invokeTaskDlgt = parentDelegate;\n                    this._invokeTaskCurrZone = this.zone;\n                }\n                if (!zoneSpec.onCancelTask) {\n                    this._cancelTaskZS = DELEGATE_ZS;\n                    this._cancelTaskDlgt = parentDelegate;\n                    this._cancelTaskCurrZone = this.zone;\n                }\n            }\n        }\n        fork(targetZone, zoneSpec) {\n            return this._forkZS ? this._forkZS.onFork(this._forkDlgt, this.zone, targetZone, zoneSpec) :\n                new Zone(targetZone, zoneSpec);\n        }\n        intercept(targetZone, callback, source) {\n            return this._interceptZS ?\n                this._interceptZS.onIntercept(this._interceptDlgt, this._interceptCurrZone, targetZone, callback, source) :\n                callback;\n        }\n        invoke(targetZone, callback, applyThis, applyArgs, source) {\n            return this._invokeZS ? this._invokeZS.onInvoke(this._invokeDlgt, this._invokeCurrZone, targetZone, callback, applyThis, applyArgs, source) :\n                callback.apply(applyThis, applyArgs);\n        }\n        handleError(targetZone, error) {\n            return this._handleErrorZS ?\n                this._handleErrorZS.onHandleError(this._handleErrorDlgt, this._handleErrorCurrZone, targetZone, error) :\n                true;\n        }\n        scheduleTask(targetZone, task) {\n            let returnTask = task;\n            if (this._scheduleTaskZS) {\n                if (this._hasTaskZS) {\n                    returnTask._zoneDelegates.push(this._hasTaskDlgtOwner);\n                }\n                // clang-format off\n                returnTask = this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt, this._scheduleTaskCurrZone, targetZone, task);\n                // clang-format on\n                if (!returnTask)\n                    returnTask = task;\n            }\n            else {\n                if (task.scheduleFn) {\n                    task.scheduleFn(task);\n                }\n                else if (task.type == microTask) {\n                    scheduleMicroTask(task);\n                }\n                else {\n                    throw new Error('Task is missing scheduleFn.');\n                }\n            }\n            return returnTask;\n        }\n        invokeTask(targetZone, task, applyThis, applyArgs) {\n            return this._invokeTaskZS ? this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt, this._invokeTaskCurrZone, targetZone, task, applyThis, applyArgs) :\n                task.callback.apply(applyThis, applyArgs);\n        }\n        cancelTask(targetZone, task) {\n            let value;\n            if (this._cancelTaskZS) {\n                value = this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt, this._cancelTaskCurrZone, targetZone, task);\n            }\n            else {\n                if (!task.cancelFn) {\n                    throw Error('Task is not cancelable');\n                }\n                value = task.cancelFn(task);\n            }\n            return value;\n        }\n        hasTask(targetZone, isEmpty) {\n            // hasTask should not throw error so other ZoneDelegate\n            // can still trigger hasTask callback\n            try {\n                this._hasTaskZS &&\n                    this._hasTaskZS.onHasTask(this._hasTaskDlgt, this._hasTaskCurrZone, targetZone, isEmpty);\n            }\n            catch (err) {\n                this.handleError(targetZone, err);\n            }\n        }\n        // tslint:disable-next-line:require-internal-with-underscore\n        _updateTaskCount(type, count) {\n            const counts = this._taskCounts;\n            const prev = counts[type];\n            const next = counts[type] = prev + count;\n            if (next < 0) {\n                throw new Error('More tasks executed then were scheduled.');\n            }\n            if (prev == 0 || next == 0) {\n                const isEmpty = {\n                    microTask: counts['microTask'] > 0,\n                    macroTask: counts['macroTask'] > 0,\n                    eventTask: counts['eventTask'] > 0,\n                    change: type\n                };\n                this.hasTask(this.zone, isEmpty);\n            }\n        }\n    }\n    class ZoneTask {\n        constructor(type, source, callback, options, scheduleFn, cancelFn) {\n            // tslint:disable-next-line:require-internal-with-underscore\n            this._zone = null;\n            this.runCount = 0;\n            // tslint:disable-next-line:require-internal-with-underscore\n            this._zoneDelegates = null;\n            // tslint:disable-next-line:require-internal-with-underscore\n            this._state = 'notScheduled';\n            this.type = type;\n            this.source = source;\n            this.data = options;\n            this.scheduleFn = scheduleFn;\n            this.cancelFn = cancelFn;\n            if (!callback) {\n                throw new Error('callback is not defined');\n            }\n            this.callback = callback;\n            const self = this;\n            // TODO: @JiaLiPassion options should have interface\n            if (type === eventTask && options && options.useG) {\n                this.invoke = ZoneTask.invokeTask;\n            }\n            else {\n                this.invoke = function () {\n                    return ZoneTask.invokeTask.call(global, self, this, arguments);\n                };\n            }\n        }\n        static invokeTask(task, target, args) {\n            if (!task) {\n                task = this;\n            }\n            _numberOfNestedTaskFrames++;\n            try {\n                task.runCount++;\n                return task.zone.runTask(task, target, args);\n            }\n            finally {\n                if (_numberOfNestedTaskFrames == 1) {\n                    drainMicroTaskQueue();\n                }\n                _numberOfNestedTaskFrames--;\n            }\n        }\n        get zone() {\n            return this._zone;\n        }\n        get state() {\n            return this._state;\n        }\n        cancelScheduleRequest() {\n            this._transitionTo(notScheduled, scheduling);\n        }\n        // tslint:disable-next-line:require-internal-with-underscore\n        _transitionTo(toState, fromState1, fromState2) {\n            if (this._state === fromState1 || this._state === fromState2) {\n                this._state = toState;\n                if (toState == notScheduled) {\n                    this._zoneDelegates = null;\n                }\n            }\n            else {\n                throw new Error(`${this.type} '${this.source}': can not transition to '${toState}', expecting state '${fromState1}'${fromState2 ? ' or \\'' + fromState2 + '\\'' : ''}, was '${this._state}'.`);\n            }\n        }\n        toString() {\n            if (this.data && typeof this.data.handleId !== 'undefined') {\n                return this.data.handleId.toString();\n            }\n            else {\n                return Object.prototype.toString.call(this);\n            }\n        }\n        // add toJSON method to prevent cyclic error when\n        // call JSON.stringify(zoneTask)\n        toJSON() {\n            return {\n                type: this.type,\n                state: this.state,\n                source: this.source,\n                zone: this.zone.name,\n                runCount: this.runCount\n            };\n        }\n    }\n    //////////////////////////////////////////////////////\n    //////////////////////////////////////////////////////\n    ///  MICROTASK QUEUE\n    //////////////////////////////////////////////////////\n    //////////////////////////////////////////////////////\n    const symbolSetTimeout = __symbol__('setTimeout');\n    const symbolPromise = __symbol__('Promise');\n    const symbolThen = __symbol__('then');\n    let _microTaskQueue = [];\n    let _isDrainingMicrotaskQueue = false;\n    let nativeMicroTaskQueuePromise;\n    function nativeScheduleMicroTask(func) {\n        if (!nativeMicroTaskQueuePromise) {\n            if (global[symbolPromise]) {\n                nativeMicroTaskQueuePromise = global[symbolPromise].resolve(0);\n            }\n        }\n        if (nativeMicroTaskQueuePromise) {\n            let nativeThen = nativeMicroTaskQueuePromise[symbolThen];\n            if (!nativeThen) {\n                // native Promise is not patchable, we need to use `then` directly\n                // issue 1078\n                nativeThen = nativeMicroTaskQueuePromise['then'];\n            }\n            nativeThen.call(nativeMicroTaskQueuePromise, func);\n        }\n        else {\n            global[symbolSetTimeout](func, 0);\n        }\n    }\n    function scheduleMicroTask(task) {\n        // if we are not running in any task, and there has not been anything scheduled\n        // we must bootstrap the initial task creation by manually scheduling the drain\n        if (_numberOfNestedTaskFrames === 0 && _microTaskQueue.length === 0) {\n            // We are not running in Task, so we need to kickstart the microtask queue.\n            nativeScheduleMicroTask(drainMicroTaskQueue);\n        }\n        task && _microTaskQueue.push(task);\n    }\n    function drainMicroTaskQueue() {\n        if (!_isDrainingMicrotaskQueue) {\n            _isDrainingMicrotaskQueue = true;\n            while (_microTaskQueue.length) {\n                const queue = _microTaskQueue;\n                _microTaskQueue = [];\n                for (let i = 0; i < queue.length; i++) {\n                    const task = queue[i];\n                    try {\n                        task.zone.runTask(task, null, null);\n                    }\n                    catch (error) {\n                        _api.onUnhandledError(error);\n                    }\n                }\n            }\n            _api.microtaskDrainDone();\n            _isDrainingMicrotaskQueue = false;\n        }\n    }\n    //////////////////////////////////////////////////////\n    //////////////////////////////////////////////////////\n    ///  BOOTSTRAP\n    //////////////////////////////////////////////////////\n    //////////////////////////////////////////////////////\n    const NO_ZONE = { name: 'NO ZONE' };\n    const notScheduled = 'notScheduled', scheduling = 'scheduling', scheduled = 'scheduled', running = 'running', canceling = 'canceling', unknown = 'unknown';\n    const microTask = 'microTask', macroTask = 'macroTask', eventTask = 'eventTask';\n    const patches = {};\n    const _api = {\n        symbol: __symbol__,\n        currentZoneFrame: () => _currentZoneFrame,\n        onUnhandledError: noop,\n        microtaskDrainDone: noop,\n        scheduleMicroTask: scheduleMicroTask,\n        showUncaughtError: () => !Zone[__symbol__('ignoreConsoleErrorUncaughtError')],\n        patchEventTarget: () => [],\n        patchOnProperties: noop,\n        patchMethod: () => noop,\n        bindArguments: () => [],\n        patchThen: () => noop,\n        patchMacroTask: () => noop,\n        patchEventPrototype: () => noop,\n        isIEOrEdge: () => false,\n        getGlobalObjects: () => undefined,\n        ObjectDefineProperty: () => noop,\n        ObjectGetOwnPropertyDescriptor: () => undefined,\n        ObjectCreate: () => undefined,\n        ArraySlice: () => [],\n        patchClass: () => noop,\n        wrapWithCurrentZone: () => noop,\n        filterProperties: () => [],\n        attachOriginToPatched: () => noop,\n        _redefineProperty: () => noop,\n        patchCallbacks: () => noop,\n        nativeScheduleMicroTask: nativeScheduleMicroTask\n    };\n    let _currentZoneFrame = { parent: null, zone: new Zone(null, null) };\n    let _currentTask = null;\n    let _numberOfNestedTaskFrames = 0;\n    function noop() { }\n    performanceMeasure('Zone', 'Zone');\n    return global['Zone'] = Zone;\n}))(typeof window !== 'undefined' && window || typeof self !== 'undefined' && self || global);\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Suppress closure compiler errors about unknown 'Zone' variable\n * @fileoverview\n * @suppress {undefinedVars,globalThis,missingRequire}\n */\n/// <reference types=\"node\"/>\n// issue #989, to reduce bundle size, use short name\n/** Object.getOwnPropertyDescriptor */\nconst ObjectGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n/** Object.defineProperty */\nconst ObjectDefineProperty = Object.defineProperty;\n/** Object.getPrototypeOf */\nconst ObjectGetPrototypeOf = Object.getPrototypeOf;\n/** Object.create */\nconst ObjectCreate = Object.create;\n/** Array.prototype.slice */\nconst ArraySlice = Array.prototype.slice;\n/** addEventListener string const */\nconst ADD_EVENT_LISTENER_STR = 'addEventListener';\n/** removeEventListener string const */\nconst REMOVE_EVENT_LISTENER_STR = 'removeEventListener';\n/** zoneSymbol addEventListener */\nconst ZONE_SYMBOL_ADD_EVENT_LISTENER = Zone.__symbol__(ADD_EVENT_LISTENER_STR);\n/** zoneSymbol removeEventListener */\nconst ZONE_SYMBOL_REMOVE_EVENT_LISTENER = Zone.__symbol__(REMOVE_EVENT_LISTENER_STR);\n/** true string const */\nconst TRUE_STR = 'true';\n/** false string const */\nconst FALSE_STR = 'false';\n/** Zone symbol prefix string const. */\nconst ZONE_SYMBOL_PREFIX = Zone.__symbol__('');\nfunction wrapWithCurrentZone(callback, source) {\n    return Zone.current.wrap(callback, source);\n}\nfunction scheduleMacroTaskWithCurrentZone(source, callback, data, customSchedule, customCancel) {\n    return Zone.current.scheduleMacroTask(source, callback, data, customSchedule, customCancel);\n}\nconst zoneSymbol = Zone.__symbol__;\nconst isWindowExists = typeof window !== 'undefined';\nconst internalWindow = isWindowExists ? window : undefined;\nconst _global = isWindowExists && internalWindow || typeof self === 'object' && self || global;\nconst REMOVE_ATTRIBUTE = 'removeAttribute';\nfunction bindArguments(args, source) {\n    for (let i = args.length - 1; i >= 0; i--) {\n        if (typeof args[i] === 'function') {\n            args[i] = wrapWithCurrentZone(args[i], source + '_' + i);\n        }\n    }\n    return args;\n}\nfunction patchPrototype(prototype, fnNames) {\n    const source = prototype.constructor['name'];\n    for (let i = 0; i < fnNames.length; i++) {\n        const name = fnNames[i];\n        const delegate = prototype[name];\n        if (delegate) {\n            const prototypeDesc = ObjectGetOwnPropertyDescriptor(prototype, name);\n            if (!isPropertyWritable(prototypeDesc)) {\n                continue;\n            }\n            prototype[name] = ((delegate) => {\n                const patched = function () {\n                    return delegate.apply(this, bindArguments(arguments, source + '.' + name));\n                };\n                attachOriginToPatched(patched, delegate);\n                return patched;\n            })(delegate);\n        }\n    }\n}\nfunction isPropertyWritable(propertyDesc) {\n    if (!propertyDesc) {\n        return true;\n    }\n    if (propertyDesc.writable === false) {\n        return false;\n    }\n    return !(typeof propertyDesc.get === 'function' && typeof propertyDesc.set === 'undefined');\n}\nconst isWebWorker = (typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope);\n// Make sure to access `process` through `_global` so that WebPack does not accidentally browserify\n// this code.\nconst isNode = (!('nw' in _global) && typeof _global.process !== 'undefined' &&\n    {}.toString.call(_global.process) === '[object process]');\nconst isBrowser = !isNode && !isWebWorker && !!(isWindowExists && internalWindow['HTMLElement']);\n// we are in electron of nw, so we are both browser and nodejs\n// Make sure to access `process` through `_global` so that WebPack does not accidentally browserify\n// this code.\nconst isMix = typeof _global.process !== 'undefined' &&\n    {}.toString.call(_global.process) === '[object process]' && !isWebWorker &&\n    !!(isWindowExists && internalWindow['HTMLElement']);\nconst zoneSymbolEventNames$1 = {};\nconst wrapFn = function (event) {\n    // https://github.com/angular/zone.js/issues/911, in IE, sometimes\n    // event will be undefined, so we need to use window.event\n    event = event || _global.event;\n    if (!event) {\n        return;\n    }\n    let eventNameSymbol = zoneSymbolEventNames$1[event.type];\n    if (!eventNameSymbol) {\n        eventNameSymbol = zoneSymbolEventNames$1[event.type] = zoneSymbol('ON_PROPERTY' + event.type);\n    }\n    const target = this || event.target || _global;\n    const listener = target[eventNameSymbol];\n    let result;\n    if (isBrowser && target === internalWindow && event.type === 'error') {\n        // window.onerror have different signature\n        // https://developer.mozilla.org/en-US/docs/Web/API/GlobalEventHandlers/onerror#window.onerror\n        // and onerror callback will prevent default when callback return true\n        const errorEvent = event;\n        result = listener &&\n            listener.call(this, errorEvent.message, errorEvent.filename, errorEvent.lineno, errorEvent.colno, errorEvent.error);\n        if (result === true) {\n            event.preventDefault();\n        }\n    }\n    else {\n        result = listener && listener.apply(this, arguments);\n        if (result != undefined && !result) {\n            event.preventDefault();\n        }\n    }\n    return result;\n};\nfunction patchProperty(obj, prop, prototype) {\n    let desc = ObjectGetOwnPropertyDescriptor(obj, prop);\n    if (!desc && prototype) {\n        // when patch window object, use prototype to check prop exist or not\n        const prototypeDesc = ObjectGetOwnPropertyDescriptor(prototype, prop);\n        if (prototypeDesc) {\n            desc = { enumerable: true, configurable: true };\n        }\n    }\n    // if the descriptor not exists or is not configurable\n    // just return\n    if (!desc || !desc.configurable) {\n        return;\n    }\n    const onPropPatchedSymbol = zoneSymbol('on' + prop + 'patched');\n    if (obj.hasOwnProperty(onPropPatchedSymbol) && obj[onPropPatchedSymbol]) {\n        return;\n    }\n    // A property descriptor cannot have getter/setter and be writable\n    // deleting the writable and value properties avoids this error:\n    //\n    // TypeError: property descriptors must not specify a value or be writable when a\n    // getter or setter has been specified\n    delete desc.writable;\n    delete desc.value;\n    const originalDescGet = desc.get;\n    const originalDescSet = desc.set;\n    // slice(2) cuz 'onclick' -> 'click', etc\n    const eventName = prop.slice(2);\n    let eventNameSymbol = zoneSymbolEventNames$1[eventName];\n    if (!eventNameSymbol) {\n        eventNameSymbol = zoneSymbolEventNames$1[eventName] = zoneSymbol('ON_PROPERTY' + eventName);\n    }\n    desc.set = function (newValue) {\n        // in some of windows's onproperty callback, this is undefined\n        // so we need to check it\n        let target = this;\n        if (!target && obj === _global) {\n            target = _global;\n        }\n        if (!target) {\n            return;\n        }\n        const previousValue = target[eventNameSymbol];\n        if (typeof previousValue === 'function') {\n            target.removeEventListener(eventName, wrapFn);\n        }\n        // issue #978, when onload handler was added before loading zone.js\n        // we should remove it with originalDescSet\n        originalDescSet && originalDescSet.call(target, null);\n        target[eventNameSymbol] = newValue;\n        if (typeof newValue === 'function') {\n            target.addEventListener(eventName, wrapFn, false);\n        }\n    };\n    // The getter would return undefined for unassigned properties but the default value of an\n    // unassigned property is null\n    desc.get = function () {\n        // in some of windows's onproperty callback, this is undefined\n        // so we need to check it\n        let target = this;\n        if (!target && obj === _global) {\n            target = _global;\n        }\n        if (!target) {\n            return null;\n        }\n        const listener = target[eventNameSymbol];\n        if (listener) {\n            return listener;\n        }\n        else if (originalDescGet) {\n            // result will be null when use inline event attribute,\n            // such as <button onclick=\"func();\">OK</button>\n            // because the onclick function is internal raw uncompiled handler\n            // the onclick will be evaluated when first time event was triggered or\n            // the property is accessed, https://github.com/angular/zone.js/issues/525\n            // so we should use original native get to retrieve the handler\n            let value = originalDescGet.call(this);\n            if (value) {\n                desc.set.call(this, value);\n                if (typeof target[REMOVE_ATTRIBUTE] === 'function') {\n                    target.removeAttribute(prop);\n                }\n                return value;\n            }\n        }\n        return null;\n    };\n    ObjectDefineProperty(obj, prop, desc);\n    obj[onPropPatchedSymbol] = true;\n}\nfunction patchOnProperties(obj, properties, prototype) {\n    if (properties) {\n        for (let i = 0; i < properties.length; i++) {\n            patchProperty(obj, 'on' + properties[i], prototype);\n        }\n    }\n    else {\n        const onProperties = [];\n        for (const prop in obj) {\n            if (prop.slice(0, 2) == 'on') {\n                onProperties.push(prop);\n            }\n        }\n        for (let j = 0; j < onProperties.length; j++) {\n            patchProperty(obj, onProperties[j], prototype);\n        }\n    }\n}\nconst originalInstanceKey = zoneSymbol('originalInstance');\n// wrap some native API on `window`\nfunction patchClass(className) {\n    const OriginalClass = _global[className];\n    if (!OriginalClass)\n        return;\n    // keep original class in global\n    _global[zoneSymbol(className)] = OriginalClass;\n    _global[className] = function () {\n        const a = bindArguments(arguments, className);\n        switch (a.length) {\n            case 0:\n                this[originalInstanceKey] = new OriginalClass();\n                break;\n            case 1:\n                this[originalInstanceKey] = new OriginalClass(a[0]);\n                break;\n            case 2:\n                this[originalInstanceKey] = new OriginalClass(a[0], a[1]);\n                break;\n            case 3:\n                this[originalInstanceKey] = new OriginalClass(a[0], a[1], a[2]);\n                break;\n            case 4:\n                this[originalInstanceKey] = new OriginalClass(a[0], a[1], a[2], a[3]);\n                break;\n            default:\n                throw new Error('Arg list too long.');\n        }\n    };\n    // attach original delegate to patched function\n    attachOriginToPatched(_global[className], OriginalClass);\n    const instance = new OriginalClass(function () { });\n    let prop;\n    for (prop in instance) {\n        // https://bugs.webkit.org/show_bug.cgi?id=44721\n        if (className === 'XMLHttpRequest' && prop === 'responseBlob')\n            continue;\n        (function (prop) {\n            if (typeof instance[prop] === 'function') {\n                _global[className].prototype[prop] = function () {\n                    return this[originalInstanceKey][prop].apply(this[originalInstanceKey], arguments);\n                };\n            }\n            else {\n                ObjectDefineProperty(_global[className].prototype, prop, {\n                    set: function (fn) {\n                        if (typeof fn === 'function') {\n                            this[originalInstanceKey][prop] = wrapWithCurrentZone(fn, className + '.' + prop);\n                            // keep callback in wrapped function so we can\n                            // use it in Function.prototype.toString to return\n                            // the native one.\n                            attachOriginToPatched(this[originalInstanceKey][prop], fn);\n                        }\n                        else {\n                            this[originalInstanceKey][prop] = fn;\n                        }\n                    },\n                    get: function () {\n                        return this[originalInstanceKey][prop];\n                    }\n                });\n            }\n        }(prop));\n    }\n    for (prop in OriginalClass) {\n        if (prop !== 'prototype' && OriginalClass.hasOwnProperty(prop)) {\n            _global[className][prop] = OriginalClass[prop];\n        }\n    }\n}\nfunction patchMethod(target, name, patchFn) {\n    let proto = target;\n    while (proto && !proto.hasOwnProperty(name)) {\n        proto = ObjectGetPrototypeOf(proto);\n    }\n    if (!proto && target[name]) {\n        // somehow we did not find it, but we can see it. This happens on IE for Window properties.\n        proto = target;\n    }\n    const delegateName = zoneSymbol(name);\n    let delegate = null;\n    if (proto && (!(delegate = proto[delegateName]) || !proto.hasOwnProperty(delegateName))) {\n        delegate = proto[delegateName] = proto[name];\n        // check whether proto[name] is writable\n        // some property is readonly in safari, such as HtmlCanvasElement.prototype.toBlob\n        const desc = proto && ObjectGetOwnPropertyDescriptor(proto, name);\n        if (isPropertyWritable(desc)) {\n            const patchDelegate = patchFn(delegate, delegateName, name);\n            proto[name] = function () {\n                return patchDelegate(this, arguments);\n            };\n            attachOriginToPatched(proto[name], delegate);\n        }\n    }\n    return delegate;\n}\n// TODO: @JiaLiPassion, support cancel task later if necessary\nfunction patchMacroTask(obj, funcName, metaCreator) {\n    let setNative = null;\n    function scheduleTask(task) {\n        const data = task.data;\n        data.args[data.cbIdx] = function () {\n            task.invoke.apply(this, arguments);\n        };\n        setNative.apply(data.target, data.args);\n        return task;\n    }\n    setNative = patchMethod(obj, funcName, (delegate) => function (self, args) {\n        const meta = metaCreator(self, args);\n        if (meta.cbIdx >= 0 && typeof args[meta.cbIdx] === 'function') {\n            return scheduleMacroTaskWithCurrentZone(meta.name, args[meta.cbIdx], meta, scheduleTask);\n        }\n        else {\n            // cause an error by calling it directly.\n            return delegate.apply(self, args);\n        }\n    });\n}\nfunction attachOriginToPatched(patched, original) {\n    patched[zoneSymbol('OriginalDelegate')] = original;\n}\nlet isDetectedIEOrEdge = false;\nlet ieOrEdge = false;\nfunction isIE() {\n    try {\n        const ua = internalWindow.navigator.userAgent;\n        if (ua.indexOf('MSIE ') !== -1 || ua.indexOf('Trident/') !== -1) {\n            return true;\n        }\n    }\n    catch (error) {\n    }\n    return false;\n}\nfunction isIEOrEdge() {\n    if (isDetectedIEOrEdge) {\n        return ieOrEdge;\n    }\n    isDetectedIEOrEdge = true;\n    try {\n        const ua = internalWindow.navigator.userAgent;\n        if (ua.indexOf('MSIE ') !== -1 || ua.indexOf('Trident/') !== -1 || ua.indexOf('Edge/') !== -1) {\n            ieOrEdge = true;\n        }\n    }\n    catch (error) {\n    }\n    return ieOrEdge;\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nZone.__load_patch('ZoneAwarePromise', (global, Zone, api) => {\n    const ObjectGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n    const ObjectDefineProperty = Object.defineProperty;\n    function readableObjectToString(obj) {\n        if (obj && obj.toString === Object.prototype.toString) {\n            const className = obj.constructor && obj.constructor.name;\n            return (className ? className : '') + ': ' + JSON.stringify(obj);\n        }\n        return obj ? obj.toString() : Object.prototype.toString.call(obj);\n    }\n    const __symbol__ = api.symbol;\n    const _uncaughtPromiseErrors = [];\n    const isDisableWrappingUncaughtPromiseRejection = global[__symbol__('DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION')] === true;\n    const symbolPromise = __symbol__('Promise');\n    const symbolThen = __symbol__('then');\n    const creationTrace = '__creationTrace__';\n    api.onUnhandledError = (e) => {\n        if (api.showUncaughtError()) {\n            const rejection = e && e.rejection;\n            if (rejection) {\n                console.error('Unhandled Promise rejection:', rejection instanceof Error ? rejection.message : rejection, '; Zone:', e.zone.name, '; Task:', e.task && e.task.source, '; Value:', rejection, rejection instanceof Error ? rejection.stack : undefined);\n            }\n            else {\n                console.error(e);\n            }\n        }\n    };\n    api.microtaskDrainDone = () => {\n        while (_uncaughtPromiseErrors.length) {\n            const uncaughtPromiseError = _uncaughtPromiseErrors.shift();\n            try {\n                uncaughtPromiseError.zone.runGuarded(() => {\n                    if (uncaughtPromiseError.throwOriginal) {\n                        throw uncaughtPromiseError.rejection;\n                    }\n                    throw uncaughtPromiseError;\n                });\n            }\n            catch (error) {\n                handleUnhandledRejection(error);\n            }\n        }\n    };\n    const UNHANDLED_PROMISE_REJECTION_HANDLER_SYMBOL = __symbol__('unhandledPromiseRejectionHandler');\n    function handleUnhandledRejection(e) {\n        api.onUnhandledError(e);\n        try {\n            const handler = Zone[UNHANDLED_PROMISE_REJECTION_HANDLER_SYMBOL];\n            if (typeof handler === 'function') {\n                handler.call(this, e);\n            }\n        }\n        catch (err) {\n        }\n    }\n    function isThenable(value) {\n        return value && value.then;\n    }\n    function forwardResolution(value) {\n        return value;\n    }\n    function forwardRejection(rejection) {\n        return ZoneAwarePromise.reject(rejection);\n    }\n    const symbolState = __symbol__('state');\n    const symbolValue = __symbol__('value');\n    const symbolFinally = __symbol__('finally');\n    const symbolParentPromiseValue = __symbol__('parentPromiseValue');\n    const symbolParentPromiseState = __symbol__('parentPromiseState');\n    const source = 'Promise.then';\n    const UNRESOLVED = null;\n    const RESOLVED = true;\n    const REJECTED = false;\n    const REJECTED_NO_CATCH = 0;\n    function makeResolver(promise, state) {\n        return (v) => {\n            try {\n                resolvePromise(promise, state, v);\n            }\n            catch (err) {\n                resolvePromise(promise, false, err);\n            }\n            // Do not return value or you will break the Promise spec.\n        };\n    }\n    const once = function () {\n        let wasCalled = false;\n        return function wrapper(wrappedFunction) {\n            return function () {\n                if (wasCalled) {\n                    return;\n                }\n                wasCalled = true;\n                wrappedFunction.apply(null, arguments);\n            };\n        };\n    };\n    const TYPE_ERROR = 'Promise resolved with itself';\n    const CURRENT_TASK_TRACE_SYMBOL = __symbol__('currentTaskTrace');\n    // Promise Resolution\n    function resolvePromise(promise, state, value) {\n        const onceWrapper = once();\n        if (promise === value) {\n            throw new TypeError(TYPE_ERROR);\n        }\n        if (promise[symbolState] === UNRESOLVED) {\n            // should only get value.then once based on promise spec.\n            let then = null;\n            try {\n                if (typeof value === 'object' || typeof value === 'function') {\n                    then = value && value.then;\n                }\n            }\n            catch (err) {\n                onceWrapper(() => {\n                    resolvePromise(promise, false, err);\n                })();\n                return promise;\n            }\n            // if (value instanceof ZoneAwarePromise) {\n            if (state !== REJECTED && value instanceof ZoneAwarePromise &&\n                value.hasOwnProperty(symbolState) && value.hasOwnProperty(symbolValue) &&\n                value[symbolState] !== UNRESOLVED) {\n                clearRejectedNoCatch(value);\n                resolvePromise(promise, value[symbolState], value[symbolValue]);\n            }\n            else if (state !== REJECTED && typeof then === 'function') {\n                try {\n                    then.call(value, onceWrapper(makeResolver(promise, state)), onceWrapper(makeResolver(promise, false)));\n                }\n                catch (err) {\n                    onceWrapper(() => {\n                        resolvePromise(promise, false, err);\n                    })();\n                }\n            }\n            else {\n                promise[symbolState] = state;\n                const queue = promise[symbolValue];\n                promise[symbolValue] = value;\n                if (promise[symbolFinally] === symbolFinally) {\n                    // the promise is generated by Promise.prototype.finally\n                    if (state === RESOLVED) {\n                        // the state is resolved, should ignore the value\n                        // and use parent promise value\n                        promise[symbolState] = promise[symbolParentPromiseState];\n                        promise[symbolValue] = promise[symbolParentPromiseValue];\n                    }\n                }\n                // record task information in value when error occurs, so we can\n                // do some additional work such as render longStackTrace\n                if (state === REJECTED && value instanceof Error) {\n                    // check if longStackTraceZone is here\n                    const trace = Zone.currentTask && Zone.currentTask.data &&\n                        Zone.currentTask.data[creationTrace];\n                    if (trace) {\n                        // only keep the long stack trace into error when in longStackTraceZone\n                        ObjectDefineProperty(value, CURRENT_TASK_TRACE_SYMBOL, { configurable: true, enumerable: false, writable: true, value: trace });\n                    }\n                }\n                for (let i = 0; i < queue.length;) {\n                    scheduleResolveOrReject(promise, queue[i++], queue[i++], queue[i++], queue[i++]);\n                }\n                if (queue.length == 0 && state == REJECTED) {\n                    promise[symbolState] = REJECTED_NO_CATCH;\n                    let uncaughtPromiseError = value;\n                    try {\n                        // Here we throws a new Error to print more readable error log\n                        // and if the value is not an error, zone.js builds an `Error`\n                        // Object here to attach the stack information.\n                        throw new Error('Uncaught (in promise): ' + readableObjectToString(value) +\n                            (value && value.stack ? '\\n' + value.stack : ''));\n                    }\n                    catch (err) {\n                        uncaughtPromiseError = err;\n                    }\n                    if (isDisableWrappingUncaughtPromiseRejection) {\n                        // If disable wrapping uncaught promise reject\n                        // use the value instead of wrapping it.\n                        uncaughtPromiseError.throwOriginal = true;\n                    }\n                    uncaughtPromiseError.rejection = value;\n                    uncaughtPromiseError.promise = promise;\n                    uncaughtPromiseError.zone = Zone.current;\n                    uncaughtPromiseError.task = Zone.currentTask;\n                    _uncaughtPromiseErrors.push(uncaughtPromiseError);\n                    api.scheduleMicroTask(); // to make sure that it is running\n                }\n            }\n        }\n        // Resolving an already resolved promise is a noop.\n        return promise;\n    }\n    const REJECTION_HANDLED_HANDLER = __symbol__('rejectionHandledHandler');\n    function clearRejectedNoCatch(promise) {\n        if (promise[symbolState] === REJECTED_NO_CATCH) {\n            // if the promise is rejected no catch status\n            // and queue.length > 0, means there is a error handler\n            // here to handle the rejected promise, we should trigger\n            // windows.rejectionhandled eventHandler or nodejs rejectionHandled\n            // eventHandler\n            try {\n                const handler = Zone[REJECTION_HANDLED_HANDLER];\n                if (handler && typeof handler === 'function') {\n                    handler.call(this, { rejection: promise[symbolValue], promise: promise });\n                }\n            }\n            catch (err) {\n            }\n            promise[symbolState] = REJECTED;\n            for (let i = 0; i < _uncaughtPromiseErrors.length; i++) {\n                if (promise === _uncaughtPromiseErrors[i].promise) {\n                    _uncaughtPromiseErrors.splice(i, 1);\n                }\n            }\n        }\n    }\n    function scheduleResolveOrReject(promise, zone, chainPromise, onFulfilled, onRejected) {\n        clearRejectedNoCatch(promise);\n        const promiseState = promise[symbolState];\n        const delegate = promiseState ?\n            (typeof onFulfilled === 'function') ? onFulfilled : forwardResolution :\n            (typeof onRejected === 'function') ? onRejected :\n                forwardRejection;\n        zone.scheduleMicroTask(source, () => {\n            try {\n                const parentPromiseValue = promise[symbolValue];\n                const isFinallyPromise = !!chainPromise && symbolFinally === chainPromise[symbolFinally];\n                if (isFinallyPromise) {\n                    // if the promise is generated from finally call, keep parent promise's state and value\n                    chainPromise[symbolParentPromiseValue] = parentPromiseValue;\n                    chainPromise[symbolParentPromiseState] = promiseState;\n                }\n                // should not pass value to finally callback\n                const value = zone.run(delegate, undefined, isFinallyPromise && delegate !== forwardRejection && delegate !== forwardResolution ?\n                    [] :\n                    [parentPromiseValue]);\n                resolvePromise(chainPromise, true, value);\n            }\n            catch (error) {\n                // if error occurs, should always return this error\n                resolvePromise(chainPromise, false, error);\n            }\n        }, chainPromise);\n    }\n    const ZONE_AWARE_PROMISE_TO_STRING = 'function ZoneAwarePromise() { [native code] }';\n    const noop = function () { };\n    const AggregateError = global.AggregateError;\n    class ZoneAwarePromise {\n        static toString() {\n            return ZONE_AWARE_PROMISE_TO_STRING;\n        }\n        static resolve(value) {\n            return resolvePromise(new this(null), RESOLVED, value);\n        }\n        static reject(error) {\n            return resolvePromise(new this(null), REJECTED, error);\n        }\n        static any(values) {\n            if (!values || typeof values[Symbol.iterator] !== 'function') {\n                return Promise.reject(new AggregateError([], 'All promises were rejected'));\n            }\n            const promises = [];\n            let count = 0;\n            try {\n                for (let v of values) {\n                    count++;\n                    promises.push(ZoneAwarePromise.resolve(v));\n                }\n            }\n            catch (err) {\n                return Promise.reject(new AggregateError([], 'All promises were rejected'));\n            }\n            if (count === 0) {\n                return Promise.reject(new AggregateError([], 'All promises were rejected'));\n            }\n            let finished = false;\n            const errors = [];\n            return new ZoneAwarePromise((resolve, reject) => {\n                for (let i = 0; i < promises.length; i++) {\n                    promises[i].then(v => {\n                        if (finished) {\n                            return;\n                        }\n                        finished = true;\n                        resolve(v);\n                    }, err => {\n                        errors.push(err);\n                        count--;\n                        if (count === 0) {\n                            finished = true;\n                            reject(new AggregateError(errors, 'All promises were rejected'));\n                        }\n                    });\n                }\n            });\n        }\n        ;\n        static race(values) {\n            let resolve;\n            let reject;\n            let promise = new this((res, rej) => {\n                resolve = res;\n                reject = rej;\n            });\n            function onResolve(value) {\n                resolve(value);\n            }\n            function onReject(error) {\n                reject(error);\n            }\n            for (let value of values) {\n                if (!isThenable(value)) {\n                    value = this.resolve(value);\n                }\n                value.then(onResolve, onReject);\n            }\n            return promise;\n        }\n        static all(values) {\n            return ZoneAwarePromise.allWithCallback(values);\n        }\n        static allSettled(values) {\n            const P = this && this.prototype instanceof ZoneAwarePromise ? this : ZoneAwarePromise;\n            return P.allWithCallback(values, {\n                thenCallback: (value) => ({ status: 'fulfilled', value }),\n                errorCallback: (err) => ({ status: 'rejected', reason: err })\n            });\n        }\n        static allWithCallback(values, callback) {\n            let resolve;\n            let reject;\n            let promise = new this((res, rej) => {\n                resolve = res;\n                reject = rej;\n            });\n            // Start at 2 to prevent prematurely resolving if .then is called immediately.\n            let unresolvedCount = 2;\n            let valueIndex = 0;\n            const resolvedValues = [];\n            for (let value of values) {\n                if (!isThenable(value)) {\n                    value = this.resolve(value);\n                }\n                const curValueIndex = valueIndex;\n                try {\n                    value.then((value) => {\n                        resolvedValues[curValueIndex] = callback ? callback.thenCallback(value) : value;\n                        unresolvedCount--;\n                        if (unresolvedCount === 0) {\n                            resolve(resolvedValues);\n                        }\n                    }, (err) => {\n                        if (!callback) {\n                            reject(err);\n                        }\n                        else {\n                            resolvedValues[curValueIndex] = callback.errorCallback(err);\n                            unresolvedCount--;\n                            if (unresolvedCount === 0) {\n                                resolve(resolvedValues);\n                            }\n                        }\n                    });\n                }\n                catch (thenErr) {\n                    reject(thenErr);\n                }\n                unresolvedCount++;\n                valueIndex++;\n            }\n            // Make the unresolvedCount zero-based again.\n            unresolvedCount -= 2;\n            if (unresolvedCount === 0) {\n                resolve(resolvedValues);\n            }\n            return promise;\n        }\n        constructor(executor) {\n            const promise = this;\n            if (!(promise instanceof ZoneAwarePromise)) {\n                throw new Error('Must be an instanceof Promise.');\n            }\n            promise[symbolState] = UNRESOLVED;\n            promise[symbolValue] = []; // queue;\n            try {\n                const onceWrapper = once();\n                executor &&\n                    executor(onceWrapper(makeResolver(promise, RESOLVED)), onceWrapper(makeResolver(promise, REJECTED)));\n            }\n            catch (error) {\n                resolvePromise(promise, false, error);\n            }\n        }\n        get [Symbol.toStringTag]() {\n            return 'Promise';\n        }\n        get [Symbol.species]() {\n            return ZoneAwarePromise;\n        }\n        then(onFulfilled, onRejected) {\n            var _a;\n            // We must read `Symbol.species` safely because `this` may be anything. For instance, `this`\n            // may be an object without a prototype (created through `Object.create(null)`); thus\n            // `this.constructor` will be undefined. One of the use cases is SystemJS creating\n            // prototype-less objects (modules) via `Object.create(null)`. The SystemJS creates an empty\n            // object and copies promise properties into that object (within the `getOrCreateLoad`\n            // function). The zone.js then checks if the resolved value has the `then` method and invokes\n            // it with the `value` context. Otherwise, this will throw an error: `TypeError: Cannot read\n            // properties of undefined (reading 'Symbol(Symbol.species)')`.\n            let C = (_a = this.constructor) === null || _a === void 0 ? void 0 : _a[Symbol.species];\n            if (!C || typeof C !== 'function') {\n                C = this.constructor || ZoneAwarePromise;\n            }\n            const chainPromise = new C(noop);\n            const zone = Zone.current;\n            if (this[symbolState] == UNRESOLVED) {\n                this[symbolValue].push(zone, chainPromise, onFulfilled, onRejected);\n            }\n            else {\n                scheduleResolveOrReject(this, zone, chainPromise, onFulfilled, onRejected);\n            }\n            return chainPromise;\n        }\n        catch(onRejected) {\n            return this.then(null, onRejected);\n        }\n        finally(onFinally) {\n            var _a;\n            // See comment on the call to `then` about why thee `Symbol.species` is safely accessed.\n            let C = (_a = this.constructor) === null || _a === void 0 ? void 0 : _a[Symbol.species];\n            if (!C || typeof C !== 'function') {\n                C = ZoneAwarePromise;\n            }\n            const chainPromise = new C(noop);\n            chainPromise[symbolFinally] = symbolFinally;\n            const zone = Zone.current;\n            if (this[symbolState] == UNRESOLVED) {\n                this[symbolValue].push(zone, chainPromise, onFinally, onFinally);\n            }\n            else {\n                scheduleResolveOrReject(this, zone, chainPromise, onFinally, onFinally);\n            }\n            return chainPromise;\n        }\n    }\n    // Protect against aggressive optimizers dropping seemingly unused properties.\n    // E.g. Closure Compiler in advanced mode.\n    ZoneAwarePromise['resolve'] = ZoneAwarePromise.resolve;\n    ZoneAwarePromise['reject'] = ZoneAwarePromise.reject;\n    ZoneAwarePromise['race'] = ZoneAwarePromise.race;\n    ZoneAwarePromise['all'] = ZoneAwarePromise.all;\n    const NativePromise = global[symbolPromise] = global['Promise'];\n    global['Promise'] = ZoneAwarePromise;\n    const symbolThenPatched = __symbol__('thenPatched');\n    function patchThen(Ctor) {\n        const proto = Ctor.prototype;\n        const prop = ObjectGetOwnPropertyDescriptor(proto, 'then');\n        if (prop && (prop.writable === false || !prop.configurable)) {\n            // check Ctor.prototype.then propertyDescriptor is writable or not\n            // in meteor env, writable is false, we should ignore such case\n            return;\n        }\n        const originalThen = proto.then;\n        // Keep a reference to the original method.\n        proto[symbolThen] = originalThen;\n        Ctor.prototype.then = function (onResolve, onReject) {\n            const wrapped = new ZoneAwarePromise((resolve, reject) => {\n                originalThen.call(this, resolve, reject);\n            });\n            return wrapped.then(onResolve, onReject);\n        };\n        Ctor[symbolThenPatched] = true;\n    }\n    api.patchThen = patchThen;\n    function zoneify(fn) {\n        return function (self, args) {\n            let resultPromise = fn.apply(self, args);\n            if (resultPromise instanceof ZoneAwarePromise) {\n                return resultPromise;\n            }\n            let ctor = resultPromise.constructor;\n            if (!ctor[symbolThenPatched]) {\n                patchThen(ctor);\n            }\n            return resultPromise;\n        };\n    }\n    if (NativePromise) {\n        patchThen(NativePromise);\n        patchMethod(global, 'fetch', delegate => zoneify(delegate));\n    }\n    // This is not part of public API, but it is useful for tests, so we expose it.\n    Promise[Zone.__symbol__('uncaughtPromiseErrors')] = _uncaughtPromiseErrors;\n    return ZoneAwarePromise;\n});\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n// override Function.prototype.toString to make zone.js patched function\n// look like native function\nZone.__load_patch('toString', (global) => {\n    // patch Func.prototype.toString to let them look like native\n    const originalFunctionToString = Function.prototype.toString;\n    const ORIGINAL_DELEGATE_SYMBOL = zoneSymbol('OriginalDelegate');\n    const PROMISE_SYMBOL = zoneSymbol('Promise');\n    const ERROR_SYMBOL = zoneSymbol('Error');\n    const newFunctionToString = function toString() {\n        if (typeof this === 'function') {\n            const originalDelegate = this[ORIGINAL_DELEGATE_SYMBOL];\n            if (originalDelegate) {\n                if (typeof originalDelegate === 'function') {\n                    return originalFunctionToString.call(originalDelegate);\n                }\n                else {\n                    return Object.prototype.toString.call(originalDelegate);\n                }\n            }\n            if (this === Promise) {\n                const nativePromise = global[PROMISE_SYMBOL];\n                if (nativePromise) {\n                    return originalFunctionToString.call(nativePromise);\n                }\n            }\n            if (this === Error) {\n                const nativeError = global[ERROR_SYMBOL];\n                if (nativeError) {\n                    return originalFunctionToString.call(nativeError);\n                }\n            }\n        }\n        return originalFunctionToString.call(this);\n    };\n    newFunctionToString[ORIGINAL_DELEGATE_SYMBOL] = originalFunctionToString;\n    Function.prototype.toString = newFunctionToString;\n    // patch Object.prototype.toString to let them look like native\n    const originalObjectToString = Object.prototype.toString;\n    const PROMISE_OBJECT_TO_STRING = '[object Promise]';\n    Object.prototype.toString = function () {\n        if (typeof Promise === 'function' && this instanceof Promise) {\n            return PROMISE_OBJECT_TO_STRING;\n        }\n        return originalObjectToString.call(this);\n    };\n});\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nlet passiveSupported = false;\nif (typeof window !== 'undefined') {\n    try {\n        const options = Object.defineProperty({}, 'passive', {\n            get: function () {\n                passiveSupported = true;\n            }\n        });\n        // Note: We pass the `options` object as the event handler too. This is not compatible with the\n        // signature of `addEventListener` or `removeEventListener` but enables us to remove the handler\n        // without an actual handler.\n        window.addEventListener('test', options, options);\n        window.removeEventListener('test', options, options);\n    }\n    catch (err) {\n        passiveSupported = false;\n    }\n}\n// an identifier to tell ZoneTask do not create a new invoke closure\nconst OPTIMIZED_ZONE_EVENT_TASK_DATA = {\n    useG: true\n};\nconst zoneSymbolEventNames = {};\nconst globalSources = {};\nconst EVENT_NAME_SYMBOL_REGX = new RegExp('^' + ZONE_SYMBOL_PREFIX + '(\\\\w+)(true|false)$');\nconst IMMEDIATE_PROPAGATION_SYMBOL = zoneSymbol('propagationStopped');\nfunction prepareEventNames(eventName, eventNameToString) {\n    const falseEventName = (eventNameToString ? eventNameToString(eventName) : eventName) + FALSE_STR;\n    const trueEventName = (eventNameToString ? eventNameToString(eventName) : eventName) + TRUE_STR;\n    const symbol = ZONE_SYMBOL_PREFIX + falseEventName;\n    const symbolCapture = ZONE_SYMBOL_PREFIX + trueEventName;\n    zoneSymbolEventNames[eventName] = {};\n    zoneSymbolEventNames[eventName][FALSE_STR] = symbol;\n    zoneSymbolEventNames[eventName][TRUE_STR] = symbolCapture;\n}\nfunction patchEventTarget(_global, api, apis, patchOptions) {\n    const ADD_EVENT_LISTENER = (patchOptions && patchOptions.add) || ADD_EVENT_LISTENER_STR;\n    const REMOVE_EVENT_LISTENER = (patchOptions && patchOptions.rm) || REMOVE_EVENT_LISTENER_STR;\n    const LISTENERS_EVENT_LISTENER = (patchOptions && patchOptions.listeners) || 'eventListeners';\n    const REMOVE_ALL_LISTENERS_EVENT_LISTENER = (patchOptions && patchOptions.rmAll) || 'removeAllListeners';\n    const zoneSymbolAddEventListener = zoneSymbol(ADD_EVENT_LISTENER);\n    const ADD_EVENT_LISTENER_SOURCE = '.' + ADD_EVENT_LISTENER + ':';\n    const PREPEND_EVENT_LISTENER = 'prependListener';\n    const PREPEND_EVENT_LISTENER_SOURCE = '.' + PREPEND_EVENT_LISTENER + ':';\n    const invokeTask = function (task, target, event) {\n        // for better performance, check isRemoved which is set\n        // by removeEventListener\n        if (task.isRemoved) {\n            return;\n        }\n        const delegate = task.callback;\n        if (typeof delegate === 'object' && delegate.handleEvent) {\n            // create the bind version of handleEvent when invoke\n            task.callback = (event) => delegate.handleEvent(event);\n            task.originalDelegate = delegate;\n        }\n        // invoke static task.invoke\n        // need to try/catch error here, otherwise, the error in one event listener\n        // will break the executions of the other event listeners. Also error will\n        // not remove the event listener when `once` options is true.\n        let error;\n        try {\n            task.invoke(task, target, [event]);\n        }\n        catch (err) {\n            error = err;\n        }\n        const options = task.options;\n        if (options && typeof options === 'object' && options.once) {\n            // if options.once is true, after invoke once remove listener here\n            // only browser need to do this, nodejs eventEmitter will cal removeListener\n            // inside EventEmitter.once\n            const delegate = task.originalDelegate ? task.originalDelegate : task.callback;\n            target[REMOVE_EVENT_LISTENER].call(target, event.type, delegate, options);\n        }\n        return error;\n    };\n    function globalCallback(context, event, isCapture) {\n        // https://github.com/angular/zone.js/issues/911, in IE, sometimes\n        // event will be undefined, so we need to use window.event\n        event = event || _global.event;\n        if (!event) {\n            return;\n        }\n        // event.target is needed for Samsung TV and SourceBuffer\n        // || global is needed https://github.com/angular/zone.js/issues/190\n        const target = context || event.target || _global;\n        const tasks = target[zoneSymbolEventNames[event.type][isCapture ? TRUE_STR : FALSE_STR]];\n        if (tasks) {\n            const errors = [];\n            // invoke all tasks which attached to current target with given event.type and capture = false\n            // for performance concern, if task.length === 1, just invoke\n            if (tasks.length === 1) {\n                const err = invokeTask(tasks[0], target, event);\n                err && errors.push(err);\n            }\n            else {\n                // https://github.com/angular/zone.js/issues/836\n                // copy the tasks array before invoke, to avoid\n                // the callback will remove itself or other listener\n                const copyTasks = tasks.slice();\n                for (let i = 0; i < copyTasks.length; i++) {\n                    if (event && event[IMMEDIATE_PROPAGATION_SYMBOL] === true) {\n                        break;\n                    }\n                    const err = invokeTask(copyTasks[i], target, event);\n                    err && errors.push(err);\n                }\n            }\n            // Since there is only one error, we don't need to schedule microTask\n            // to throw the error.\n            if (errors.length === 1) {\n                throw errors[0];\n            }\n            else {\n                for (let i = 0; i < errors.length; i++) {\n                    const err = errors[i];\n                    api.nativeScheduleMicroTask(() => {\n                        throw err;\n                    });\n                }\n            }\n        }\n    }\n    // global shared zoneAwareCallback to handle all event callback with capture = false\n    const globalZoneAwareCallback = function (event) {\n        return globalCallback(this, event, false);\n    };\n    // global shared zoneAwareCallback to handle all event callback with capture = true\n    const globalZoneAwareCaptureCallback = function (event) {\n        return globalCallback(this, event, true);\n    };\n    function patchEventTargetMethods(obj, patchOptions) {\n        if (!obj) {\n            return false;\n        }\n        let useGlobalCallback = true;\n        if (patchOptions && patchOptions.useG !== undefined) {\n            useGlobalCallback = patchOptions.useG;\n        }\n        const validateHandler = patchOptions && patchOptions.vh;\n        let checkDuplicate = true;\n        if (patchOptions && patchOptions.chkDup !== undefined) {\n            checkDuplicate = patchOptions.chkDup;\n        }\n        let returnTarget = false;\n        if (patchOptions && patchOptions.rt !== undefined) {\n            returnTarget = patchOptions.rt;\n        }\n        let proto = obj;\n        while (proto && !proto.hasOwnProperty(ADD_EVENT_LISTENER)) {\n            proto = ObjectGetPrototypeOf(proto);\n        }\n        if (!proto && obj[ADD_EVENT_LISTENER]) {\n            // somehow we did not find it, but we can see it. This happens on IE for Window properties.\n            proto = obj;\n        }\n        if (!proto) {\n            return false;\n        }\n        if (proto[zoneSymbolAddEventListener]) {\n            return false;\n        }\n        const eventNameToString = patchOptions && patchOptions.eventNameToString;\n        // a shared global taskData to pass data for scheduleEventTask\n        // so we do not need to create a new object just for pass some data\n        const taskData = {};\n        const nativeAddEventListener = proto[zoneSymbolAddEventListener] = proto[ADD_EVENT_LISTENER];\n        const nativeRemoveEventListener = proto[zoneSymbol(REMOVE_EVENT_LISTENER)] =\n            proto[REMOVE_EVENT_LISTENER];\n        const nativeListeners = proto[zoneSymbol(LISTENERS_EVENT_LISTENER)] =\n            proto[LISTENERS_EVENT_LISTENER];\n        const nativeRemoveAllListeners = proto[zoneSymbol(REMOVE_ALL_LISTENERS_EVENT_LISTENER)] =\n            proto[REMOVE_ALL_LISTENERS_EVENT_LISTENER];\n        let nativePrependEventListener;\n        if (patchOptions && patchOptions.prepend) {\n            nativePrependEventListener = proto[zoneSymbol(patchOptions.prepend)] =\n                proto[patchOptions.prepend];\n        }\n        /**\n         * This util function will build an option object with passive option\n         * to handle all possible input from the user.\n         */\n        function buildEventListenerOptions(options, passive) {\n            if (!passiveSupported && typeof options === 'object' && options) {\n                // doesn't support passive but user want to pass an object as options.\n                // this will not work on some old browser, so we just pass a boolean\n                // as useCapture parameter\n                return !!options.capture;\n            }\n            if (!passiveSupported || !passive) {\n                return options;\n            }\n            if (typeof options === 'boolean') {\n                return { capture: options, passive: true };\n            }\n            if (!options) {\n                return { passive: true };\n            }\n            if (typeof options === 'object' && options.passive !== false) {\n                return Object.assign(Object.assign({}, options), { passive: true });\n            }\n            return options;\n        }\n        const customScheduleGlobal = function (task) {\n            // if there is already a task for the eventName + capture,\n            // just return, because we use the shared globalZoneAwareCallback here.\n            if (taskData.isExisting) {\n                return;\n            }\n            return nativeAddEventListener.call(taskData.target, taskData.eventName, taskData.capture ? globalZoneAwareCaptureCallback : globalZoneAwareCallback, taskData.options);\n        };\n        const customCancelGlobal = function (task) {\n            // if task is not marked as isRemoved, this call is directly\n            // from Zone.prototype.cancelTask, we should remove the task\n            // from tasksList of target first\n            if (!task.isRemoved) {\n                const symbolEventNames = zoneSymbolEventNames[task.eventName];\n                let symbolEventName;\n                if (symbolEventNames) {\n                    symbolEventName = symbolEventNames[task.capture ? TRUE_STR : FALSE_STR];\n                }\n                const existingTasks = symbolEventName && task.target[symbolEventName];\n                if (existingTasks) {\n                    for (let i = 0; i < existingTasks.length; i++) {\n                        const existingTask = existingTasks[i];\n                        if (existingTask === task) {\n                            existingTasks.splice(i, 1);\n                            // set isRemoved to data for faster invokeTask check\n                            task.isRemoved = true;\n                            if (existingTasks.length === 0) {\n                                // all tasks for the eventName + capture have gone,\n                                // remove globalZoneAwareCallback and remove the task cache from target\n                                task.allRemoved = true;\n                                task.target[symbolEventName] = null;\n                            }\n                            break;\n                        }\n                    }\n                }\n            }\n            // if all tasks for the eventName + capture have gone,\n            // we will really remove the global event callback,\n            // if not, return\n            if (!task.allRemoved) {\n                return;\n            }\n            return nativeRemoveEventListener.call(task.target, task.eventName, task.capture ? globalZoneAwareCaptureCallback : globalZoneAwareCallback, task.options);\n        };\n        const customScheduleNonGlobal = function (task) {\n            return nativeAddEventListener.call(taskData.target, taskData.eventName, task.invoke, taskData.options);\n        };\n        const customSchedulePrepend = function (task) {\n            return nativePrependEventListener.call(taskData.target, taskData.eventName, task.invoke, taskData.options);\n        };\n        const customCancelNonGlobal = function (task) {\n            return nativeRemoveEventListener.call(task.target, task.eventName, task.invoke, task.options);\n        };\n        const customSchedule = useGlobalCallback ? customScheduleGlobal : customScheduleNonGlobal;\n        const customCancel = useGlobalCallback ? customCancelGlobal : customCancelNonGlobal;\n        const compareTaskCallbackVsDelegate = function (task, delegate) {\n            const typeOfDelegate = typeof delegate;\n            return (typeOfDelegate === 'function' && task.callback === delegate) ||\n                (typeOfDelegate === 'object' && task.originalDelegate === delegate);\n        };\n        const compare = (patchOptions && patchOptions.diff) ? patchOptions.diff : compareTaskCallbackVsDelegate;\n        const unpatchedEvents = Zone[zoneSymbol('UNPATCHED_EVENTS')];\n        const passiveEvents = _global[zoneSymbol('PASSIVE_EVENTS')];\n        const makeAddListener = function (nativeListener, addSource, customScheduleFn, customCancelFn, returnTarget = false, prepend = false) {\n            return function () {\n                const target = this || _global;\n                let eventName = arguments[0];\n                if (patchOptions && patchOptions.transferEventName) {\n                    eventName = patchOptions.transferEventName(eventName);\n                }\n                let delegate = arguments[1];\n                if (!delegate) {\n                    return nativeListener.apply(this, arguments);\n                }\n                if (isNode && eventName === 'uncaughtException') {\n                    // don't patch uncaughtException of nodejs to prevent endless loop\n                    return nativeListener.apply(this, arguments);\n                }\n                // don't create the bind delegate function for handleEvent\n                // case here to improve addEventListener performance\n                // we will create the bind delegate when invoke\n                let isHandleEvent = false;\n                if (typeof delegate !== 'function') {\n                    if (!delegate.handleEvent) {\n                        return nativeListener.apply(this, arguments);\n                    }\n                    isHandleEvent = true;\n                }\n                if (validateHandler && !validateHandler(nativeListener, delegate, target, arguments)) {\n                    return;\n                }\n                const passive = passiveSupported && !!passiveEvents && passiveEvents.indexOf(eventName) !== -1;\n                const options = buildEventListenerOptions(arguments[2], passive);\n                if (unpatchedEvents) {\n                    // check unpatched list\n                    for (let i = 0; i < unpatchedEvents.length; i++) {\n                        if (eventName === unpatchedEvents[i]) {\n                            if (passive) {\n                                return nativeListener.call(target, eventName, delegate, options);\n                            }\n                            else {\n                                return nativeListener.apply(this, arguments);\n                            }\n                        }\n                    }\n                }\n                const capture = !options ? false : typeof options === 'boolean' ? true : options.capture;\n                const once = options && typeof options === 'object' ? options.once : false;\n                const zone = Zone.current;\n                let symbolEventNames = zoneSymbolEventNames[eventName];\n                if (!symbolEventNames) {\n                    prepareEventNames(eventName, eventNameToString);\n                    symbolEventNames = zoneSymbolEventNames[eventName];\n                }\n                const symbolEventName = symbolEventNames[capture ? TRUE_STR : FALSE_STR];\n                let existingTasks = target[symbolEventName];\n                let isExisting = false;\n                if (existingTasks) {\n                    // already have task registered\n                    isExisting = true;\n                    if (checkDuplicate) {\n                        for (let i = 0; i < existingTasks.length; i++) {\n                            if (compare(existingTasks[i], delegate)) {\n                                // same callback, same capture, same event name, just return\n                                return;\n                            }\n                        }\n                    }\n                }\n                else {\n                    existingTasks = target[symbolEventName] = [];\n                }\n                let source;\n                const constructorName = target.constructor['name'];\n                const targetSource = globalSources[constructorName];\n                if (targetSource) {\n                    source = targetSource[eventName];\n                }\n                if (!source) {\n                    source = constructorName + addSource +\n                        (eventNameToString ? eventNameToString(eventName) : eventName);\n                }\n                // do not create a new object as task.data to pass those things\n                // just use the global shared one\n                taskData.options = options;\n                if (once) {\n                    // if addEventListener with once options, we don't pass it to\n                    // native addEventListener, instead we keep the once setting\n                    // and handle ourselves.\n                    taskData.options.once = false;\n                }\n                taskData.target = target;\n                taskData.capture = capture;\n                taskData.eventName = eventName;\n                taskData.isExisting = isExisting;\n                const data = useGlobalCallback ? OPTIMIZED_ZONE_EVENT_TASK_DATA : undefined;\n                // keep taskData into data to allow onScheduleEventTask to access the task information\n                if (data) {\n                    data.taskData = taskData;\n                }\n                const task = zone.scheduleEventTask(source, delegate, data, customScheduleFn, customCancelFn);\n                // should clear taskData.target to avoid memory leak\n                // issue, https://github.com/angular/angular/issues/20442\n                taskData.target = null;\n                // need to clear up taskData because it is a global object\n                if (data) {\n                    data.taskData = null;\n                }\n                // have to save those information to task in case\n                // application may call task.zone.cancelTask() directly\n                if (once) {\n                    options.once = true;\n                }\n                if (!(!passiveSupported && typeof task.options === 'boolean')) {\n                    // if not support passive, and we pass an option object\n                    // to addEventListener, we should save the options to task\n                    task.options = options;\n                }\n                task.target = target;\n                task.capture = capture;\n                task.eventName = eventName;\n                if (isHandleEvent) {\n                    // save original delegate for compare to check duplicate\n                    task.originalDelegate = delegate;\n                }\n                if (!prepend) {\n                    existingTasks.push(task);\n                }\n                else {\n                    existingTasks.unshift(task);\n                }\n                if (returnTarget) {\n                    return target;\n                }\n            };\n        };\n        proto[ADD_EVENT_LISTENER] = makeAddListener(nativeAddEventListener, ADD_EVENT_LISTENER_SOURCE, customSchedule, customCancel, returnTarget);\n        if (nativePrependEventListener) {\n            proto[PREPEND_EVENT_LISTENER] = makeAddListener(nativePrependEventListener, PREPEND_EVENT_LISTENER_SOURCE, customSchedulePrepend, customCancel, returnTarget, true);\n        }\n        proto[REMOVE_EVENT_LISTENER] = function () {\n            const target = this || _global;\n            let eventName = arguments[0];\n            if (patchOptions && patchOptions.transferEventName) {\n                eventName = patchOptions.transferEventName(eventName);\n            }\n            const options = arguments[2];\n            const capture = !options ? false : typeof options === 'boolean' ? true : options.capture;\n            const delegate = arguments[1];\n            if (!delegate) {\n                return nativeRemoveEventListener.apply(this, arguments);\n            }\n            if (validateHandler &&\n                !validateHandler(nativeRemoveEventListener, delegate, target, arguments)) {\n                return;\n            }\n            const symbolEventNames = zoneSymbolEventNames[eventName];\n            let symbolEventName;\n            if (symbolEventNames) {\n                symbolEventName = symbolEventNames[capture ? TRUE_STR : FALSE_STR];\n            }\n            const existingTasks = symbolEventName && target[symbolEventName];\n            if (existingTasks) {\n                for (let i = 0; i < existingTasks.length; i++) {\n                    const existingTask = existingTasks[i];\n                    if (compare(existingTask, delegate)) {\n                        existingTasks.splice(i, 1);\n                        // set isRemoved to data for faster invokeTask check\n                        existingTask.isRemoved = true;\n                        if (existingTasks.length === 0) {\n                            // all tasks for the eventName + capture have gone,\n                            // remove globalZoneAwareCallback and remove the task cache from target\n                            existingTask.allRemoved = true;\n                            target[symbolEventName] = null;\n                            // in the target, we have an event listener which is added by on_property\n                            // such as target.onclick = function() {}, so we need to clear this internal\n                            // property too if all delegates all removed\n                            if (typeof eventName === 'string') {\n                                const onPropertySymbol = ZONE_SYMBOL_PREFIX + 'ON_PROPERTY' + eventName;\n                                target[onPropertySymbol] = null;\n                            }\n                        }\n                        existingTask.zone.cancelTask(existingTask);\n                        if (returnTarget) {\n                            return target;\n                        }\n                        return;\n                    }\n                }\n            }\n            // issue 930, didn't find the event name or callback\n            // from zone kept existingTasks, the callback maybe\n            // added outside of zone, we need to call native removeEventListener\n            // to try to remove it.\n            return nativeRemoveEventListener.apply(this, arguments);\n        };\n        proto[LISTENERS_EVENT_LISTENER] = function () {\n            const target = this || _global;\n            let eventName = arguments[0];\n            if (patchOptions && patchOptions.transferEventName) {\n                eventName = patchOptions.transferEventName(eventName);\n            }\n            const listeners = [];\n            const tasks = findEventTasks(target, eventNameToString ? eventNameToString(eventName) : eventName);\n            for (let i = 0; i < tasks.length; i++) {\n                const task = tasks[i];\n                let delegate = task.originalDelegate ? task.originalDelegate : task.callback;\n                listeners.push(delegate);\n            }\n            return listeners;\n        };\n        proto[REMOVE_ALL_LISTENERS_EVENT_LISTENER] = function () {\n            const target = this || _global;\n            let eventName = arguments[0];\n            if (!eventName) {\n                const keys = Object.keys(target);\n                for (let i = 0; i < keys.length; i++) {\n                    const prop = keys[i];\n                    const match = EVENT_NAME_SYMBOL_REGX.exec(prop);\n                    let evtName = match && match[1];\n                    // in nodejs EventEmitter, removeListener event is\n                    // used for monitoring the removeListener call,\n                    // so just keep removeListener eventListener until\n                    // all other eventListeners are removed\n                    if (evtName && evtName !== 'removeListener') {\n                        this[REMOVE_ALL_LISTENERS_EVENT_LISTENER].call(this, evtName);\n                    }\n                }\n                // remove removeListener listener finally\n                this[REMOVE_ALL_LISTENERS_EVENT_LISTENER].call(this, 'removeListener');\n            }\n            else {\n                if (patchOptions && patchOptions.transferEventName) {\n                    eventName = patchOptions.transferEventName(eventName);\n                }\n                const symbolEventNames = zoneSymbolEventNames[eventName];\n                if (symbolEventNames) {\n                    const symbolEventName = symbolEventNames[FALSE_STR];\n                    const symbolCaptureEventName = symbolEventNames[TRUE_STR];\n                    const tasks = target[symbolEventName];\n                    const captureTasks = target[symbolCaptureEventName];\n                    if (tasks) {\n                        const removeTasks = tasks.slice();\n                        for (let i = 0; i < removeTasks.length; i++) {\n                            const task = removeTasks[i];\n                            let delegate = task.originalDelegate ? task.originalDelegate : task.callback;\n                            this[REMOVE_EVENT_LISTENER].call(this, eventName, delegate, task.options);\n                        }\n                    }\n                    if (captureTasks) {\n                        const removeTasks = captureTasks.slice();\n                        for (let i = 0; i < removeTasks.length; i++) {\n                            const task = removeTasks[i];\n                            let delegate = task.originalDelegate ? task.originalDelegate : task.callback;\n                            this[REMOVE_EVENT_LISTENER].call(this, eventName, delegate, task.options);\n                        }\n                    }\n                }\n            }\n            if (returnTarget) {\n                return this;\n            }\n        };\n        // for native toString patch\n        attachOriginToPatched(proto[ADD_EVENT_LISTENER], nativeAddEventListener);\n        attachOriginToPatched(proto[REMOVE_EVENT_LISTENER], nativeRemoveEventListener);\n        if (nativeRemoveAllListeners) {\n            attachOriginToPatched(proto[REMOVE_ALL_LISTENERS_EVENT_LISTENER], nativeRemoveAllListeners);\n        }\n        if (nativeListeners) {\n            attachOriginToPatched(proto[LISTENERS_EVENT_LISTENER], nativeListeners);\n        }\n        return true;\n    }\n    let results = [];\n    for (let i = 0; i < apis.length; i++) {\n        results[i] = patchEventTargetMethods(apis[i], patchOptions);\n    }\n    return results;\n}\nfunction findEventTasks(target, eventName) {\n    if (!eventName) {\n        const foundTasks = [];\n        for (let prop in target) {\n            const match = EVENT_NAME_SYMBOL_REGX.exec(prop);\n            let evtName = match && match[1];\n            if (evtName && (!eventName || evtName === eventName)) {\n                const tasks = target[prop];\n                if (tasks) {\n                    for (let i = 0; i < tasks.length; i++) {\n                        foundTasks.push(tasks[i]);\n                    }\n                }\n            }\n        }\n        return foundTasks;\n    }\n    let symbolEventName = zoneSymbolEventNames[eventName];\n    if (!symbolEventName) {\n        prepareEventNames(eventName);\n        symbolEventName = zoneSymbolEventNames[eventName];\n    }\n    const captureFalseTasks = target[symbolEventName[FALSE_STR]];\n    const captureTrueTasks = target[symbolEventName[TRUE_STR]];\n    if (!captureFalseTasks) {\n        return captureTrueTasks ? captureTrueTasks.slice() : [];\n    }\n    else {\n        return captureTrueTasks ? captureFalseTasks.concat(captureTrueTasks) :\n            captureFalseTasks.slice();\n    }\n}\nfunction patchEventPrototype(global, api) {\n    const Event = global['Event'];\n    if (Event && Event.prototype) {\n        api.patchMethod(Event.prototype, 'stopImmediatePropagation', (delegate) => function (self, args) {\n            self[IMMEDIATE_PROPAGATION_SYMBOL] = true;\n            // we need to call the native stopImmediatePropagation\n            // in case in some hybrid application, some part of\n            // application will be controlled by zone, some are not\n            delegate && delegate.apply(self, args);\n        });\n    }\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nfunction patchCallbacks(api, target, targetName, method, callbacks) {\n    const symbol = Zone.__symbol__(method);\n    if (target[symbol]) {\n        return;\n    }\n    const nativeDelegate = target[symbol] = target[method];\n    target[method] = function (name, opts, options) {\n        if (opts && opts.prototype) {\n            callbacks.forEach(function (callback) {\n                const source = `${targetName}.${method}::` + callback;\n                const prototype = opts.prototype;\n                // Note: the `patchCallbacks` is used for patching the `document.registerElement` and\n                // `customElements.define`. We explicitly wrap the patching code into try-catch since\n                // callbacks may be already patched by other web components frameworks (e.g. LWC), and they\n                // make those properties non-writable. This means that patching callback will throw an error\n                // `cannot assign to read-only property`. See this code as an example:\n                // https://github.com/salesforce/lwc/blob/master/packages/@lwc/engine-core/src/framework/base-bridge-element.ts#L180-L186\n                // We don't want to stop the application rendering if we couldn't patch some\n                // callback, e.g. `attributeChangedCallback`.\n                try {\n                    if (prototype.hasOwnProperty(callback)) {\n                        const descriptor = api.ObjectGetOwnPropertyDescriptor(prototype, callback);\n                        if (descriptor && descriptor.value) {\n                            descriptor.value = api.wrapWithCurrentZone(descriptor.value, source);\n                            api._redefineProperty(opts.prototype, callback, descriptor);\n                        }\n                        else if (prototype[callback]) {\n                            prototype[callback] = api.wrapWithCurrentZone(prototype[callback], source);\n                        }\n                    }\n                    else if (prototype[callback]) {\n                        prototype[callback] = api.wrapWithCurrentZone(prototype[callback], source);\n                    }\n                }\n                catch (_a) {\n                    // Note: we leave the catch block empty since there's no way to handle the error related\n                    // to non-writable property.\n                }\n            });\n        }\n        return nativeDelegate.call(target, name, opts, options);\n    };\n    api.attachOriginToPatched(target[method], nativeDelegate);\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nfunction filterProperties(target, onProperties, ignoreProperties) {\n    if (!ignoreProperties || ignoreProperties.length === 0) {\n        return onProperties;\n    }\n    const tip = ignoreProperties.filter(ip => ip.target === target);\n    if (!tip || tip.length === 0) {\n        return onProperties;\n    }\n    const targetIgnoreProperties = tip[0].ignoreProperties;\n    return onProperties.filter(op => targetIgnoreProperties.indexOf(op) === -1);\n}\nfunction patchFilteredProperties(target, onProperties, ignoreProperties, prototype) {\n    // check whether target is available, sometimes target will be undefined\n    // because different browser or some 3rd party plugin.\n    if (!target) {\n        return;\n    }\n    const filteredProperties = filterProperties(target, onProperties, ignoreProperties);\n    patchOnProperties(target, filteredProperties, prototype);\n}\n/**\n * Get all event name properties which the event name startsWith `on`\n * from the target object itself, inherited properties are not considered.\n */\nfunction getOnEventNames(target) {\n    return Object.getOwnPropertyNames(target)\n        .filter(name => name.startsWith('on') && name.length > 2)\n        .map(name => name.substring(2));\n}\nfunction propertyDescriptorPatch(api, _global) {\n    if (isNode && !isMix) {\n        return;\n    }\n    if (Zone[api.symbol('patchEvents')]) {\n        // events are already been patched by legacy patch.\n        return;\n    }\n    const ignoreProperties = _global['__Zone_ignore_on_properties'];\n    // for browsers that we can patch the descriptor:  Chrome & Firefox\n    let patchTargets = [];\n    if (isBrowser) {\n        const internalWindow = window;\n        patchTargets = patchTargets.concat([\n            'Document', 'SVGElement', 'Element', 'HTMLElement', 'HTMLBodyElement', 'HTMLMediaElement',\n            'HTMLFrameSetElement', 'HTMLFrameElement', 'HTMLIFrameElement', 'HTMLMarqueeElement', 'Worker'\n        ]);\n        const ignoreErrorProperties = isIE() ? [{ target: internalWindow, ignoreProperties: ['error'] }] : [];\n        // in IE/Edge, onProp not exist in window object, but in WindowPrototype\n        // so we need to pass WindowPrototype to check onProp exist or not\n        patchFilteredProperties(internalWindow, getOnEventNames(internalWindow), ignoreProperties ? ignoreProperties.concat(ignoreErrorProperties) : ignoreProperties, ObjectGetPrototypeOf(internalWindow));\n    }\n    patchTargets = patchTargets.concat([\n        'XMLHttpRequest', 'XMLHttpRequestEventTarget', 'IDBIndex', 'IDBRequest', 'IDBOpenDBRequest',\n        'IDBDatabase', 'IDBTransaction', 'IDBCursor', 'WebSocket'\n    ]);\n    for (let i = 0; i < patchTargets.length; i++) {\n        const target = _global[patchTargets[i]];\n        target && target.prototype &&\n            patchFilteredProperties(target.prototype, getOnEventNames(target.prototype), ignoreProperties);\n    }\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nZone.__load_patch('util', (global, Zone, api) => {\n    // Collect native event names by looking at properties\n    // on the global namespace, e.g. 'onclick'.\n    const eventNames = getOnEventNames(global);\n    api.patchOnProperties = patchOnProperties;\n    api.patchMethod = patchMethod;\n    api.bindArguments = bindArguments;\n    api.patchMacroTask = patchMacroTask;\n    // In earlier version of zone.js (<0.9.0), we use env name `__zone_symbol__BLACK_LISTED_EVENTS` to\n    // define which events will not be patched by `Zone.js`.\n    // In newer version (>=0.9.0), we change the env name to `__zone_symbol__UNPATCHED_EVENTS` to keep\n    // the name consistent with angular repo.\n    // The  `__zone_symbol__BLACK_LISTED_EVENTS` is deprecated, but it is still be supported for\n    // backwards compatibility.\n    const SYMBOL_BLACK_LISTED_EVENTS = Zone.__symbol__('BLACK_LISTED_EVENTS');\n    const SYMBOL_UNPATCHED_EVENTS = Zone.__symbol__('UNPATCHED_EVENTS');\n    if (global[SYMBOL_UNPATCHED_EVENTS]) {\n        global[SYMBOL_BLACK_LISTED_EVENTS] = global[SYMBOL_UNPATCHED_EVENTS];\n    }\n    if (global[SYMBOL_BLACK_LISTED_EVENTS]) {\n        Zone[SYMBOL_BLACK_LISTED_EVENTS] = Zone[SYMBOL_UNPATCHED_EVENTS] =\n            global[SYMBOL_BLACK_LISTED_EVENTS];\n    }\n    api.patchEventPrototype = patchEventPrototype;\n    api.patchEventTarget = patchEventTarget;\n    api.isIEOrEdge = isIEOrEdge;\n    api.ObjectDefineProperty = ObjectDefineProperty;\n    api.ObjectGetOwnPropertyDescriptor = ObjectGetOwnPropertyDescriptor;\n    api.ObjectCreate = ObjectCreate;\n    api.ArraySlice = ArraySlice;\n    api.patchClass = patchClass;\n    api.wrapWithCurrentZone = wrapWithCurrentZone;\n    api.filterProperties = filterProperties;\n    api.attachOriginToPatched = attachOriginToPatched;\n    api._redefineProperty = Object.defineProperty;\n    api.patchCallbacks = patchCallbacks;\n    api.getGlobalObjects = () => ({\n        globalSources,\n        zoneSymbolEventNames,\n        eventNames,\n        isBrowser,\n        isMix,\n        isNode,\n        TRUE_STR,\n        FALSE_STR,\n        ZONE_SYMBOL_PREFIX,\n        ADD_EVENT_LISTENER_STR,\n        REMOVE_EVENT_LISTENER_STR\n    });\n});\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nconst taskSymbol = zoneSymbol('zoneTask');\nfunction patchTimer(window, setName, cancelName, nameSuffix) {\n    let setNative = null;\n    let clearNative = null;\n    setName += nameSuffix;\n    cancelName += nameSuffix;\n    const tasksByHandleId = {};\n    function scheduleTask(task) {\n        const data = task.data;\n        data.args[0] = function () {\n            return task.invoke.apply(this, arguments);\n        };\n        data.handleId = setNative.apply(window, data.args);\n        return task;\n    }\n    function clearTask(task) {\n        return clearNative.call(window, task.data.handleId);\n    }\n    setNative =\n        patchMethod(window, setName, (delegate) => function (self, args) {\n            if (typeof args[0] === 'function') {\n                const options = {\n                    isPeriodic: nameSuffix === 'Interval',\n                    delay: (nameSuffix === 'Timeout' || nameSuffix === 'Interval') ? args[1] || 0 :\n                        undefined,\n                    args: args\n                };\n                const callback = args[0];\n                args[0] = function timer() {\n                    try {\n                        return callback.apply(this, arguments);\n                    }\n                    finally {\n                        // issue-934, task will be cancelled\n                        // even it is a periodic task such as\n                        // setInterval\n                        // https://github.com/angular/angular/issues/40387\n                        // Cleanup tasksByHandleId should be handled before scheduleTask\n                        // Since some zoneSpec may intercept and doesn't trigger\n                        // scheduleFn(scheduleTask) provided here.\n                        if (!(options.isPeriodic)) {\n                            if (typeof options.handleId === 'number') {\n                                // in non-nodejs env, we remove timerId\n                                // from local cache\n                                delete tasksByHandleId[options.handleId];\n                            }\n                            else if (options.handleId) {\n                                // Node returns complex objects as handleIds\n                                // we remove task reference from timer object\n                                options.handleId[taskSymbol] = null;\n                            }\n                        }\n                    }\n                };\n                const task = scheduleMacroTaskWithCurrentZone(setName, args[0], options, scheduleTask, clearTask);\n                if (!task) {\n                    return task;\n                }\n                // Node.js must additionally support the ref and unref functions.\n                const handle = task.data.handleId;\n                if (typeof handle === 'number') {\n                    // for non nodejs env, we save handleId: task\n                    // mapping in local cache for clearTimeout\n                    tasksByHandleId[handle] = task;\n                }\n                else if (handle) {\n                    // for nodejs env, we save task\n                    // reference in timerId Object for clearTimeout\n                    handle[taskSymbol] = task;\n                }\n                // check whether handle is null, because some polyfill or browser\n                // may return undefined from setTimeout/setInterval/setImmediate/requestAnimationFrame\n                if (handle && handle.ref && handle.unref && typeof handle.ref === 'function' &&\n                    typeof handle.unref === 'function') {\n                    task.ref = handle.ref.bind(handle);\n                    task.unref = handle.unref.bind(handle);\n                }\n                if (typeof handle === 'number' || handle) {\n                    return handle;\n                }\n                return task;\n            }\n            else {\n                // cause an error by calling it directly.\n                return delegate.apply(window, args);\n            }\n        });\n    clearNative =\n        patchMethod(window, cancelName, (delegate) => function (self, args) {\n            const id = args[0];\n            let task;\n            if (typeof id === 'number') {\n                // non nodejs env.\n                task = tasksByHandleId[id];\n            }\n            else {\n                // nodejs env.\n                task = id && id[taskSymbol];\n                // other environments.\n                if (!task) {\n                    task = id;\n                }\n            }\n            if (task && typeof task.type === 'string') {\n                if (task.state !== 'notScheduled' &&\n                    (task.cancelFn && task.data.isPeriodic || task.runCount === 0)) {\n                    if (typeof id === 'number') {\n                        delete tasksByHandleId[id];\n                    }\n                    else if (id) {\n                        id[taskSymbol] = null;\n                    }\n                    // Do not cancel already canceled functions\n                    task.zone.cancelTask(task);\n                }\n            }\n            else {\n                // cause an error by calling it directly.\n                delegate.apply(window, args);\n            }\n        });\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nfunction patchCustomElements(_global, api) {\n    const { isBrowser, isMix } = api.getGlobalObjects();\n    if ((!isBrowser && !isMix) || !_global['customElements'] || !('customElements' in _global)) {\n        return;\n    }\n    const callbacks = ['connectedCallback', 'disconnectedCallback', 'adoptedCallback', 'attributeChangedCallback'];\n    api.patchCallbacks(api, _global.customElements, 'customElements', 'define', callbacks);\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nfunction eventTargetPatch(_global, api) {\n    if (Zone[api.symbol('patchEventTarget')]) {\n        // EventTarget is already patched.\n        return;\n    }\n    const { eventNames, zoneSymbolEventNames, TRUE_STR, FALSE_STR, ZONE_SYMBOL_PREFIX } = api.getGlobalObjects();\n    //  predefine all __zone_symbol__ + eventName + true/false string\n    for (let i = 0; i < eventNames.length; i++) {\n        const eventName = eventNames[i];\n        const falseEventName = eventName + FALSE_STR;\n        const trueEventName = eventName + TRUE_STR;\n        const symbol = ZONE_SYMBOL_PREFIX + falseEventName;\n        const symbolCapture = ZONE_SYMBOL_PREFIX + trueEventName;\n        zoneSymbolEventNames[eventName] = {};\n        zoneSymbolEventNames[eventName][FALSE_STR] = symbol;\n        zoneSymbolEventNames[eventName][TRUE_STR] = symbolCapture;\n    }\n    const EVENT_TARGET = _global['EventTarget'];\n    if (!EVENT_TARGET || !EVENT_TARGET.prototype) {\n        return;\n    }\n    api.patchEventTarget(_global, api, [EVENT_TARGET && EVENT_TARGET.prototype]);\n    return true;\n}\nfunction patchEvent(global, api) {\n    api.patchEventPrototype(global, api);\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nZone.__load_patch('legacy', (global) => {\n    const legacyPatch = global[Zone.__symbol__('legacyPatch')];\n    if (legacyPatch) {\n        legacyPatch();\n    }\n});\nZone.__load_patch('queueMicrotask', (global, Zone, api) => {\n    api.patchMethod(global, 'queueMicrotask', delegate => {\n        return function (self, args) {\n            Zone.current.scheduleMicroTask('queueMicrotask', args[0]);\n        };\n    });\n});\nZone.__load_patch('timers', (global) => {\n    const set = 'set';\n    const clear = 'clear';\n    patchTimer(global, set, clear, 'Timeout');\n    patchTimer(global, set, clear, 'Interval');\n    patchTimer(global, set, clear, 'Immediate');\n});\nZone.__load_patch('requestAnimationFrame', (global) => {\n    patchTimer(global, 'request', 'cancel', 'AnimationFrame');\n    patchTimer(global, 'mozRequest', 'mozCancel', 'AnimationFrame');\n    patchTimer(global, 'webkitRequest', 'webkitCancel', 'AnimationFrame');\n});\nZone.__load_patch('blocking', (global, Zone) => {\n    const blockingMethods = ['alert', 'prompt', 'confirm'];\n    for (let i = 0; i < blockingMethods.length; i++) {\n        const name = blockingMethods[i];\n        patchMethod(global, name, (delegate, symbol, name) => {\n            return function (s, args) {\n                return Zone.current.run(delegate, global, args, name);\n            };\n        });\n    }\n});\nZone.__load_patch('EventTarget', (global, Zone, api) => {\n    patchEvent(global, api);\n    eventTargetPatch(global, api);\n    // patch XMLHttpRequestEventTarget's addEventListener/removeEventListener\n    const XMLHttpRequestEventTarget = global['XMLHttpRequestEventTarget'];\n    if (XMLHttpRequestEventTarget && XMLHttpRequestEventTarget.prototype) {\n        api.patchEventTarget(global, api, [XMLHttpRequestEventTarget.prototype]);\n    }\n});\nZone.__load_patch('MutationObserver', (global, Zone, api) => {\n    patchClass('MutationObserver');\n    patchClass('WebKitMutationObserver');\n});\nZone.__load_patch('IntersectionObserver', (global, Zone, api) => {\n    patchClass('IntersectionObserver');\n});\nZone.__load_patch('FileReader', (global, Zone, api) => {\n    patchClass('FileReader');\n});\nZone.__load_patch('on_property', (global, Zone, api) => {\n    propertyDescriptorPatch(api, global);\n});\nZone.__load_patch('customElements', (global, Zone, api) => {\n    patchCustomElements(global, api);\n});\nZone.__load_patch('XHR', (global, Zone) => {\n    // Treat XMLHttpRequest as a macrotask.\n    patchXHR(global);\n    const XHR_TASK = zoneSymbol('xhrTask');\n    const XHR_SYNC = zoneSymbol('xhrSync');\n    const XHR_LISTENER = zoneSymbol('xhrListener');\n    const XHR_SCHEDULED = zoneSymbol('xhrScheduled');\n    const XHR_URL = zoneSymbol('xhrURL');\n    const XHR_ERROR_BEFORE_SCHEDULED = zoneSymbol('xhrErrorBeforeScheduled');\n    function patchXHR(window) {\n        const XMLHttpRequest = window['XMLHttpRequest'];\n        if (!XMLHttpRequest) {\n            // XMLHttpRequest is not available in service worker\n            return;\n        }\n        const XMLHttpRequestPrototype = XMLHttpRequest.prototype;\n        function findPendingTask(target) {\n            return target[XHR_TASK];\n        }\n        let oriAddListener = XMLHttpRequestPrototype[ZONE_SYMBOL_ADD_EVENT_LISTENER];\n        let oriRemoveListener = XMLHttpRequestPrototype[ZONE_SYMBOL_REMOVE_EVENT_LISTENER];\n        if (!oriAddListener) {\n            const XMLHttpRequestEventTarget = window['XMLHttpRequestEventTarget'];\n            if (XMLHttpRequestEventTarget) {\n                const XMLHttpRequestEventTargetPrototype = XMLHttpRequestEventTarget.prototype;\n                oriAddListener = XMLHttpRequestEventTargetPrototype[ZONE_SYMBOL_ADD_EVENT_LISTENER];\n                oriRemoveListener = XMLHttpRequestEventTargetPrototype[ZONE_SYMBOL_REMOVE_EVENT_LISTENER];\n            }\n        }\n        const READY_STATE_CHANGE = 'readystatechange';\n        const SCHEDULED = 'scheduled';\n        function scheduleTask(task) {\n            const data = task.data;\n            const target = data.target;\n            target[XHR_SCHEDULED] = false;\n            target[XHR_ERROR_BEFORE_SCHEDULED] = false;\n            // remove existing event listener\n            const listener = target[XHR_LISTENER];\n            if (!oriAddListener) {\n                oriAddListener = target[ZONE_SYMBOL_ADD_EVENT_LISTENER];\n                oriRemoveListener = target[ZONE_SYMBOL_REMOVE_EVENT_LISTENER];\n            }\n            if (listener) {\n                oriRemoveListener.call(target, READY_STATE_CHANGE, listener);\n            }\n            const newListener = target[XHR_LISTENER] = () => {\n                if (target.readyState === target.DONE) {\n                    // sometimes on some browsers XMLHttpRequest will fire onreadystatechange with\n                    // readyState=4 multiple times, so we need to check task state here\n                    if (!data.aborted && target[XHR_SCHEDULED] && task.state === SCHEDULED) {\n                        // check whether the xhr has registered onload listener\n                        // if that is the case, the task should invoke after all\n                        // onload listeners finish.\n                        // Also if the request failed without response (status = 0), the load event handler\n                        // will not be triggered, in that case, we should also invoke the placeholder callback\n                        // to close the XMLHttpRequest::send macroTask.\n                        // https://github.com/angular/angular/issues/38795\n                        const loadTasks = target[Zone.__symbol__('loadfalse')];\n                        if (target.status !== 0 && loadTasks && loadTasks.length > 0) {\n                            const oriInvoke = task.invoke;\n                            task.invoke = function () {\n                                // need to load the tasks again, because in other\n                                // load listener, they may remove themselves\n                                const loadTasks = target[Zone.__symbol__('loadfalse')];\n                                for (let i = 0; i < loadTasks.length; i++) {\n                                    if (loadTasks[i] === task) {\n                                        loadTasks.splice(i, 1);\n                                    }\n                                }\n                                if (!data.aborted && task.state === SCHEDULED) {\n                                    oriInvoke.call(task);\n                                }\n                            };\n                            loadTasks.push(task);\n                        }\n                        else {\n                            task.invoke();\n                        }\n                    }\n                    else if (!data.aborted && target[XHR_SCHEDULED] === false) {\n                        // error occurs when xhr.send()\n                        target[XHR_ERROR_BEFORE_SCHEDULED] = true;\n                    }\n                }\n            };\n            oriAddListener.call(target, READY_STATE_CHANGE, newListener);\n            const storedTask = target[XHR_TASK];\n            if (!storedTask) {\n                target[XHR_TASK] = task;\n            }\n            sendNative.apply(target, data.args);\n            target[XHR_SCHEDULED] = true;\n            return task;\n        }\n        function placeholderCallback() { }\n        function clearTask(task) {\n            const data = task.data;\n            // Note - ideally, we would call data.target.removeEventListener here, but it's too late\n            // to prevent it from firing. So instead, we store info for the event listener.\n            data.aborted = true;\n            return abortNative.apply(data.target, data.args);\n        }\n        const openNative = patchMethod(XMLHttpRequestPrototype, 'open', () => function (self, args) {\n            self[XHR_SYNC] = args[2] == false;\n            self[XHR_URL] = args[1];\n            return openNative.apply(self, args);\n        });\n        const XMLHTTPREQUEST_SOURCE = 'XMLHttpRequest.send';\n        const fetchTaskAborting = zoneSymbol('fetchTaskAborting');\n        const fetchTaskScheduling = zoneSymbol('fetchTaskScheduling');\n        const sendNative = patchMethod(XMLHttpRequestPrototype, 'send', () => function (self, args) {\n            if (Zone.current[fetchTaskScheduling] === true) {\n                // a fetch is scheduling, so we are using xhr to polyfill fetch\n                // and because we already schedule macroTask for fetch, we should\n                // not schedule a macroTask for xhr again\n                return sendNative.apply(self, args);\n            }\n            if (self[XHR_SYNC]) {\n                // if the XHR is sync there is no task to schedule, just execute the code.\n                return sendNative.apply(self, args);\n            }\n            else {\n                const options = { target: self, url: self[XHR_URL], isPeriodic: false, args: args, aborted: false };\n                const task = scheduleMacroTaskWithCurrentZone(XMLHTTPREQUEST_SOURCE, placeholderCallback, options, scheduleTask, clearTask);\n                if (self && self[XHR_ERROR_BEFORE_SCHEDULED] === true && !options.aborted &&\n                    task.state === SCHEDULED) {\n                    // xhr request throw error when send\n                    // we should invoke task instead of leaving a scheduled\n                    // pending macroTask\n                    task.invoke();\n                }\n            }\n        });\n        const abortNative = patchMethod(XMLHttpRequestPrototype, 'abort', () => function (self, args) {\n            const task = findPendingTask(self);\n            if (task && typeof task.type == 'string') {\n                // If the XHR has already completed, do nothing.\n                // If the XHR has already been aborted, do nothing.\n                // Fix #569, call abort multiple times before done will cause\n                // macroTask task count be negative number\n                if (task.cancelFn == null || (task.data && task.data.aborted)) {\n                    return;\n                }\n                task.zone.cancelTask(task);\n            }\n            else if (Zone.current[fetchTaskAborting] === true) {\n                // the abort is called from fetch polyfill, we need to call native abort of XHR.\n                return abortNative.apply(self, args);\n            }\n            // Otherwise, we are trying to abort an XHR which has not yet been sent, so there is no\n            // task\n            // to cancel. Do nothing.\n        });\n    }\n});\nZone.__load_patch('geolocation', (global) => {\n    /// GEO_LOCATION\n    if (global['navigator'] && global['navigator'].geolocation) {\n        patchPrototype(global['navigator'].geolocation, ['getCurrentPosition', 'watchPosition']);\n    }\n});\nZone.__load_patch('PromiseRejectionEvent', (global, Zone) => {\n    // handle unhandled promise rejection\n    function findPromiseRejectionHandler(evtName) {\n        return function (e) {\n            const eventTasks = findEventTasks(global, evtName);\n            eventTasks.forEach(eventTask => {\n                // windows has added unhandledrejection event listener\n                // trigger the event listener\n                const PromiseRejectionEvent = global['PromiseRejectionEvent'];\n                if (PromiseRejectionEvent) {\n                    const evt = new PromiseRejectionEvent(evtName, { promise: e.promise, reason: e.rejection });\n                    eventTask.invoke(evt);\n                }\n            });\n        };\n    }\n    if (global['PromiseRejectionEvent']) {\n        Zone[zoneSymbol('unhandledPromiseRejectionHandler')] =\n            findPromiseRejectionHandler('unhandledrejection');\n        Zone[zoneSymbol('rejectionHandledHandler')] =\n            findPromiseRejectionHandler('rejectionhandled');\n    }\n});\n"],"names":["window","document","exportName","undefined","VENDOR_PREFIXES","TEST_ELEMENT","createElement","TYPE_FUNCTION","round","Math","abs","now","Date","setTimeoutContext","fn","timeout","context","setTimeout","bindFn","invokeArrayArg","arg","Array","isArray","each","obj","iterator","i","forEach","length","call","hasOwnProperty","deprecate","method","name","message","deprecationMessage","e","Error","stack","replace","log","console","warn","apply","arguments","assign","Object","target","TypeError","output","index","source","nextKey","extend","dest","src","merge","keys","inherit","child","base","properties","baseP","prototype","childP","create","constructor","_super","boundFn","boolOrFn","val","args","ifUndefined","val1","val2","addEventListeners","types","handler","splitStr","type","addEventListener","removeEventListeners","removeEventListener","hasParent","node","parent","parentNode","inStr","str","find","indexOf","trim","split","inArray","findByKey","toArray","slice","uniqueArray","key","sort","results","values","push","sortUniqueArray","a","b","prefixed","property","prefix","prop","camelProp","toUpperCase","_uniqueId","uniqueId","getWindowForElement","element","doc","ownerDocument","defaultView","parentWindow","MOBILE_REGEX","SUPPORT_TOUCH","SUPPORT_POINTER_EVENTS","SUPPORT_ONLY_TOUCH","test","navigator","userAgent","INPUT_TYPE_TOUCH","INPUT_TYPE_PEN","INPUT_TYPE_MOUSE","INPUT_TYPE_KINECT","COMPUTE_INTERVAL","INPUT_START","INPUT_MOVE","INPUT_END","INPUT_CANCEL","DIRECTION_NONE","DIRECTION_LEFT","DIRECTION_RIGHT","DIRECTION_UP","DIRECTION_DOWN","DIRECTION_HORIZONTAL","DIRECTION_VERTICAL","DIRECTION_ALL","PROPS_XY","PROPS_CLIENT_XY","Input","manager","callback","self","options","inputTarget","domHandler","ev","enable","init","evEl","evTarget","evWin","destroy","createInputInstance","Type","inputClass","PointerEventInput","TouchInput","MouseInput","TouchMouseInput","inputHandler","eventType","input","pointersLen","pointers","changedPointersLen","changedPointers","isFirst","isFinal","session","computeInputData","emit","recognize","prevInput","pointersLength","firstInput","simpleCloneInputData","firstMultiple","offsetCenter","center","getCenter","timeStamp","deltaTime","angle","getAngle","distance","getDistance","computeDeltaXY","offsetDirection","getDirection","deltaX","deltaY","overallVelocity","getVelocity","overallVelocityX","x","overallVelocityY","y","scale","getScale","rotation","getRotation","maxPointers","computeIntervalInputData","srcEvent","offset","offsetDelta","prevDelta","last","lastInterval","velocity","velocityX","velocityY","direction","v","clientX","clientY","p1","p2","props","sqrt","atan2","PI","start","end","MOUSE_INPUT_MAP","mousedown","mousemove","mouseup","MOUSE_ELEMENT_EVENTS","MOUSE_WINDOW_EVENTS","pressed","MEhandler","button","which","pointerType","POINTER_INPUT_MAP","pointerdown","pointermove","pointerup","pointercancel","pointerout","IE10_POINTER_TYPE_ENUM","POINTER_ELEMENT_EVENTS","POINTER_WINDOW_EVENTS","MSPointerEvent","PointerEvent","store","pointerEvents","PEhandler","removePointer","eventTypeNormalized","toLowerCase","isTouch","storeIndex","pointerId","splice","SINGLE_TOUCH_INPUT_MAP","touchstart","touchmove","touchend","touchcancel","SINGLE_TOUCH_TARGET_EVENTS","SINGLE_TOUCH_WINDOW_EVENTS","SingleTouchInput","started","TEhandler","touches","normalizeSingleTouches","all","changed","changedTouches","concat","TOUCH_INPUT_MAP","TOUCH_TARGET_EVENTS","targetIds","MTEhandler","getTouches","allTouches","identifier","targetTouches","changedTargetTouches","filter","touch","DEDUP_TIMEOUT","DEDUP_DISTANCE","mouse","primaryTouch","lastTouches","TMEhandler","inputEvent","inputData","isMouse","sourceCapabilities","firesTouchEvents","recordTouches","isSyntheticEvent","eventData","setLastTouch","lastTouch","lts","removeLastTouch","t","dx","dy","PREFIXED_TOUCH_ACTION","style","NATIVE_TOUCH_ACTION","TOUCH_ACTION_COMPUTE","TOUCH_ACTION_AUTO","TOUCH_ACTION_MANIPULATION","TOUCH_ACTION_NONE","TOUCH_ACTION_PAN_X","TOUCH_ACTION_PAN_Y","TOUCH_ACTION_MAP","getTouchActionProps","TouchAction","value","set","compute","actions","update","touchAction","recognizers","recognizer","getTouchAction","cleanTouchActions","join","preventDefaults","prevented","preventDefault","hasNone","hasPanY","hasPanX","isTapPointer","isTapMovement","isTapTouchTime","preventSrc","touchMap","cssSupports","CSS","supports","STATE_POSSIBLE","STATE_BEGAN","STATE_CHANGED","STATE_ENDED","STATE_RECOGNIZED","STATE_CANCELLED","STATE_FAILED","Recognizer","defaults","id","state","simultaneous","requireFail","recognizeWith","otherRecognizer","getRecognizerByNameIfManager","dropRecognizeWith","requireFailure","dropRequireFailure","hasRequireFailures","canRecognizeWith","event","stateStr","additionalEvent","tryEmit","canEmit","inputDataClone","reset","process","directionStr","get","AttrRecognizer","attrTest","optionPointers","isRecognized","isValid","PanRecognizer","pX","pY","threshold","directionTest","hasMoved","PinchRecognizer","inOut","PressRecognizer","_timer","_input","time","validPointers","validMovement","validTime","clearTimeout","RotateRecognizer","SwipeRecognizer","TapRecognizer","pTime","pCenter","count","taps","interval","posThreshold","validTouchTime","failTimeout","validInterval","validMultiTap","tapCount","Hammer","preset","Manager","VERSION","domEvents","cssProps","userSelect","touchSelect","touchCallout","contentZooming","userDrag","tapHighlightColor","STOP","FORCED_STOP","handlers","oldCssProps","toggleCssProps","item","add","stop","force","stopped","curRecognizer","existing","remove","on","events","off","data","triggerDomEvent","gestureEvent","createEvent","initEvent","gesture","dispatchEvent","Tap","Pan","Swipe","Pinch","Rotate","Press","freeGlobal","define","amd","module","exports","global","performance","mark","performanceMeasure","label","symbolPrefix","__symbol__","checkDuplicate","Zone","zoneSpec","_parent","_name","_properties","_zoneDelegate","_ZoneDelegate","assertZonePatched","patches","root","zone","current","_currentZoneFrame","currentTask","_currentTask","__load_patch","ignoreDuplicate","perfName","_api","getZoneWith","fork","wrap","_callback","intercept","runGuarded","run","applyThis","applyArgs","invoke","error","handleError","runTask","task","NO_ZONE","notScheduled","eventTask","macroTask","reEntryGuard","running","_transitionTo","scheduled","runCount","previousTask","isPeriodic","cancelFn","invokeTask","unknown","_updateTaskCount","scheduleTask","newZone","scheduling","zoneDelegates","_zoneDelegates","_zone","err","scheduleMicroTask","customSchedule","ZoneTask","microTask","scheduleMacroTask","customCancel","scheduleEventTask","cancelTask","canceling","DELEGATE_ZS","onHasTask","delegate","_","hasTaskState","hasTask","onScheduleTask","onInvokeTask","onCancelTask","parentDelegate","_taskCounts","_parentDelegate","_forkZS","onFork","_forkDlgt","_forkCurrZone","_interceptZS","onIntercept","_interceptDlgt","_interceptCurrZone","_invokeZS","onInvoke","_invokeDlgt","_invokeCurrZone","_handleErrorZS","onHandleError","_handleErrorDlgt","_handleErrorCurrZone","_scheduleTaskZS","_scheduleTaskDlgt","_scheduleTaskCurrZone","_invokeTaskZS","_invokeTaskDlgt","_invokeTaskCurrZone","_cancelTaskZS","_cancelTaskDlgt","_cancelTaskCurrZone","_hasTaskZS","_hasTaskDlgt","_hasTaskDlgtOwner","_hasTaskCurrZone","zoneSpecHasTask","parentHasTask","targetZone","returnTask","scheduleFn","isEmpty","counts","prev","next","change","_state","useG","_numberOfNestedTaskFrames","drainMicroTaskQueue","cancelScheduleRequest","toState","fromState1","fromState2","toString","handleId","toJSON","symbolSetTimeout","symbolPromise","symbolThen","_microTaskQueue","_isDrainingMicrotaskQueue","nativeMicroTaskQueuePromise","nativeScheduleMicroTask","func","resolve","nativeThen","queue","onUnhandledError","microtaskDrainDone","symbol","currentZoneFrame","noop","showUncaughtError","patchEventTarget","patchOnProperties","patchMethod","bindArguments","patchThen","patchMacroTask","patchEventPrototype","isIEOrEdge","getGlobalObjects","ObjectDefineProperty","ObjectGetOwnPropertyDescriptor","ObjectCreate","ArraySlice","patchClass","wrapWithCurrentZone","filterProperties","attachOriginToPatched","_redefineProperty","patchCallbacks","getOwnPropertyDescriptor","defineProperty","ObjectGetPrototypeOf","getPrototypeOf","ADD_EVENT_LISTENER_STR","REMOVE_EVENT_LISTENER_STR","ZONE_SYMBOL_ADD_EVENT_LISTENER","ZONE_SYMBOL_REMOVE_EVENT_LISTENER","TRUE_STR","FALSE_STR","ZONE_SYMBOL_PREFIX","scheduleMacroTaskWithCurrentZone","zoneSymbol","isWindowExists","internalWindow","_global","REMOVE_ATTRIBUTE","patchPrototype","fnNames","prototypeDesc","isPropertyWritable","patched","propertyDesc","writable","isWebWorker","WorkerGlobalScope","isNode","isBrowser","isMix","zoneSymbolEventNames$1","wrapFn","eventNameSymbol","listener","result","errorEvent","filename","lineno","colno","patchProperty","desc","enumerable","configurable","onPropPatchedSymbol","originalDescGet","originalDescSet","eventName","newValue","previousValue","removeAttribute","onProperties","j","originalInstanceKey","className","OriginalClass","instance","patchFn","proto","delegateName","patchDelegate","funcName","metaCreator","setNative","cbIdx","meta","original","isDetectedIEOrEdge","ieOrEdge","isIE","ua","api","readableObjectToString","JSON","stringify","_uncaughtPromiseErrors","isDisableWrappingUncaughtPromiseRejection","creationTrace","rejection","uncaughtPromiseError","shift","throwOriginal","handleUnhandledRejection","UNHANDLED_PROMISE_REJECTION_HANDLER_SYMBOL","isThenable","then","forwardResolution","forwardRejection","ZoneAwarePromise","reject","symbolState","symbolValue","symbolFinally","symbolParentPromiseValue","symbolParentPromiseState","UNRESOLVED","RESOLVED","REJECTED","REJECTED_NO_CATCH","makeResolver","promise","resolvePromise","once","wasCalled","wrapper","wrappedFunction","TYPE_ERROR","CURRENT_TASK_TRACE_SYMBOL","onceWrapper","clearRejectedNoCatch","trace","scheduleResolveOrReject","REJECTION_HANDLED_HANDLER","chainPromise","onFulfilled","onRejected","promiseState","parentPromiseValue","isFinallyPromise","ZONE_AWARE_PROMISE_TO_STRING","AggregateError","any","Symbol","Promise","promises","finished","errors","race","res","rej","onResolve","onReject","allWithCallback","allSettled","P","thenCallback","status","errorCallback","reason","unresolvedCount","valueIndex","resolvedValues","curValueIndex","thenErr","executor","toStringTag","species","_a","C","catch","finally","onFinally","NativePromise","symbolThenPatched","Ctor","originalThen","wrapped","zoneify","resultPromise","ctor","originalFunctionToString","Function","ORIGINAL_DELEGATE_SYMBOL","PROMISE_SYMBOL","ERROR_SYMBOL","newFunctionToString","originalDelegate","nativePromise","nativeError","originalObjectToString","PROMISE_OBJECT_TO_STRING","passiveSupported","OPTIMIZED_ZONE_EVENT_TASK_DATA","zoneSymbolEventNames","globalSources","EVENT_NAME_SYMBOL_REGX","RegExp","IMMEDIATE_PROPAGATION_SYMBOL","prepareEventNames","eventNameToString","falseEventName","trueEventName","symbolCapture","apis","patchOptions","ADD_EVENT_LISTENER","REMOVE_EVENT_LISTENER","rm","LISTENERS_EVENT_LISTENER","listeners","REMOVE_ALL_LISTENERS_EVENT_LISTENER","rmAll","zoneSymbolAddEventListener","ADD_EVENT_LISTENER_SOURCE","PREPEND_EVENT_LISTENER","PREPEND_EVENT_LISTENER_SOURCE","isRemoved","handleEvent","globalCallback","isCapture","tasks","copyTasks","globalZoneAwareCallback","globalZoneAwareCaptureCallback","patchEventTargetMethods","useGlobalCallback","validateHandler","vh","chkDup","returnTarget","rt","taskData","nativeAddEventListener","nativeRemoveEventListener","nativeListeners","nativeRemoveAllListeners","nativePrependEventListener","prepend","buildEventListenerOptions","passive","capture","customScheduleGlobal","isExisting","customCancelGlobal","symbolEventNames","symbolEventName","existingTasks","existingTask","allRemoved","customScheduleNonGlobal","customSchedulePrepend","customCancelNonGlobal","compareTaskCallbackVsDelegate","typeOfDelegate","compare","diff","unpatchedEvents","passiveEvents","makeAddListener","nativeListener","addSource","customScheduleFn","customCancelFn","transferEventName","isHandleEvent","constructorName","targetSource","unshift","onPropertySymbol","findEventTasks","match","exec","evtName","symbolCaptureEventName","captureTasks","removeTasks","foundTasks","captureFalseTasks","captureTrueTasks","Event","targetName","callbacks","nativeDelegate","opts","descriptor","ignoreProperties","tip","ip","targetIgnoreProperties","op","patchFilteredProperties","filteredProperties","getOnEventNames","getOwnPropertyNames","startsWith","map","substring","propertyDescriptorPatch","patchTargets","ignoreErrorProperties","eventNames","SYMBOL_BLACK_LISTED_EVENTS","SYMBOL_UNPATCHED_EVENTS","taskSymbol","patchTimer","setName","cancelName","nameSuffix","clearNative","tasksByHandleId","clearTask","delay","timer","handle","ref","unref","bind","patchCustomElements","customElements","eventTargetPatch","EVENT_TARGET","patchEvent","legacyPatch","clear","blockingMethods","s","XMLHttpRequestEventTarget","patchXHR","XHR_TASK","XHR_SYNC","XHR_LISTENER","XHR_SCHEDULED","XHR_URL","XHR_ERROR_BEFORE_SCHEDULED","XMLHttpRequest","XMLHttpRequestPrototype","findPendingTask","oriAddListener","oriRemoveListener","XMLHttpRequestEventTargetPrototype","READY_STATE_CHANGE","SCHEDULED","newListener","readyState","DONE","aborted","loadTasks","oriInvoke","storedTask","sendNative","placeholderCallback","abortNative","openNative","XMLHTTPREQUEST_SOURCE","fetchTaskAborting","fetchTaskScheduling","url","geolocation","findPromiseRejectionHandler","eventTasks","PromiseRejectionEvent","evt"],"sourceRoot":"webpack:///","x_google_ignoreList":[1,2]}