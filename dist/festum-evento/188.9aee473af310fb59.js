"use strict";(self.webpackChunkfestum_evento=self.webpackChunkfestum_evento||[]).push([[188],{4712:(Zt,U,f)=>{f.r(U),f.d(U,{OnlineOffersModule:()=>Ot});var c=f(6895),h=f(5072),d=f(3144),e=f(4650),w=f(4386),O=f(3053),u=f(2340),E=f(529);let T=(()=>{class i{constructor(t,n){this.http=t,this._globalFunctions=n}onlineOffersList(t){return this.http.post(u.N.appURL+"organizer/onlineoffer",t,this._globalFunctions.getAuthorizationHeader())}createOnlineOffer(t){return this.http.post(u.N.appURL+"organizer/onlineoffer/save",t,this._globalFunctions.getAuthorizationHeader())}getOnlineOfferById(t){return this.http.post(u.N.appURL+"organizer/onlineoffer/getone",{onlineofferid:t},this._globalFunctions.getAuthorizationHeader())}removeOnlineOfferById(t){return this.http.post(u.N.appURL+"organizer/onlineoffer/remove",{onlineofferid:t},this._globalFunctions.getAuthorizationHeader())}uploadDocument(t){return this.http.post(u.N.appURL+"organizer/onlineoffer/document",t,this._globalFunctions.getFileAuthorizationHeader())}uploadBanner(t){return this.http.post(u.N.appURL+"organizer/onlineoffer/banner",t,this._globalFunctions.getFileAuthorizationHeader())}imageUpload(t){return this.http.post(u.N.appURL+"organizer/onlineoffer/image",t,this._globalFunctions.getFileAuthorizationHeader())}getPlatformList(){return this.http.get(u.N.appURL+"organizer/platform/list",this._globalFunctions.getAuthorizationHeader())}uploadPlatformImage(t){return this.http.post(u.N.appURL+"organizer/platform/image",t,this._globalFunctions.getFileAuthorizationHeader())}savePlatform(t){return this.http.post(u.N.appURL+"organizer/platform/save",t,this._globalFunctions.getAuthorizationHeader())}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(E.eN),e.LFG(O.E))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var s=f(4006),A=f(7932),I=f(5152),Z=f(5352),k=f(1997),L=f(666),q=f(6408);const M=function(){return{width:"50px",height:"50px"}};function Q(i,r){1&i&&e._UZ(0,"p-progressSpinner",20),2&i&&e.Akn(e.DdM(2,M))}function D(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"a",66),e.NdJ("click",function(o){e.CHM(t);const l=e.oxw(3);return e.KtG(l.stopPropagation(o))}),e._UZ(1,"img",67),e.qZA()}if(2&i){const t=r.$implicit,n=e.oxw(3);e.Q6J("href",null==t?null:t.product_link,e.LSH),e.xp6(1),e.Q6J("src",(null==n.constants?null:n.constants.baseImageURL)+(null==t||null==t.platform?null:t.platform.platformimage),e.LSH)("alt",null==t||null==t.platform?null:t.platform.name)}}function Y(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",27),e.NdJ("click",function(o){const a=e.CHM(t).$implicit,p=e.oxw(2);return e.KtG(p.offerOverview(o,null==a?null:a._id))}),e.TgZ(1,"div",28)(2,"div",29),e._UZ(3,"img",30),e.qZA(),e.TgZ(4,"div",31)(5,"div",32)(6,"div",33)(7,"h4",34),e._uU(8),e.qZA(),e.TgZ(9,"div",35)(10,"div",36)(11,"div",37),e._UZ(12,"i",38),e._uU(13,"Product Name"),e.qZA(),e.TgZ(14,"span",39),e._uU(15),e.qZA()(),e.TgZ(16,"div",40)(17,"div",41),e._UZ(18,"i",42),e._uU(19,"Offer Date"),e.qZA(),e.TgZ(20,"span",39),e._uU(21),e.ALo(22,"date"),e.ALo(23,"date"),e.qZA()(),e.TgZ(24,"div",40)(25,"div",41),e._UZ(26,"i",43),e._uU(27,"Total Click"),e.qZA(),e.TgZ(28,"span",39),e._uU(29,"320K"),e.qZA()(),e.TgZ(30,"div",40)(31,"div",41),e._UZ(32,"i",44),e._uU(33,"Offer Status"),e.qZA(),e.TgZ(34,"div",45),e._UZ(35,"input",46),e.TgZ(36,"span",47),e._uU(37,"On"),e.qZA(),e.TgZ(38,"span",48),e._uU(39,"Off"),e.qZA()()()()(),e.TgZ(40,"div",49),e.O4$(),e.TgZ(41,"svg",50),e._UZ(42,"path",51),e.TgZ(43,"text",52),e._uU(44),e.qZA(),e._UZ(45,"path",53),e.qZA()()(),e.kcU(),e.TgZ(46,"div",54)(47,"div",2)(48,"div",55)(49,"p-rating",56),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).$implicit;return e.KtG(a.ratings=o)}),e.qZA(),e.TgZ(50,"span",57),e._uU(51),e.qZA()(),e.TgZ(52,"div",58),e.YNc(53,D,2,3,"a",59),e.qZA()(),e.TgZ(54,"div",60)(55,"a",61),e._UZ(56,"i",62),e.qZA(),e.TgZ(57,"a",63),e.NdJ("click",function(o){const a=e.CHM(t).$implicit,p=e.oxw(2);return e.KtG(p.editOffer(o,null==a?null:a._id))}),e._UZ(58,"i",64),e.qZA(),e.TgZ(59,"a",63),e.NdJ("click",function(o){const a=e.CHM(t).$implicit,p=e.oxw(2);return e.KtG(p.openDeleteDialog(o,null==a?null:a._id))}),e._UZ(60,"i",65),e.qZA()()()()()()}if(2&i){const t=r.$implicit,n=e.oxw(2);e.xp6(3),e.Q6J("src",(null==n.constants?null:n.constants.baseImageURL)+(null==t?null:t.poster),e.LSH)("alt",null==t?null:t.shop_name),e.xp6(5),e.Oqu(null==t?null:t.shop_name),e.xp6(7),e.Oqu(null==t?null:t.product_name),e.xp6(6),e.AsE("",e.xi3(22,14,null==t?null:t.start_date,"dd MMM, yyyy")," - ",e.xi3(23,17,null==t?null:t.end_date,"dd MMM, yyyy"),""),e.xp6(14),e.Q6J("checked",null==t?null:t.status),e.xp6(9),e.AsE("",null==t?null:t.offer_amount,"","percentage"==(null==t?null:t.offer_type)?"%":"\u20b9",""),e.xp6(5),e.Q6J("ngModel",t.ratings)("readonly",!0)("cancel",!1),e.xp6(2),e.hij(" ",null==t?null:t.totalreviews," ratings"),e.xp6(2),e.Q6J("ngForOf",null==t?null:t.product_links)}}function V(i,r){1&i&&(e.TgZ(0,"p"),e._uU(1,"No Offers Records Found, Create new Offers."),e.qZA())}const z=function(){return[10,20,30,50]};function B(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",68)(1,"p-paginator",69),e.NdJ("onPageChange",function(o){e.CHM(t);const l=e.oxw(2);return e.KtG(l.getOnlineShopOffers(o))}),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("rows",null==t.paging?null:t.paging.limit)("totalRecords",null==t.paging?null:t.paging.totalDocs)("rowsPerPageOptions",e.DdM(3,z))}}function G(i,r){if(1&i&&(e.TgZ(0,"div",21),e.YNc(1,Y,61,20,"div",22),e.YNc(2,V,2,0,"p",23),e.YNc(3,B,2,4,"div",24),e.TgZ(4,"div",25),e._UZ(5,"img",26),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.shopOffers),e.xp6(1),e.Q6J("ngIf",!t.shopOffers||!(null!=t.shopOffers&&t.shopOffers.length)),e.xp6(1),e.Q6J("ngIf",t.shopOffers&&(null==t.shopOffers?null:t.shopOffers.length))}}function R(i,r){1&i&&(e.TgZ(0,"div",70),e._UZ(1,"mat-progress-spinner",71),e.qZA()),2&i&&(e.xp6(1),e.Q6J("diameter",22)("mode","indeterminate"))}const K=function(i){return{"opacity-0":i}};let W=(()=>{class i{constructor(t,n,o,l){this._router=t,this._modalService=n,this._globalFunctions=o,this._onlineOffersService=l,this.shopOffers=[],this.constants=d.t,this.isLoading=!1,this.platformsArr=[],this.platformsId="",this.tmpOfferObj={},this.isDeleteLoading=!1}ngOnInit(){this._globalFunctions.removeIdsFromLocalStorage(),this.getPlatformList(),this.getOnlineShopOffers()}getOnlineShopOffers(t={}){this.isLoading=!0,this._onlineOffersService.onlineOffersList({page:(t?t.page+1:1)||"1",limit:t?.rows||"10",search:"",platform:this.platformsId||""}).subscribe(l=>{l&&l.IsSuccess?(this.shopOffers=this._globalFunctions.copyObject(l.Data.docs),this.paging=l.Data):this._globalFunctions.successErrorHandling(l,this,!0),this.isLoading=!1},l=>{this._globalFunctions.errorHanding(l,this,!0),this.isLoading=!1})}getPlatformList(){this.isLoading=!0,this._onlineOffersService.getPlatformList().subscribe(t=>{t&&t.IsSuccess?(this.platformsArr=t?.Data||{},this.isLoading=!1):(this._globalFunctions.successErrorHandling(t,this,!0),this.isLoading=!1)},t=>{this._globalFunctions.errorHanding(t,this,!0),this.isLoading=!1})}stopPropagation(t){t.stopPropagation()}editOffer(t,n){t.stopPropagation(),localStorage.setItem("oOId",n),this._router.navigate(["/online-offers/create-offer"])}openDeleteDialog(t,n){t.stopPropagation(),this.tmpOfferObj=n,this._modalService.open("delete-shop-pop")}closeDeleteDialog(){this.tmpOfferObj={},this._modalService.close("delete-shop-pop")}deleteOfflineShops(){this.isDeleteLoading=!0,this._onlineOffersService.removeOnlineOfferById(this.tmpOfferObj).subscribe(t=>{t&&t.IsSuccess?(this.isDeleteLoading=!1,this.getOnlineShopOffers(),this.closeDeleteDialog()):(this._globalFunctions.successErrorHandling(t,this,!0),this.isDeleteLoading=!1)},t=>{this._globalFunctions.errorHanding(t,this,!0),this.isDeleteLoading=!1})}offerOverview(t,n){t.stopPropagation(),this._router.navigate(["/online-offers/"+n])}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(h.F0),e.Y36(w.Z),e.Y36(O.E),e.Y36(T))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-online-offers"]],decls:27,vars:12,consts:[["animationDuration",".5s","strokeWidth","8","class","absolute bg-white bg-opacity-25 backdrop-blur-sm inset-x-0 top-0 h-full w-full z-40","styleClass","custom-spinner absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",3,"style",4,"ngIf"],[1,"wrapper"],[1,"flex","flex-wrap","items-center"],[1,"flex","whitespace-nowrap","space-x-5","ml-auto"],[1,"w-40","lg:w-52"],["styleClass","w-full border-0 font-bold","panelStyleClass","p-0","placeholder","All platforms","optionLabel","name","optionValue","_id",3,"ngModel","options","showClear","ngModelChange","onChange"],["routerLink","/online-offers/create-offer",1,"secondary","anim","px-4","lg:px-8","py-2"],[1,"icon-plus","mr-2","lg:mr-3"],["class","space-y-5 pt-10",4,"ngIf"],["id","delete-shop-pop","title","Are you sure?",1,"popup","table","fixed","w-full","inset-0","z-40","bg-black","bg-opacity-75","h-screen","hidden",3,"isCloseHidden","isTitleHidden"],[1,"flex","flex-wrap","relative"],[1,"w-full","pb-8"],[1,"w-full","pb-2","normal-case"],[1,"normal-case"],[1,"flex","items-center","justify-end","space-x-5","w-full"],["type","button",1,"primary","py-2","px-14","anim","uppercase",3,"click"],[1,"relative"],["type","submit",1,"secondary","py-2","px-14","anim","uppercase",3,"click"],[3,"ngClass"],["class","absolute inset-0 text-white flex items-center",4,"ngIf"],["animationDuration",".5s","strokeWidth","8","styleClass","custom-spinner absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",1,"absolute","bg-white","bg-opacity-25","backdrop-blur-sm","inset-x-0","top-0","h-full","w-full","z-40"],[1,"space-y-5","pt-10"],["class","w-full p-4 bg-white rounded cursor-pointer",3,"click",4,"ngFor","ngForOf"],[4,"ngIf"],["class","flex flex-wrap items-center justify-center",4,"ngIf"],[1,"w-full","mt-5","addsBox"],["src","/assets/images/banner-ads.png","alt","ring-ad",1,"w-full","object-cover"],[1,"w-full","p-4","bg-white","rounded","cursor-pointer",3,"click"],[1,"flex","flex-wrap","xl:flex-nowrap","xl:space-x-5"],[1,"relative","w-full","lg:max-w-[200px]"],[1,"w-full","h-full","object-cover","pb-5","lg:pb-0",3,"src","alt"],[1,"w-full","pt-5","xl:pt-0"],[1,"flex","justify-between","border-b-2","pb-4"],[1,""],[1,"text-japaneseIndigo"],[1,"flex","flex-wrap","pt-3"],[1,"pt-3","pr-2","lg:pr-4"],[1,"text-sm","font-semibold","text-quicksilver"],[1,"icon-product","mr-1.5"],[1,"text-japaneseIndigo","text-sm","font-bold"],[1,"border-l-2","border-brightGray","px-2","lg:px-4"],[1,"text-sm","font-semibold","text-quicksilver","pt-3"],[1,"icon-calendar","mr-1.5"],[1,"icon-click","mr-1.5"],[1,"icon-online_offer","mr-1.5"],[1,"flex","items-center"],["type","checkbox","id","on",1,"switch","mx-3","order-2",3,"checked"],[1,"off","text-base","font-bold","anim","order-1","text-caribbeanGreen"],[1,"on","text-base","font-bold","anim","order-3"],[1,"text-right"],["xmlns","http://www.w3.org/2000/svg","width","70","height","70","viewBox","0 0 70 70"],["d","M34.3287 0.608017C34.7097 0.262925 35.2903 0.262925 35.6713 0.608018L41.2039 5.61901C41.4623 5.85308 41.824 5.93564 42.1584 5.83688L49.3173 3.72263C49.8103 3.57702 50.3334 3.82893 50.5269 4.30516L53.3374 11.2204C53.4687 11.5434 53.7588 11.7747 54.1029 11.8309L61.4702 13.0321C61.9775 13.1148 62.3395 13.5687 62.3073 14.0818L61.839 21.5316C61.8172 21.8796 61.9781 22.2139 62.2639 22.4138L68.3803 26.6926C68.8016 26.9873 68.9307 27.5533 68.6791 28.0015L65.0248 34.5105C64.8541 34.8145 64.8541 35.1855 65.0248 35.4895L68.6791 41.9985C68.9307 42.4467 68.8016 43.0127 68.3803 43.3074L62.2639 47.5862C61.9781 47.7861 61.8172 48.1204 61.839 48.4684L62.3073 55.9182C62.3395 56.4313 61.9775 56.8852 61.4702 56.9679L54.1029 58.1691C53.7588 58.2253 53.4687 58.4566 53.3374 58.7796L50.5269 65.6948C50.3334 66.1711 49.8103 66.423 49.3173 66.2774L42.1584 64.1631C41.824 64.0644 41.4623 64.1469 41.2039 64.381L35.6713 69.392C35.2903 69.7371 34.7097 69.7371 34.3287 69.392L28.7961 64.381C28.5377 64.1469 28.176 64.0644 27.8416 64.1631L20.6827 66.2774C20.1897 66.423 19.6666 66.1711 19.4731 65.6948L16.6626 58.7796C16.5313 58.4566 16.2412 58.2253 15.8971 58.1691L8.52982 56.9679C8.02246 56.8852 7.66047 56.4313 7.69271 55.9182L8.16096 48.4684C8.18283 48.1204 8.02186 47.7861 7.73615 47.5862L1.61967 43.3074C1.19845 43.0127 1.06926 42.4467 1.32092 41.9985L4.97516 35.4895C5.14586 35.1855 5.14586 34.8145 4.97516 34.5105L1.32092 28.0015C1.06926 27.5533 1.19845 26.9873 1.61967 26.6926L7.73615 22.4138C8.02186 22.2139 8.18283 21.8796 8.16096 21.5316L7.69271 14.0818C7.66047 13.5687 8.02246 13.1148 8.52982 13.0321L15.8971 11.8309C16.2412 11.7747 16.5313 11.5434 16.6626 11.2204L19.4731 4.30516C19.6666 3.82893 20.1897 3.57702 20.6827 3.72263L27.8416 5.83688C28.176 5.93564 28.5377 5.85308 28.7961 5.61901L34.3287 0.608017Z","fill","#FE4D5F"],["font-size","18px","fill","#fff","width","60px",2,"transform","translate(17.5px, 34px)","font-weight","700","text-align","center","width","60px"],["d","M19.5156 47.1699C19.8444 47.1699 20.1146 47.1357 20.3262 47.0674C20.7038 46.9404 21.013 46.6963 21.2539 46.335C21.446 46.0452 21.5843 45.6742 21.6689 45.2217C21.7178 44.9515 21.7422 44.7008 21.7422 44.4697C21.7422 43.5811 21.5648 42.891 21.21 42.3994C20.8584 41.9079 20.2904 41.6621 19.5059 41.6621H17.7822V47.1699H19.5156ZM16.8057 40.8271H19.7109C20.6973 40.8271 21.4622 41.1771 22.0059 41.877C22.4909 42.5085 22.7334 43.3174 22.7334 44.3037C22.7334 45.0654 22.5902 45.7539 22.3037 46.3691C21.7992 47.4564 20.9316 48 19.7012 48H16.8057V40.8271ZM23.8711 42.7949H24.7646V48H23.8711V42.7949ZM23.8711 40.8271H24.7646V41.8232H23.8711V40.8271ZM26.6201 46.3594C26.6462 46.6523 26.7194 46.877 26.8398 47.0332C27.0612 47.3164 27.4453 47.458 27.9922 47.458C28.3177 47.458 28.6042 47.388 28.8516 47.248C29.099 47.1048 29.2227 46.8851 29.2227 46.5889C29.2227 46.3643 29.1234 46.1934 28.9248 46.0762C28.7979 46.0046 28.5472 45.9215 28.1729 45.8271L27.4746 45.6514C27.0286 45.5407 26.6999 45.417 26.4883 45.2803C26.1107 45.0426 25.9219 44.7139 25.9219 44.2939C25.9219 43.7992 26.0993 43.3988 26.4541 43.0928C26.8122 42.7868 27.2923 42.6338 27.8945 42.6338C28.6823 42.6338 29.2503 42.8649 29.5986 43.3271C29.8167 43.6201 29.9225 43.9359 29.916 44.2744H29.0859C29.0697 44.0758 28.9997 43.8952 28.876 43.7324C28.6742 43.5013 28.3242 43.3857 27.8262 43.3857C27.4941 43.3857 27.2419 43.4492 27.0693 43.5762C26.9001 43.7031 26.8154 43.8708 26.8154 44.0791C26.8154 44.307 26.9277 44.4893 27.1523 44.626C27.2826 44.7074 27.4746 44.779 27.7285 44.8408L28.3096 44.9824C28.9411 45.1354 29.3643 45.2835 29.5791 45.4268C29.9209 45.6514 30.0918 46.0046 30.0918 46.4863C30.0918 46.9518 29.9144 47.3538 29.5596 47.6924C29.208 48.0309 28.6709 48.2002 27.9482 48.2002C27.1702 48.2002 26.6185 48.0244 26.293 47.6729C25.9707 47.318 25.7982 46.8802 25.7754 46.3594H26.6201ZM33.1143 42.6191C33.7035 42.6191 34.182 42.7624 34.5498 43.0488C34.9209 43.3353 35.1439 43.8285 35.2188 44.5283H34.3643C34.3122 44.2061 34.1934 43.9391 34.0078 43.7275C33.8223 43.5127 33.5244 43.4053 33.1143 43.4053C32.5544 43.4053 32.154 43.6787 31.9131 44.2256C31.7568 44.5804 31.6787 45.0182 31.6787 45.5391C31.6787 46.0632 31.7894 46.5042 32.0107 46.8623C32.2321 47.2204 32.5804 47.3994 33.0557 47.3994C33.4202 47.3994 33.7083 47.2887 33.9199 47.0674C34.1348 46.8428 34.2829 46.5368 34.3643 46.1494H35.2188C35.1211 46.8428 34.877 47.3506 34.4863 47.6729C34.0957 47.9919 33.596 48.1514 32.9873 48.1514C32.3037 48.1514 31.7585 47.9023 31.3516 47.4043C30.9447 46.903 30.7412 46.278 30.7412 45.5293C30.7412 44.6113 30.9642 43.8968 31.4102 43.3857C31.8561 42.8747 32.4242 42.6191 33.1143 42.6191ZM38.1729 47.4336C38.7555 47.4336 39.1543 47.2139 39.3691 46.7744C39.5872 46.3317 39.6963 45.8402 39.6963 45.2998C39.6963 44.8115 39.6182 44.4144 39.4619 44.1084C39.2145 43.6266 38.7881 43.3857 38.1826 43.3857C37.6455 43.3857 37.2549 43.5908 37.0107 44.001C36.7666 44.4111 36.6445 44.9059 36.6445 45.4854C36.6445 46.042 36.7666 46.5059 37.0107 46.877C37.2549 47.248 37.6423 47.4336 38.1729 47.4336ZM38.207 42.6191C38.8809 42.6191 39.4505 42.8438 39.916 43.293C40.3815 43.7422 40.6143 44.403 40.6143 45.2754C40.6143 46.1185 40.4092 46.8151 39.999 47.3652C39.5889 47.9154 38.9525 48.1904 38.0898 48.1904C37.3704 48.1904 36.7992 47.9479 36.376 47.4629C35.9528 46.9746 35.7412 46.3203 35.7412 45.5C35.7412 44.6211 35.9642 43.9212 36.4102 43.4004C36.8561 42.8796 37.4551 42.6191 38.207 42.6191ZM42.543 42.7705V46.2422C42.543 46.5091 42.5853 46.7272 42.6699 46.8965C42.8262 47.209 43.1175 47.3652 43.5439 47.3652C44.1559 47.3652 44.5726 47.0918 44.7939 46.5449C44.9144 46.252 44.9746 45.8499 44.9746 45.3389V42.7705H45.8535V48H45.0234L45.0332 47.2285C44.9193 47.4271 44.7777 47.5947 44.6084 47.7314C44.2731 48.0049 43.8662 48.1416 43.3877 48.1416C42.6423 48.1416 42.1344 47.8926 41.8643 47.3945C41.7178 47.1276 41.6445 46.7712 41.6445 46.3252V42.7705H42.543ZM47.2305 42.7705H48.0654V43.5127C48.3128 43.2067 48.5749 42.987 48.8516 42.8535C49.1283 42.7201 49.4359 42.6533 49.7744 42.6533C50.5166 42.6533 51.0179 42.9121 51.2783 43.4297C51.4215 43.7129 51.4932 44.1182 51.4932 44.6455V48H50.5996V44.7041C50.5996 44.3851 50.5524 44.1279 50.458 43.9326C50.3018 43.6071 50.0186 43.4443 49.6084 43.4443C49.4001 43.4443 49.2292 43.4655 49.0957 43.5078C48.8548 43.5794 48.6432 43.7227 48.4609 43.9375C48.3145 44.11 48.2184 44.2891 48.1729 44.4746C48.1305 44.6569 48.1094 44.9189 48.1094 45.2607V48H47.2305V42.7705ZM52.9727 41.3105H53.8613V42.7705H54.6963V43.4883H53.8613V46.9014C53.8613 47.0837 53.9232 47.2057 54.0469 47.2676C54.1152 47.3034 54.2292 47.3213 54.3887 47.3213C54.431 47.3213 54.4766 47.3213 54.5254 47.3213C54.5742 47.318 54.6312 47.3132 54.6963 47.3066V48C54.5954 48.0293 54.4896 48.0505 54.3789 48.0635C54.2715 48.0765 54.1543 48.083 54.0273 48.083C53.6172 48.083 53.3389 47.9788 53.1924 47.7705C53.0459 47.5589 52.9727 47.2855 52.9727 46.9502V43.4883H52.2646V42.7705H52.9727V41.3105Z","fill","white"],[1,"flex","justify-between","pt-4"],[1,"flex","items-center","space-x-1","pr-4","mr-4","border-r"],[3,"ngModel","readonly","cancel","ngModelChange"],[1,"text-quicksilver","text-xs","font-bold","pl-2"],[1,"flex","items-center","space-x-2.5"],["target","_blank",3,"href","click",4,"ngFor","ngForOf"],[1,"flex","space-x-2"],["href","javascript:void(0);",1,"bg-brightGray","text-xl","px-2","py-1","text-center","rounded"],[1,"icon-show","text-base","text-japaneseIndigo"],["href","javascript:void(0);",1,"bg-brightGray","text-xl","px-2","py-1","text-center","rounded",3,"click"],[1,"icon-edit","text-base","text-japaneseIndigo"],[1,"icon-delete_fill","text-base","text-japaneseIndigo"],["target","_blank",3,"href","click"],[1,"w-7","h-7","object-contain",3,"src","alt"],[1,"flex","flex-wrap","items-center","justify-center"],[3,"rows","totalRecords","rowsPerPageOptions","onPageChange"],[1,"absolute","inset-0","text-white","flex","items-center"],[1,"mx-auto",3,"diameter","mode"]],template:function(t,n){1&t&&(e.YNc(0,Q,1,3,"p-progressSpinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"h2"),e._uU(4,"Online Offers"),e.qZA(),e.TgZ(5,"div",3)(6,"div",4)(7,"p-dropdown",5),e.NdJ("ngModelChange",function(l){return n.platformsId=l})("onChange",function(){return n.getOnlineShopOffers()}),e.qZA()(),e.TgZ(8,"button",6),e._UZ(9,"i",7),e._uU(10,"Create New"),e.qZA()()(),e.YNc(11,G,6,3,"div",8),e.qZA(),e.TgZ(12,"modal",9)(13,"div",10)(14,"div",11)(15,"h3",12),e._uU(16,"Delete Offer"),e.qZA(),e.TgZ(17,"p",13),e._uU(18),e.qZA()(),e.TgZ(19,"div",14)(20,"button",15),e.NdJ("click",function(){return n.closeDeleteDialog()}),e._uU(21,"Cancel"),e.qZA(),e.TgZ(22,"div",16)(23,"button",17),e.NdJ("click",function(){return n.deleteOfflineShops()}),e.TgZ(24,"span",18),e._uU(25,"Delete"),e.qZA()(),e.YNc(26,R,2,2,"div",19),e.qZA()()()()),2&t&&(e.Q6J("ngIf",n.isLoading),e.xp6(7),e.Q6J("ngModel",n.platformsId)("options",n.platformsArr)("showClear",!0),e.xp6(4),e.Q6J("ngIf",!n.isLoading),e.xp6(1),e.Q6J("isCloseHidden",!0)("isTitleHidden",!0),e.xp6(6),e.hij("Are you sure you want to delete ",null==n.tmpOfferObj?null:n.tmpOfferObj.shop_name,""),e.xp6(6),e.Q6J("ngClass",e.VKq(10,K,n.isDeleteLoading)),e.xp6(2),e.Q6J("ngIf",n.isDeleteLoading))},dependencies:[h.rH,c.mk,c.sg,c.O5,s.JJ,s.On,A.G,I.z,Z.Ou,k.D,L.Lt,q.iG,c.uU]}),i})();var X=f(4425),j=f(5922),F=f(5054);const ee=function(){return{width:"50px",height:"50px"}};function te(i,r){1&i&&e._UZ(0,"p-progressSpinner",15),2&i&&e.Akn(e.DdM(2,ee))}function ne(i,r){if(1&i&&(e.TgZ(0,"span",72),e._UZ(1,"p-image",73),e.qZA()),2&i){const t=r.$implicit,n=r.index,o=e.oxw(2);e.xp6(1),e.Q6J("src",null!=t&&t.url?o.constants.baseImageURL+t.url:o.constants.defaultImage)("alt","product-"+n)("preview",!0)}}function ie(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",74)(1,"div",65),e._UZ(2,"img",75),e.TgZ(3,"a",76),e._uU(4),e.qZA()(),e.TgZ(5,"div",77)(6,"a",78),e.NdJ("click",function(){const l=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.copyLink(l.product_link))}),e._UZ(7,"i",79),e.qZA(),e.TgZ(8,"a",80),e._UZ(9,"i",81),e.qZA()()()}if(2&i){const t=r.$implicit,n=e.oxw(2);e.xp6(2),e.Q6J("src",null!=t&&null!=t.platform&&t.platform.platformimage?n.constants.baseImageURL+t.platform.platformimage:n.constants.defaultImage,e.LSH)("alt",t.platform.name),e.xp6(1),e.Q6J("href",t.product_link,e.LSH),e.xp6(1),e.Oqu(null==t?null:t.product_link),e.xp6(4),e.Q6J("href",t.product_link,e.LSH)}}function oe(i,r){if(1&i&&(e.TgZ(0,"div",82)(1,"h5"),e._uU(2,"Company Name"),e.qZA(),e.TgZ(3,"div",83)(4,"h3",84),e._uU(5),e.qZA(),e._UZ(6,"div",50),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(5),e.Oqu(null==t.offerObj?null:t.offerObj.company_name),e.xp6(1),e.Q6J("innerHtml",null==t.offerObj?null:t.offerObj.about_company,e.oJD)}}function re(i,r){if(1&i&&(e.TgZ(0,"div",85)(1,"h5"),e._uU(2,"Terms & Conditions"),e.qZA(),e._UZ(3,"div",86),e.qZA()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("innerHtml",null==t.offerObj||null==t.offerObj.tandc?null:t.offerObj.tandc.t_and_c,e.oJD)}}function le(i,r){if(1&i&&(e.TgZ(0,"a",91),e._UZ(1,"img",92),e.qZA()),2&i){const t=e.oxw(3);e.Q6J("href",null==t.offerObj||null==t.offerObj.tandc?null:t.offerObj.tandc.facebook,e.LSH)}}function ae(i,r){if(1&i&&(e.TgZ(0,"a",91),e._UZ(1,"img",93),e.qZA()),2&i){const t=e.oxw(3);e.Q6J("href",null==t.offerObj||null==t.offerObj.tandc?null:t.offerObj.tandc.twitter,e.LSH)}}function se(i,r){if(1&i&&(e.TgZ(0,"a",91),e._UZ(1,"img",94),e.qZA()),2&i){const t=e.oxw(3);e.Q6J("href",null==t.offerObj||null==t.offerObj.tandc?null:t.offerObj.tandc.youtube,e.LSH)}}function fe(i,r){if(1&i&&(e.TgZ(0,"a",91),e._UZ(1,"img",95),e.qZA()),2&i){const t=e.oxw(3);e.Q6J("href",null==t.offerObj||null==t.offerObj.tandc?null:t.offerObj.tandc.pinterest,e.LSH)}}function pe(i,r){if(1&i&&(e.TgZ(0,"a",91),e._UZ(1,"img",96),e.qZA()),2&i){const t=e.oxw(3);e.Q6J("href",null==t.offerObj||null==t.offerObj.tandc?null:t.offerObj.tandc.instagram,e.LSH)}}function de(i,r){if(1&i&&(e.TgZ(0,"a",91),e._UZ(1,"img",97),e.qZA()),2&i){const t=e.oxw(3);e.Q6J("href",null==t.offerObj||null==t.offerObj.tandc?null:t.offerObj.tandc.linkedin,e.LSH)}}function ce(i,r){if(1&i&&(e.TgZ(0,"div",87)(1,"span",88),e._uU(2,"Social Media"),e.qZA(),e.TgZ(3,"div",89),e.YNc(4,le,2,1,"a",90),e.YNc(5,ae,2,1,"a",90),e.YNc(6,se,2,1,"a",90),e.YNc(7,fe,2,1,"a",90),e.YNc(8,pe,2,1,"a",90),e.YNc(9,de,2,1,"a",90),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(4),e.Q6J("ngIf",""!=(null==t.offerObj||null==t.offerObj.tandc?null:t.offerObj.tandc.facebook)),e.xp6(1),e.Q6J("ngIf",""!=(null==t.offerObj||null==t.offerObj.tandc?null:t.offerObj.tandc.twitter)),e.xp6(1),e.Q6J("ngIf",""!=(null==t.offerObj||null==t.offerObj.tandc?null:t.offerObj.tandc.youtube)),e.xp6(1),e.Q6J("ngIf",""!=(null==t.offerObj||null==t.offerObj.tandc?null:t.offerObj.tandc.pinterest)),e.xp6(1),e.Q6J("ngIf",""!=(null==t.offerObj||null==t.offerObj.tandc?null:t.offerObj.tandc.instagram)),e.xp6(1),e.Q6J("ngIf",""!=(null==t.offerObj||null==t.offerObj.tandc?null:t.offerObj.tandc.linkedin))}}function ue(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",16)(1,"div",17)(2,"div")(3,"h2",18),e._uU(4),e.qZA(),e.TgZ(5,"div",19)(6,"div",20)(7,"span",21),e._UZ(8,"i",22),e._uU(9,"Ratings"),e.qZA(),e.TgZ(10,"div",23)(11,"p-rating",24),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.offerObj.ratings=o)}),e.qZA(),e.TgZ(12,"span",25),e._uU(13),e.qZA()()(),e.TgZ(14,"div",26)(15,"div",27),e._UZ(16,"i",28),e._uU(17,"Offer Date "),e.qZA(),e.TgZ(18,"span",29),e._uU(19),e.ALo(20,"date"),e.ALo(21,"date"),e.qZA()(),e.TgZ(22,"div",30)(23,"div",27),e._UZ(24,"i",31),e._uU(25,"Offer Status "),e.qZA(),e.TgZ(26,"div",32),e._UZ(27,"input",33),e.TgZ(28,"span",34),e._uU(29,"On"),e.qZA(),e.TgZ(30,"span",35),e._uU(31,"Off"),e.qZA()()()()(),e.TgZ(32,"div",36)(33,"a",37),e.NdJ("click",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.editOffer(o,null==l.offerObj?null:l.offerObj._id))}),e._UZ(34,"i",38),e.qZA(),e.TgZ(35,"a",37),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deletePop())}),e._UZ(36,"i",39),e.qZA()()(),e.TgZ(37,"div",40)(38,"div",41)(39,"div",42)(40,"div",43)(41,"div",44)(42,"div",45)(43,"p",46),e._uU(44,"Product Image"),e.qZA(),e.TgZ(45,"div",47),e.YNc(46,ne,2,3,"span",48),e.qZA()(),e.TgZ(47,"div",45)(48,"p",46),e._uU(49,"Product Name"),e.qZA(),e.TgZ(50,"span",49),e._uU(51),e.qZA()(),e.TgZ(52,"div",45)(53,"p",46),e._uU(54,"Product Description"),e.qZA(),e._UZ(55,"div",50),e.qZA()(),e.TgZ(56,"div",51)(57,"h5"),e._uU(58,"Platform & Product Link"),e.qZA(),e.TgZ(59,"div",52),e.YNc(60,ie,10,5,"div",53),e.qZA()(),e.TgZ(61,"div",54),e._UZ(62,"img",55),e.qZA(),e.YNc(63,oe,7,2,"div",56),e.YNc(64,re,4,1,"div",57),e.YNc(65,ce,10,6,"div",58),e.qZA(),e.TgZ(66,"div",59)(67,"div",60)(68,"h3",61),e._uU(69,"Discount On Products"),e.qZA(),e.TgZ(70,"h1"),e._uU(71),e.qZA(),e.TgZ(72,"span",62),e._uU(73,"T&C Apply*"),e.qZA(),e._UZ(74,"img",63),e.qZA(),e.TgZ(75,"div",64)(76,"p",46),e._uU(77,"user click on platform"),e.qZA(),e.TgZ(78,"div",65),e._UZ(79,"img",66),e.TgZ(80,"div")(81,"p",67),e._uU(82,"flipkart"),e.qZA(),e.TgZ(83,"span",68),e._uU(84,"10K User Click"),e.qZA()()(),e.TgZ(85,"div",65),e._UZ(86,"img",69),e.TgZ(87,"div")(88,"p",67),e._uU(89,"amazon"),e.qZA(),e.TgZ(90,"span",68),e._uU(91,"10K User Click"),e.qZA()()(),e.TgZ(92,"div",65),e._UZ(93,"img",70),e.TgZ(94,"div")(95,"p",67),e._uU(96,"myntra "),e.qZA(),e.TgZ(97,"span",68),e._uU(98,"10K User Click"),e.qZA()()()(),e.TgZ(99,"div",54),e._UZ(100,"img",71),e.qZA()()()()()()}if(2&i){const t=e.oxw();e.xp6(4),e.Oqu(null==t.offerObj?null:t.offerObj.shop_name),e.xp6(7),e.Q6J("ngModel",t.offerObj.ratings)("readonly",!0)("cancel",!1),e.xp6(2),e.hij(" ",null==t.offerObj?null:t.offerObj.totalreviews," ratings"),e.xp6(6),e.AsE("",e.xi3(20,17,null==t.offerObj?null:t.offerObj.start_date,"dd MMM, yyyy")," - ",e.xi3(21,20,null==t.offerObj?null:t.offerObj.end_date,"dd MMM, yyyy"),""),e.xp6(8),e.Q6J("checked",null==t.offerObj?null:t.offerObj.status),e.xp6(19),e.Q6J("ngForOf",null==t.offerObj?null:t.offerObj.images),e.xp6(5),e.Oqu(null==t.offerObj?null:t.offerObj.product_name),e.xp6(4),e.Q6J("innerHtml",null==t.offerObj?null:t.offerObj.description,e.oJD),e.xp6(5),e.Q6J("ngForOf",null==t.offerObj?null:t.offerObj.product_links),e.xp6(3),e.Q6J("ngIf",(null==t.offerObj?null:t.offerObj.company_name)||(null==t.offerObj?null:t.offerObj.about_company)),e.xp6(1),e.Q6J("ngIf",null==t.offerObj?null:t.offerObj.tandc),e.xp6(1),e.Q6J("ngIf",(null==t.offerObj||null==t.offerObj.tandc?null:t.offerObj.tandc.facebook)&&""!=(null==t.offerObj||null==t.offerObj.tandc?null:t.offerObj.tandc.facebook)||(null==t.offerObj||null==t.offerObj.tandc?null:t.offerObj.tandc.twitter)&&""!=(null==t.offerObj||null==t.offerObj.tandc?null:t.offerObj.tandc.twitter)||(null==t.offerObj||null==t.offerObj.tandc?null:t.offerObj.tandc.youtube)&&""!=(null==t.offerObj||null==t.offerObj.tandc?null:t.offerObj.tandc.youtube)||(null==t.offerObj||null==t.offerObj.tandc?null:t.offerObj.tandc.pinterest)&&""!=(null==t.offerObj||null==t.offerObj.tandc?null:t.offerObj.tandc.pinterest)||(null==t.offerObj||null==t.offerObj.tandc?null:t.offerObj.tandc.instagram)&&""!=(null==t.offerObj||null==t.offerObj.tandc?null:t.offerObj.tandc.instagram)||(null==t.offerObj||null==t.offerObj.tandc?null:t.offerObj.tandc.linkedin)&&""!=(null==t.offerObj||null==t.offerObj.tandc?null:t.offerObj.tandc.linkedin)),e.xp6(6),e.AsE("",null==t.offerObj?null:t.offerObj.offer_amount,"","percentage"==(null==t.offerObj?null:t.offerObj.offer_type)?"%":"\u20b9"," Discount ")}}function me(i,r){1&i&&(e.TgZ(0,"div",98),e._UZ(1,"mat-progress-spinner",99),e.qZA()),2&i&&(e.xp6(1),e.Q6J("diameter",22)("mode","indeterminate"))}const ge=function(i){return{"opacity-0":i}};let _e=(()=>{class i{constructor(t,n,o,l,a,p,m){this._router=t,this._activatedRoute=n,this._onlineOffersService=o,this._globalFunctions=l,this._clipboard=a,this._sNotify=p,this._modalService=m,this.constants=d.t,this.isLoading=!1,this.isDeleteLoading=!1}ngOnInit(){this.offerId=this._activatedRoute.snapshot.paramMap.get("id"),this.getOnlineShopOfferByOfferId(this.offerId)}copyLink(t){this._clipboard.copy(t),this._sNotify.success("Link Copied.")}editOffer(t,n){t.stopPropagation(),localStorage.setItem("oOId",n),this._router.navigate(["/online-offers/create-offer"])}getOnlineShopOfferByOfferId(t=""){this.isLoading=!0,this._onlineOffersService.getOnlineOfferById(t).subscribe(n=>{n&&n.IsSuccess?(this.offerObj=n.Data,this.isLoading=!1):(this._globalFunctions.successErrorHandling(n,this,!0),this.isLoading=!1)},n=>{this._globalFunctions.errorHanding(n,this,!0),this.isLoading=!1})}deletePop(){this._modalService.open("delete-offer-pop")}close(){this._modalService.close("delete-offer-pop")}deleteEvent(){this.isDeleteLoading=!0,this._onlineOffersService.removeOnlineOfferById(this.offerId).subscribe(t=>{t&&t.IsSuccess?(this._router.navigate(["/online-offers"]),this.isDeleteLoading=!1,this._modalService.close("delete-offer-pop")):(this._globalFunctions.successErrorHandling(t,this,!0),this.isDeleteLoading=!1)},t=>{this._globalFunctions.errorHanding(t,this,!0),this.isDeleteLoading=!1})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(h.F0),e.Y36(h.gz),e.Y36(T),e.Y36(O.E),e.Y36(X.TU),e.Y36(j.VZ),e.Y36(w.Z))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-offer-overview"]],decls:19,vars:11,consts:[["animationDuration",".5s","strokeWidth","8","class","absolute bg-white bg-opacity-25 backdrop-blur-sm inset-x-0 top-0 h-full w-full z-40","styleClass","custom-spinner absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",3,"style",4,"ngIf"],[1,"-mt-12","relative","-z-10"],[1,"w-full","object-cover","max-h-80",3,"src","alt"],["class","wrapper -mt-14 z-10",4,"ngIf"],["id","delete-offer-pop","title","Are you sure?",1,"popup","table","fixed","w-full","inset-0","z-40","bg-black","bg-opacity-75","h-screen","hidden",3,"isCloseHidden","isTitleHidden"],[1,"flex","flex-wrap","relative"],[1,"w-full","pb-8"],[1,"w-full","pb-2","normal-case"],[1,"normal-case"],[1,"flex","items-center","justify-end","space-x-5","w-full"],["type","button",1,"primary","py-2","px-14","anim","uppercase",3,"click"],[1,"relative"],["type","submit",1,"secondary","py-2","px-14","anim","uppercase",3,"click"],[3,"ngClass"],["class","absolute inset-0 text-white flex items-center",4,"ngIf"],["animationDuration",".5s","strokeWidth","8","styleClass","custom-spinner absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",1,"absolute","bg-white","bg-opacity-25","backdrop-blur-sm","inset-x-0","top-0","h-full","w-full","z-40"],[1,"wrapper","-mt-14","z-10"],[1,"lg:flex","items-end","justify-between","bg-white","py-5","px-7","rounded-md"],[1,"pb-2","lg:pb-5"],[1,"w-full","flex","flex-wrap","space-y-2","xl:space-y-0"],[1,"pr-2.5","lg:pr-5"],[1,"text-xs","font-bold","text-quicksilver"],[1,"icon-rating","pr-1"],[1,"flex","flex-wrap","items-center"],[3,"ngModel","readonly","cancel","ngModelChange"],[1,"text-quicksilver","text-xs","font-bold","pl-2"],[1,"border-l-2","border-brightGray","px-2.5","lg:px-5"],[1,"text-sm","font-semibold","text-quicksilver"],[1,"icon-calendar","mr-1.5"],[1,"text-japaneseIndigo","text-sm","font-bold"],[1,"border-l-2","border-brightGray","px-2","lg:px-4"],[1,"icon-online_offer","mr-1.5"],[1,"flex","items-center"],["type","checkbox","id","on",1,"switch","mx-3","order-2",3,"checked"],[1,"off","text-base","font-bold","anim","order-1","text-caribbeanGreen"],[1,"on","text-base","font-bold","anim","order-3"],[1,"flex","justify-end","space-x-2","mt-2.5"],["href","javascript:void(0);",1,"bg-brightGray","px-2","py-1","text-center","rounded",3,"click"],[1,"icon-edit","text-base","text-black"],[1,"icon-delete_fill","text-base","text-black"],[1,"pt-3.5","lg:pt-7"],["id","overview",1,"relative","tab-main","active"],[1,"flex","flex-wrap"],[1,"w-full","lg:w-8/12","lg:pr-3","xl:pr-5","space-y-7"],[1,"bg-white","p-7","space-y-5","rounded-md"],[1,"space-y-2.5"],[1,"text-lg","text-japaneseIndigo","font-bold"],[1,"flex","space-x-5","items-center"],["class","block w-40 h-40",4,"ngFor","ngForOf"],[1,"text-sm","text-quicksilver"],[3,"innerHtml"],[1,"space-y-3"],[1,"bg-white","p-7","space-y-2.5","rounded-md"],["class","flex items-center justify-between bg-brightGray py-3 px-4 rounded-md",4,"ngFor","ngForOf"],[1,"w-full","mt-5","addsBox"],["src","/assets/images/banner-ads.png","alt","ring-ad",1,"w-full","object-cover"],["class","space-y-4",4,"ngIf"],["class","space-y-4","id","tAndC",4,"ngIf"],["class","w-full space-y-3",4,"ngIf"],[1,"w-full","lg:w-4/12","lg:pl-3","xl:pl-5","space-y-7","sticky","top-0","mt-7","lg:mt-0"],[1,"bg-gradient-to-r","from-[#13e1b094]","to-[#13E1B0]","space-y-3.5","rounded-md","p-5","relative"],[1,"text-white","font-normal"],["title","Scroll Down Terms & Conditions",1,"text-white","flex"],["src","../assets/images/event-subscription.png","alt","event",1,"absolute","bottom-7","-right-1"],[1,"bg-white","p-7","rounded-md","space-y-7"],[1,"flex","items-center","space-x-2.5"],["src","../assets/images/flipkard-icon.png","alt","flipkart",1,"w-10","h-10"],[1,"text-base","text-japaneseIndigo","font-bold"],[1,"text-xs","text-quicksilver"],["src","../assets/images/amzon-icon.png","alt","amazon",1,"w-10","h-10"],["src","../assets/images/myntra-icon.png","alt","myntra",1,"w-10","h-10"],["src","/assets/images/ad.png","alt","ring-ad",1,"w-full","object-cover"],[1,"block","w-40","h-40"],["imageClass","w-full h-full object-cover rounded","styleClass","w-full h-full",3,"src","alt","preview"],[1,"flex","items-center","justify-between","bg-brightGray","py-3","px-4","rounded-md"],[1,"w-7","h-7","object-contain",3,"src","alt"],["target","_blank",1,"text-sm","normal-case",3,"href"],[1,"text-xl","leading-0"],["href","javascript:void(0);","title","Copy",1,"px-3",3,"click"],[1,"icon-copy"],["target","_blank","title","View This Link",1,"px-3","border-l","border-quicksilver",3,"href"],[1,"icon-big_screen"],[1,"space-y-4"],[1,"p-7","bg-white","rounded-md","space-y-1"],[1,"text-lg"],["id","tAndC",1,"space-y-4"],[1,"p-3","lg:p-7","bg-white","rounded-md","space-y-1",3,"innerHtml"],[1,"w-full","space-y-3"],[1,"block","text-base","lg:text-xl","font-bold"],[1,"flex","items-center","space-x-5","p-5","lg:p-7","bg-white","rounded-lg"],["target","_blank",3,"href",4,"ngIf"],["target","_blank",3,"href"],["alt","facebook","src","../assets/images/facebook.png",1,"w-10","h-10","object-cover"],["alt","twiiter","src","../assets/images/twiiter.png",1,"w-10","h-10","object-cover"],["alt","youtube","src","../assets/images/youtube.png",1,"w-10","h-10","object-cover"],["alt","pinterest","src","../assets/images/pinterest.png",1,"w-10","h-10","object-cover"],["alt","instagram","src","../assets/images/instagram.png",1,"w-10","h-10","object-cover"],["alt","linkdin","src","../assets/images/linked.png",1,"w-10","h-10","object-cover"],[1,"absolute","inset-0","text-white","flex","items-center"],[1,"mx-auto",3,"diameter","mode"]],template:function(t,n){1&t&&(e.YNc(0,te,1,3,"p-progressSpinner",0),e.TgZ(1,"div",1),e._UZ(2,"img",2),e.qZA(),e.YNc(3,ue,101,23,"div",3),e.TgZ(4,"modal",4)(5,"div",5)(6,"div",6)(7,"h3",7),e._uU(8,"Delete Offer"),e.qZA(),e.TgZ(9,"p",8),e._uU(10),e.qZA()(),e.TgZ(11,"div",9)(12,"button",10),e.NdJ("click",function(){return n.close()}),e._uU(13,"Cancel"),e.qZA(),e.TgZ(14,"div",11)(15,"button",12),e.NdJ("click",function(){return n.deleteEvent()}),e.TgZ(16,"span",13),e._uU(17,"Delete"),e.qZA()(),e.YNc(18,me,2,2,"div",14),e.qZA()()()()),2&t&&(e.Q6J("ngIf",n.isLoading),e.xp6(2),e.Q6J("src",null!=n.offerObj&&n.offerObj.poster?n.constants.baseImageURL+n.offerObj.poster:n.constants.defaultImage,e.LSH)("alt",null==n.offerObj?null:n.offerObj.shop_name),e.xp6(1),e.Q6J("ngIf",!n.isLoading),e.xp6(1),e.Q6J("isCloseHidden",!0)("isTitleHidden",!0),e.xp6(6),e.hij("Are you sure you want to delete ",null==n.offerObj?null:n.offerObj.shop_name,""),e.xp6(6),e.Q6J("ngClass",e.VKq(9,ge,n.isDeleteLoading)),e.xp6(2),e.Q6J("ngIf",n.isDeleteLoading))},dependencies:[c.mk,c.sg,c.O5,s.JJ,s.On,A.G,I.z,Z.Ou,F.E,q.iG,c.uU]}),i})();var he=f(3385),ve=f(5698),x=f(7489),N=f(5439),be=f(2294),y=f(4728),Ce=f(7465),J=f(585),xe=f(8045),S=f(1208),P=f(7651);function Oe(i,r){1&i&&(e.TgZ(0,"span"),e._uU(1," Start date is required. "),e.qZA())}function Ze(i,r){if(1&i&&(e.TgZ(0,"span",121),e.YNc(1,Oe,2,0,"span",122),e.qZA()),2&i){const t=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.addEditOfferForm.get("shop_name"))||null==n.errors?null:n.errors.required)}}function ye(i,r){if(1&i&&(e.TgZ(0,"label",123),e._UZ(1,"input",124),e.TgZ(2,"span",125),e._uU(3),e.qZA()()),2&i){const t=r.$implicit;e.xp6(1),e.Q6J("name","price_plus")("formControlName","offer_type")("value",t.value),e.xp6(2),e.Oqu(t.displayLabel)}}function we(i,r){1&i&&(e.TgZ(0,"span"),e._uU(1," Discount is required. "),e.qZA())}function Te(i,r){1&i&&(e.TgZ(0,"span"),e._uU(1," Percentage should maximum 100%. "),e.qZA())}function Ae(i,r){1&i&&(e.TgZ(0,"span"),e._uU(1," Please insert valid value. "),e.qZA())}function Ie(i,r){if(1&i&&(e.TgZ(0,"span",121),e.YNc(1,we,2,0,"span",122),e.YNc(2,Te,2,0,"span",122),e.YNc(3,Ae,2,0,"span",122),e.qZA()),2&i){const t=e.oxw();let n,o,l;e.xp6(1),e.Q6J("ngIf",null==(n=t.addEditOfferForm.get("offer_amount"))||null==n.errors?null:n.errors.required),e.xp6(1),e.Q6J("ngIf",null==(o=t.addEditOfferForm.get("offer_amount"))||null==o.errors?null:o.errors.max),e.xp6(1),e.Q6J("ngIf",null==(l=t.addEditOfferForm.get("offer_amount"))||null==l.errors?null:l.errors.min)}}function qe(i,r){1&i&&(e.TgZ(0,"span"),e._uU(1," Offer start date is required. "),e.qZA())}function Ue(i,r){if(1&i&&(e.TgZ(0,"span",121),e.YNc(1,qe,2,0,"span",122),e.qZA()),2&i){const t=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.addEditOfferForm.get("start_date"))||null==n.errors?null:n.errors.required)}}function ke(i,r){1&i&&(e.TgZ(0,"span"),e._uU(1," Offer end date is required. "),e.qZA())}function Le(i,r){if(1&i&&(e.TgZ(0,"span",121),e.YNc(1,ke,2,0,"span",122),e.qZA()),2&i){const t=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.addEditOfferForm.get("end_date"))||null==n.errors?null:n.errors.required)}}function je(i,r){1&i&&(e.TgZ(0,"span"),e._uU(1," Product name is required. "),e.qZA())}function Fe(i,r){if(1&i&&(e.TgZ(0,"span",121),e.YNc(1,je,2,0,"span",122),e.qZA()),2&i){const t=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.addEditOfferForm.get("product_name"))||null==n.errors?null:n.errors.required)}}function Ne(i,r){1&i&&(e.TgZ(0,"span"),e._uU(1," Poster is required. "),e.qZA())}function Je(i,r){if(1&i&&(e.TgZ(0,"span",121),e.YNc(1,Ne,2,0,"span",122),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.poster||null==t.poster.errors?null:t.poster.errors.required)}}function Se(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",126)(1,"div",127),e._UZ(2,"img",128),e.TgZ(3,"button",129),e.NdJ("click",function(){const l=e.CHM(t).index,a=e.oxw();return e.KtG(a.removeImage(l))}),e._uU(4,"Remove"),e.qZA()()()}if(2&i){const t=r.$implicit,n=r.index,o=e.oxw();e.xp6(2),e.Q6J("alt","add-photo-"+n)("src",null!=t&&t.url?o.constants.baseImageURL+t.url:o.constants.defaultImage,e.LSH)}}const H=function(){return{width:"20px",height:"20px"}};function Pe(i,r){1&i&&e._UZ(0,"p-progressSpinner",137),2&i&&e.Akn(e.DdM(2,H))}function He(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",130),e.YNc(1,Pe,1,3,"p-progressSpinner",131),e.TgZ(2,"label",132)(3,"input",133),e.NdJ("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.uploadImage())}),e.qZA(),e._UZ(4,"i",134),e.TgZ(5,"div",135)(6,"span",136),e._uU(7,"Add Photos"),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isImgLoading)}}function Ee(i,r){1&i&&(e.TgZ(0,"span"),e._uU(1," At least one image is required. "),e.qZA())}function Me(i,r){if(1&i&&(e.TgZ(0,"span",121),e.YNc(1,Ee,2,0,"span",122),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.images||null==t.images.errors?null:t.images.errors.required)}}function Qe(i,r){1&i&&(e.O4$(),e.TgZ(0,"svg",157),e._UZ(1,"path",158),e.qZA())}function De(i,r){if(1&i&&e._UZ(0,"img",159),2&i){const t=e.oxw(3);e.Q6J("src",null!=t.platformObj&&t.platformObj.platformimage?t.constants.baseImageURL+t.platformObj.platformimage:t.constants.defaultImage,e.LSH)("alt",t.platformObj&&t.platformObj.name&&""!=t.platformObj.name?t.platformObj.name:"Platform Image")}}const Ye=function(){return{standalone:!0}};function Ve(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",148)(1,"div",149)(2,"span",150),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(6);return e.KtG(o.click())}),e.YNc(3,Qe,2,0,"svg",151),e.YNc(4,De,1,2,"img",152),e.TgZ(5,"input",153,154),e.NdJ("change",function(o){e.CHM(t);const l=e.oxw(2);return e.KtG(l.onChangePlatformImage(o))}),e.qZA()()(),e.TgZ(7,"input",155),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw(2);return e.KtG(l.platformObj.name=o)}),e.qZA(),e.TgZ(8,"button",156),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.addPlatform())}),e._uU(9,"+ Add"),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",!t.platformObj||!t.platformObj.platformimage||""==t.platformObj.platformimage),e.xp6(1),e.Q6J("ngIf",t.platformObj&&t.platformObj.platformimage&&""!=t.platformObj.platformimage),e.xp6(3),e.Q6J("ngModel",t.platformObj.name)("ngModelOptions",e.DdM(5,Ye)),e.xp6(1),e.Q6J("disabled",t.isPlatformLoading)}}function ze(i,r){1&i&&(e.TgZ(0,"span"),e._uU(1," Please select platform. "),e.qZA())}function Be(i,r){if(1&i&&(e.TgZ(0,"span",121),e.YNc(1,ze,2,0,"span",122),e.qZA()),2&i){const t=e.oxw().$implicit;let n;e.xp6(1),e.Q6J("ngIf",null==t||null==(n=t.get("platform"))||null==n.errors?null:n.errors.required)}}function Ge(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",160),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().index,l=e.oxw();return e.KtG(l.removeProductLink(o))}),e._UZ(1,"span",161),e.qZA()}}function Re(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",162),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.addProductLink())}),e._UZ(1,"i",163),e.qZA()}}function $e(i,r){1&i&&(e.TgZ(0,"span"),e._uU(1," Product link is required. "),e.qZA())}function Ke(i,r){if(1&i&&(e.TgZ(0,"span",121),e.YNc(1,$e,2,0,"span",122),e.qZA()),2&i){const t=e.oxw().$implicit;let n;e.xp6(1),e.Q6J("ngIf",null==t||null==(n=t.get("product_link"))||null==n.errors?null:n.errors.required)}}function We(i,r){if(1&i&&(e.TgZ(0,"div",138)(1,"div",139)(2,"span",9),e._uU(3,"select platform"),e.qZA(),e.TgZ(4,"ng-select",140),e.YNc(5,Ve,10,6,"ng-template",141),e.qZA(),e.YNc(6,Be,2,1,"span",11),e.qZA(),e.TgZ(7,"div",142)(8,"span",9),e._uU(9,"enter platform product link"),e.qZA(),e.TgZ(10,"div",143)(11,"div",144),e._UZ(12,"input",145),e.qZA(),e.TgZ(13,"div"),e.YNc(14,Ge,2,0,"button",146),e.YNc(15,Re,2,0,"button",147),e.qZA()(),e.YNc(16,Ke,2,1,"span",11),e.qZA()()),2&i){const t=r.$implicit,n=r.index,o=e.oxw();let l,a;e.Q6J("formGroupName",n),e.xp6(4),e.Q6J("items",o.platformArr),e.xp6(2),e.Q6J("ngIf",(null==t||null==(l=t.get("platform"))?null:l.invalid)&&(null==t||null==(l=t.get("platform"))?null:l.dirty)&&(null==t||null==(l=t.get("platform"))?null:l.touched)),e.xp6(8),e.Q6J("ngIf",n!=o.productLinks.controls.length-1),e.xp6(1),e.Q6J("ngIf",n==o.productLinks.controls.length-1),e.xp6(1),e.Q6J("ngIf",(null==t||null==(a=t.get("product_link"))?null:a.invalid)&&(null==t||null==(a=t.get("product_link"))?null:a.dirty)&&(null==t||null==(a=t.get("product_link"))?null:a.touched))}}function Xe(i,r){1&i&&(e.TgZ(0,"span"),e._uU(1," Company name is required. "),e.qZA())}function et(i,r){if(1&i&&(e.TgZ(0,"span",121),e.YNc(1,Xe,2,0,"span",122),e.qZA()),2&i){const t=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.addEditOfferForm.get("company_name"))||null==n.errors?null:n.errors.required)}}function tt(i,r){1&i&&e._UZ(0,"p-progressSpinner",164),2&i&&e.Akn(e.DdM(2,H))}function nt(i,r){if(1&i&&(e.TgZ(0,"a",165),e._uU(1,"View"),e.qZA()),2&i){const t=e.oxw();e.Q6J("href",t.constants.baseImageURL+t.companyGST.value,e.LSH)}}function it(i,r){1&i&&(e.TgZ(0,"span",121),e._uU(1," Please upload only PDF file. "),e.qZA())}function ot(i,r){1&i&&(e.TgZ(0,"span"),e._uU(1,"Company contact number is required."),e.qZA())}function rt(i,r){1&i&&(e.TgZ(0,"span"),e._uU(1,"Please enter valid company contact number."),e.qZA())}function lt(i,r){if(1&i&&(e.TgZ(0,"span",121),e.YNc(1,ot,2,0,"span",122),e.YNc(2,rt,2,0,"span",122),e.qZA()),2&i){const t=e.oxw();let n,o;e.xp6(1),e.Q6J("ngIf",null==(n=t.addEditOfferForm.get("company_contact_no"))||null==n.errors?null:n.errors.required),e.xp6(1),e.Q6J("ngIf",null==(o=t.addEditOfferForm.get("company_contact_no"))||null==o.errors?null:o.errors.pattern)}}function at(i,r){1&i&&(e.TgZ(0,"span"),e._uU(1,"Company email is required."),e.qZA())}function st(i,r){1&i&&(e.TgZ(0,"span"),e._uU(1,"Please enter valid email."),e.qZA())}function ft(i,r){if(1&i&&(e.TgZ(0,"span",121),e.YNc(1,at,2,0,"span",122),e.YNc(2,st,2,0,"span",122),e.qZA()),2&i){const t=e.oxw();let n,o;e.xp6(1),e.Q6J("ngIf",null==(n=t.addEditOfferForm.get("company_email"))||null==n.errors?null:n.errors.required),e.xp6(1),e.Q6J("ngIf",null==(o=t.addEditOfferForm.get("company_email"))||null==o.errors?null:o.errors.pattern)}}function pt(i,r){if(1&i&&e._UZ(0,"img",166),2&i){const t=e.oxw();e.Q6J("src",t.cropImgPreview,e.LSH)}}function dt(i,r){1&i&&(e.TgZ(0,"span"),e._uU(1," Terms and conditions is required. "),e.qZA())}function ct(i,r){if(1&i&&(e.TgZ(0,"span",167),e.YNc(1,dt,2,0,"span",122),e.qZA()),2&i){const t=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.tandcForm.get("t_and_c"))||null==n.errors?null:n.errors.required)}}function ut(i,r){1&i&&(e.TgZ(0,"span"),e._uU(1," Please accept your terms and conditions. "),e.qZA())}function mt(i,r){if(1&i&&(e.TgZ(0,"span",168),e.YNc(1,ut,2,0,"span",122),e.qZA()),2&i){const t=e.oxw();let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.tandcForm.get("status"))||null==n.errors?null:n.errors.required)}}function gt(i,r){1&i&&(e.TgZ(0,"div",169),e._UZ(1,"mat-progress-spinner",170),e.qZA()),2&i&&(e.xp6(1),e.Q6J("diameter",22)("mode","indeterminate"))}function _t(i,r){1&i&&(e.TgZ(0,"div",169),e._UZ(1,"mat-progress-spinner",170),e.qZA()),2&i&&(e.xp6(1),e.Q6J("diameter",22)("mode","indeterminate"))}const ht=function(i){return{"opacity-0":i}};let vt=(()=>{class i{constructor(t,n,o,l,a,p,m,g,_){this._formBuilder=t,this._router=n,this._sNotify=o,this._onlineOffersService=l,this._globalFunctions=a,this._modalService=p,this._compressImageService=m,this._config=g,this._globalService=_,this.constants=d.t,this.positiveMaxNumber=Number.POSITIVE_INFINITY,this.detailEditor=he,this.isLoading=!1,this.isImgLoading=!1,this.isIconLoading=!1,this.isPdfLoading=!1,this.isInValidPDF=!1,this.isCropperLoading=!1,this.isDeleteLoading=!1,this.isSaveLoading=!1,this.isPlatformLoading=!1,this.minDateValue=new Date,this.posterObj={},this.platformObj={},this.dropifyOption={},this.cropImgPreview="",this.isPosterLoading=!1,this.editorConfig={},this.platformArr=[],this.deleteItemObj={},this._config.notFoundText="Platform not found"}get poster(){return this.addEditOfferForm?.get("poster")}get images(){return this.addEditOfferForm?.get("images")}get companyGST(){return this.addEditOfferForm?.get("company_gst")}get productLinks(){return this.addEditOfferForm?.get("product_links")}ngOnInit(){this.getPlatformList(),this.editorConfig=d.t.editorConfig,this.dropifyOption={messages:{default:"Add Poster",icon:'<svg width="21" height="17" viewBox="0 0 21 17" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M19.6666 0.333496H1.33335C0.59702 0.333496 0 0.930479 0 1.66681V15.3335C0 16.0698 0.59702 16.6668 1.33335 16.6668H19.6666C20.403 16.6668 21 16.0698 21 15.3335V1.66681C21 0.930479 20.403 0.333496 19.6666 0.333496ZM19.6666 1.66681V11.3638L17.0389 8.9748C16.644 8.61581 16.0366 8.63014 15.6593 9.00782L12.9999 11.6668L7.75634 5.40347C7.35998 4.93013 6.63397 4.92548 6.23167 5.39314L1.33335 11.0858V1.66681H19.6666ZM14 5.16682C14 4.15414 14.8206 3.33347 15.8333 3.33347C16.846 3.33347 17.6666 4.15414 17.6666 5.16682C17.6666 6.17949 16.846 7.00012 15.8333 7.00012C14.8206 7.00016 14 6.17949 14 5.16682Z" fill="#A6A6A6"/></svg>'}},this.drEvent=$("#poster").dropify(this.dropifyOption),this.drEvent.on("dropify.afterClear",(t,n)=>{this.poster?.setValue("")}),this._prepareAddEditOfferForm(),localStorage.getItem("oOId")&&""!=localStorage.getItem("oOId")?(this.offerId=localStorage.getItem("oOId"),this.getOnlineShopOfferByOfferId(this.offerId)):this._globalService.loginUser$.subscribe(t=>{if(t){const n=this._globalFunctions.copyObject(t?.businessProfile||{});this.addEditOfferForm.patchValue({company_name:n?.name||"",company_contact_no:n?.mobile||"",company_email:n?.email||"",about_company:n?.about||""})}})}ngOnDestroy(){this._globalFunctions.removeIdsFromLocalStorage()}getPlatformList(){this.isLoading=!0,this._onlineOffersService.getPlatformList().subscribe(t=>{t&&t.IsSuccess?(this.platformArr=t?.Data||[],this.isLoading=!1):(this._globalFunctions.successErrorHandling(t,this,!0),this.isLoading=!1)},t=>{this._globalFunctions.errorHanding(t,this,!0),this.isLoading=!1})}getOnlineShopOfferByOfferId(t=""){this.isLoading=!0,this._onlineOffersService.getOnlineOfferById(t).subscribe(n=>{if(n&&n.IsSuccess){const o=n?.Data||{};this._prepareAddEditOfferForm(o||{}),o.poster&&this.setPosterInDropify(o.poster),o.company_gst&&(this.inputText=x.last(x.split(o.company_gst,"/"))),this.isLoading=!1}else this._globalFunctions.successErrorHandling(n,this,!0),this.isLoading=!1},n=>{this._globalFunctions.errorHanding(n,this,!0),this.isLoading=!1})}onPosterChange(t){if(this.imgChangeEvt=t,t.target.files.length>0){const n=t.target.files[0];if(null!=n){if("image/jpeg"!=n.type&&"image/jpg"!=n.type&&"image/png"!=n.type)return this._sNotify.error("Poster type is Invalid.","Oops!"),!1;if(n.size/1024/1024>d.t.maxPosterSizeInMB)return this._sNotify.error("Maximum Poster Size is "+d.t.maxPosterSizeInMB+"MB.","Oops!"),!1;this.posterObj.image=n,this.posterObj.name=n.name,this._modalService.open("imgCropper"),this.isCropperLoading=!0}}}cropImg(t){this.cropImgPreview=t.base64}imageLoaded(){this.isCropperLoading=!1}savePoster(t){if(t&&""!=t&&!this.isPosterLoading){const n=this._globalFunctions.base64ToImage(t,this.posterObj.name);this._compressImageService.compress(n).pipe((0,ve.q)(1)).subscribe(o=>{if(o){const l=new FormData;l.append("file",o),this.isPosterLoading=!0,this._onlineOffersService.uploadBanner(l).subscribe(a=>{a&&a.IsSuccess?(this.posterObj.image=t,this.setPosterInDropify(a.Data.url),this._sNotify.success("File Uploaded Successfully.","Success"),this.isPosterLoading=!1,this._modalService.close("imgCropper")):(this._globalFunctions.successErrorHandling(a,this,!0),this.isPosterLoading=!1)},a=>{this._globalFunctions.errorHanding(a,this,!0),this.isPosterLoading=!1})}else this._sNotify.success("Something went wrong!","Oops")})}}setPosterInDropify(t=""){const n=d.t.baseImageURL+t;this.drEvent=this.drEvent.data("dropify"),this.drEvent.resetPreview(),this.drEvent.clearElement(),this.drEvent.settings.defaultFile=n,this.drEvent.destroy(),this.drEvent.init(),this.dropifyOption.defaultFile=n,this.drEvent=$(".poster").dropify(this.dropifyOption),this.poster.setValue(t)}popClose(t){$(".dropify-clear").click(),this._modalService.close(t)}uploadImage(){const t=$("#create-photo-upload")[0].files[0],n=new FormData;if(null!=t){if("image/jpeg"!=t.type&&"image/jpg"!=t.type&&"image/png"!=t.type)return this._sNotify.error("Image type is Invalid.","Oops!"),$("#create-photo-upload").focus(),!1;if(t.size/1024/1024>d.t.maxImageSizeInMB)return this._sNotify.error("Maximum Image Size is "+d.t.maxImageSizeInMB+"MB.","Oops!"),$("#create-photo-upload").focus(),!1;if(this.images&&this.images.value&&this.images.value.length&&this.images.value.length>=2)return this._sNotify.error("Maximum 2 images can upload!","Oops!"),!1;n.append("file",t),this.isImgLoading=!0,this._onlineOffersService.imageUpload(n).subscribe(l=>{if(l&&l.IsSuccess){const a=this.images?.value||[];a.push({url:l.Data.url}),this.images.setValue(a),this._sNotify.success("Image Uploaded Successfully.","Success"),this.isImgLoading=!1}else this._globalFunctions.successErrorHandling(l,this,!0),this.isImgLoading=!1},l=>{this._globalFunctions.errorHanding(l,this,!0),this.isImgLoading=!1}),$("#create-photo-upload").val(null)}}removeImage(t){this.deleteItemObj={index:t,type:"photo"},this._modalService.open("delete-image-pop")}close(){this._modalService.close("delete-image-pop"),this.deleteItemObj={}}deleteImage(){this.isDeleteLoading=!0,this.images.value.splice(this.deleteItemObj.index,1),this.isDeleteLoading=!1,this.deleteItemObj={},this._modalService.close("delete-image-pop")}onChangePDF(t){const n=$("#company_gst")[0].files[0],o=new FormData;if(this.isInValidPDF=!1,null!=n){if("application/pdf"!=n.type)return $("#company_gst").focus(),this.isInValidPDF=!0,!1;o.append("file",n),this.isPdfLoading=!0,this._onlineOffersService.uploadDocument(o).subscribe(l=>{l&&l.IsSuccess?(this.companyGST.setValue(l.Data.url),this.inputText=x.last(x.split(l.Data.url,"/")),this._sNotify.success("File Uploaded Successfully.","Success"),this.isPdfLoading=!1):(this._globalFunctions.successErrorHandling(l,this,!0),this.isPdfLoading=!1)},l=>{this._globalFunctions.errorHanding(l,this,!0),this.isPdfLoading=!1})}}validateForm(t=!1){return!t&&this.addEditOfferForm.invalid?(Object.keys(this.addEditOfferForm.controls).forEach(n=>{this.addEditOfferForm.controls[n].touched=!0,this.addEditOfferForm.controls[n].markAsDirty()}),Object.keys(this.productLinks.controls).forEach(n=>{Object.keys(this.productLinks.controls[n].controls).forEach(o=>{this.productLinks.controls[n].controls[o].touched=!0,this.productLinks.controls[n].controls[o].markAsDirty()})}),!1):!t||!this.tandcForm.invalid||(Object.keys(this.tandcForm.controls).forEach(n=>{this.tandcForm.controls[n].touched=!0,this.tandcForm.controls[n].markAsDirty()}),!1)}saveAndContinue(){if(!this.validateForm())return!1;this._modalService.open("tAndC")}onTextEditorReady(t,n){t.ui.getEditableElement().parentElement.insertBefore(t.ui.view.toolbar.element,t.ui.getEditableElement())}prepareOfferObj(t={}){const n=this._globalFunctions.copyObject(t);return n.tandc=this.tandcForm?.value,n.status=!0,n.start_date=N(t.start_date).format("YYYY-MM-DD"),n.end_date=N(t.end_date).format("YYYY-MM-DD"),n}addEditOnlineShopOffer(){if(!this.validateForm(!0))return!1;const t=this.prepareOfferObj(this.addEditOfferForm.value);this.isLoading=!0,this._onlineOffersService.createOnlineOffer(t).subscribe(n=>{n&&n.IsSuccess?(this._modalService.close("tAndC"),this._sNotify.success("Online Service Created Successfully.","Success"),this._router.navigate(["/online-offers"]),this.isLoading=!1):(this._globalFunctions.successErrorHandling(n,this,!0),this.isLoading=!1)},n=>{this._globalFunctions.errorHanding(n,this,!0),this.isLoading=!1})}addProductLink(t={}){const n=this._formBuilder.group({platform:[t?.platform?._id||"",[s.kI.required]],product_link:[t?.product_link||"",[s.kI.required]]});this.productLinks.push(n)}removeProductLink(t){this.productLinks.get(t.toString())&&(this.productLinks.removeAt(t.toString()),this.productLinks.updateValueAndValidity())}onChangePlatformImage(t){if(!(t&&t.target&&t.target.files&&t.target.files.length))return!1;const n=t.target.files[0],o=new FormData;if(null!=n){if("image/jpeg"!=n.type&&"image/jpg"!=n.type&&"image/png"!=n.type&&"image/x-icon"!=n.type)return this._sNotify.error("Image type is Invalid.","Oops!"),!1;if(n.size/1024>d.t.maxIconSizeInKB)return this._sNotify.error("Maximum Image Size is "+d.t.maxIconSizeInKB+"KB.","Oops!"),!1;o.append("file",n),this.isIconLoading=!0,this._onlineOffersService.uploadPlatformImage(o).subscribe(a=>{a&&a.IsSuccess?(this.platformObj.platformimage=a.Data.url,this._sNotify.success("Platform Icon Uploaded Successfully.","Success"),this.isIconLoading=!1):(this._globalFunctions.successErrorHandling(a,this,!0),this.isIconLoading=!1)},a=>{this._globalFunctions.errorHanding(a,this,!0),this.isIconLoading=!1})}}validatePlatformObj(){return this.platformObj.platformimage&&""!=this.platformObj.platformimage?!(!this.platformObj.name||""==this.platformObj.name)||(this._sNotify.error("Platform name is required","Oops!"),!1):(this._sNotify.error("Platform icon is required","Oops!"),!1)}addPlatform(){if(this.isPlatformLoading=!0,!this.validatePlatformObj())return this.isPlatformLoading=!1,!1;this.platformObj.platformid="",this.platformObj.description="",this.platformObj.status=!0,this._onlineOffersService.savePlatform(this.platformObj).subscribe(t=>{t&&t.IsSuccess?(this.platformArr=[...this.platformArr,t.Data],this._sNotify.success("Platform Saved Successfully.","Success"),this.platformObj={},this.isPlatformLoading=!1):(this._globalFunctions.successErrorHandling(t,this,!0),this.isPlatformLoading=!1)},t=>{this._globalFunctions.errorHanding(t,this,!0),this.isPlatformLoading=!1})}_prepareAddEditOfferForm(t={}){this.addEditOfferForm=this._formBuilder.group({offerid:[this.offerId||""],shop_name:[t?.shop_name||"",[s.kI.required]],offer_amount:[t?.offer_amount||"",[s.kI.required]],offer_type:[t?.discount_type||d.t.discountTypeArr[d.t.discountTypeObj.percentage].value,[s.kI.required]],start_date:[t.start_date?new Date(t.start_date):"",[s.kI.required]],end_date:[t.end_date?new Date(t.end_date):"",[s.kI.required]],product_name:[t?.product_name||"",[s.kI.required]],poster:[t?.poster||"",[s.kI.required]],images:[t?.images||"",[s.kI.required]],description:[t?.description||""],product_links:this._formBuilder.array([]),company_name:[t?.company_name||"",[s.kI.required]],company_gst:[t?.company_gst||""],company_contact_no:[t?.company_contact_no||"",[s.kI.required,s.kI.pattern("^((\\+91-?)|0)?[0-9]{10}$")]],company_email:[t?.company_email||"",[s.kI.required,s.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]],about_company:[t?.about_company||""]}),t&&t.product_links?x.each(t.product_links,n=>{this.addProductLink(n)}):this.addProductLink(),this.tandcForm=this._formBuilder.group({t_and_c:[t?.tandc?.t_and_c||"",[s.kI.required]],facebook:[t?.tandc?.facebook||""],twitter:[t?.tandc?.twitter||""],youtube:[t?.tandc?.youtube||""],pinterest:[t?.tandc?.pinterest||""],instagram:[t?.tandc?.instagram||""],linkedin:[t?.tandc?.linkedin||""],status:["",[s.kI.required]]})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(s.qu),e.Y36(h.F0),e.Y36(j.VZ),e.Y36(T),e.Y36(O.E),e.Y36(w.Z),e.Y36(be.Y),e.Y36(y.$q),e.Y36(Ce.U))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-create-offer"]],decls:226,vars:56,consts:[[1,"wrapper"],[1,"h-full"],[1,"flex","justify-between","items-center"],["href","javascript:void(0);","routerLink","/online-offers",1,"flex","items-center"],[1,"icon-left_arrow","mr-4","text-2xl"],[1,"secondary","anim","px-5","py-3",3,"click"],[1,"p-ngCss","pt-3",3,"formGroup"],[1,"flex","flex-wrap","-mx-2"],[1,"w-full","lg:w-1/2","px-2","pt-5","inputHolder","relative"],[1,"input-titel"],["type","text","name","shop_name","formControlName","shop_name",1,"input"],["class","absolute top-full text-red-500 text-xs",4,"ngIf"],[1,"flex","items-center","w-full","bg-white","p-2","px-3.5","rounded-md"],[1,"w-full","pr-4"],["type","number","fuseValidNumber","",1,"w-full","outline-none","text-spiroDiscoBall","font-bold","text-base","capitalize",3,"formControlName","placeholder","min","max"],[1,"selectPrice","flex","items-center","space-x-3"],["class","block cursor-pointer",4,"ngFor","ngForOf"],[1,"w-full","lg:w-1/2","px-2","pt-5","flex","space-x-4"],[1,"w-full","lg:w-1/2","relative"],[1,"bg-white","rounded-md","flex","space-x-3","relative"],[1,"icon-calendar-2","text-quicksilver","flex","items-center","pr-5","absolute","right-0","inset-y-0","z-10"],["formControlName","start_date","name","start_date","inputId","start_date",1,"input","w-full",3,"touchUI","minDate"],["formControlName","end_date","name","end_date","inputId","end_date",1,"input","w-full",3,"touchUI","minDate"],["type","text","name","product_name","formControlName","product_name",1,"input"],[1,"w-full","lg:w-1/2","px-2","pt-5"],[1,"upload-holder","w-full","h-auto","relative"],[1,"text-sm","text-quicksilver","font-semibold"],[1,"font-normal"],["id","posterUpload",1,"upload","upload-popup","p-0","relative","group"],["accept","image/png, image/jpeg, image/gif","id","poster","type","file",1,"poster","hidden",3,"change"],[1,"flex","flex-wrap","h-full","relative"],["class","upload-box mr-2.5 mb-2.5",4,"ngFor","ngForOf"],["class","upload-holder relative",4,"ngIf"],[1,"w-full","px-2","pt-5"],[1,"w-full","bg-white","rounded"],["id","description","name","description",1,"h-44","text-editor",3,"config","editor","formControlName","ready"],["formArrayName","product_links",1,"bg-white","p-3.5","lg:p-5","offerProducts","rounded-md","w-full"],["class","flex items-center -mx-2",3,"formGroupName",4,"ngFor","ngForOf"],["type","text","name","company_name","formControlName","company_name",1,"input"],[1,"w-full","lg:w-1/2","px-2","pt-5","inputHolder","relative","group"],["animationDuration",".5s","strokeWidth","4","class","absolute bg-white bg-opacity-25 backdrop-blur-sm inset-x-1 bottom-0 top-10 z-20","styleClass","custom-spinner absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",3,"style",4,"ngIf"],[1,"upload","upload-popup","py-3"],["accept","application/pdf","id","company_gst","name","images","type","file",1,"appearance-none","hidden",3,"change"],[1,"input-titel","text-base","p-0"],[1,"icon-pdf_upload","mr-2"],[1,"normal-case"],["class","absolute right-4 bottom-3 py-0.5 px-2 normal-case text-gray-400 anim hover:text-magicPotion text-sm font-semibold hidden border border-current group-hover:inline-block","target","_blank","title","View File",3,"href",4,"ngIf"],["type","tel","name","company_contact_no","formControlName","company_contact_no","fuseValidNumber","",1,"input"],["type","email","name","company_email","formControlName","company_email",1,"input"],["id","about_company","name","about_company",1,"h-44","text-editor",3,"config","editor","formControlName","ready"],["id","imgCropper","title","Poster",1,"popup","table","fixed","w-full","inset-0","z-40","bg-black","bg-opacity-75","h-screen","hidden"],[1,"flex","flex-wrap","-mx-4","py-5","relative"],[1,"absolute","right-4","top-[-30px]","cursor-pointer","text-xl",3,"click"],[1,"icon-close"],[1,"w-full","lg:w-1/2","px-4"],["format","png",3,"aspectRatio","imageChangedEvent","maintainAspectRatio","imageCropped","imageLoaded"],[1,"text-lg","pb-4"],["class","responsive-img",3,"src",4,"ngIf"],[1,"secondary","w-full","uppercase","py-2","anim",3,"disabled","click"],["id","tAndC","title","Terms And Conditions","maxWidth","lg:max-w-7xl xl:px-0",1,"popup","table","fixed","w-full","inset-0","z-40","bg-black","bg-opacity-75","h-screen","hidden"],[3,"formGroup"],[1,"w-full","space-y-4","pt-2"],[1,"w-full","bg-white","rounded","relative"],["id","t_and_c-editor","name","t_and_c",1,"h-44","text-editor",3,"config","editor","formControlName","ready"],["class","absolute top-full text-red-500 text-xs ml-0",4,"ngIf"],[1,"block","w-full","relative","pt-4"],[1,"inline-flex","items-end","cursor-pointer"],[1,"checkbox","rounded","bg-white"],["type","checkbox","name","status",3,"formControlName"],[1,"icon-right","text-white"],[1,"input-titel","text-base","ml-4"],["class","absolute top-full text-red-500 text-xs ml-0 left-0",4,"ngIf"],[1,"w-full","pt-5","lg:pt-6"],[1,"-mx-2"],[1,"w-full","flex","flex-wrap"],[1,"w-full","md:w-1/2","p-2"],[1,"w-full","p-3.5","bg-white","rounded","flex","items-center","space-x-4"],[1,""],[1,"text-center","w-6"],["width","12","height","23","viewBox","0 0 12 23","fill","none","xmlns","http://www.w3.org/2000/svg",1,"mx-auto"],["d","M11.625 7.73633H7.5V4.98633C7.5 4.22733 8.116 3.61133 8.875 3.61133H10.25V0.173828H7.5C5.22163 0.173828 3.375 2.02045 3.375 4.29883V7.73633H0.625V11.1738H3.375V22.1738H7.5V11.1738H10.25L11.625 7.73633Z","fill","#1976D2"],["type","text","formControlName","facebook","name","facebook_link","placeholder","Enter URL",1,"w-full","outline-none"],["width","23","height","23","viewBox","0 0 23 23","fill","none","xmlns","http://www.w3.org/2000/svg",1,"mx-auto"],["clip-path","url(#clip0_1_11310)"],["d","M22.1717 5.89269C21.9181 4.95023 21.1751 4.20735 20.2328 3.95357C18.5112 3.48242 11.6248 3.48242 11.6248 3.48242C11.6248 3.48242 4.73857 3.48242 3.01697 3.93561C2.09281 4.18922 1.33163 4.9504 1.07802 5.89269C0.625 7.61412 0.625 11.1842 0.625 11.1842C0.625 11.1842 0.625 14.7722 1.07802 16.4757C1.3318 17.418 2.07469 18.1611 3.01714 18.4148C4.7567 18.886 11.625 18.886 11.625 18.886C11.625 18.886 18.5112 18.886 20.2328 18.4328C21.1752 18.1792 21.9181 17.4361 22.1719 16.4938C22.6249 14.7722 22.6249 11.2023 22.6249 11.2023C22.6249 11.2023 22.643 7.61412 22.1717 5.89269Z","fill","#FF0000"],["d","M9.43262 14.4831L15.159 11.1849L9.43262 7.88672V14.4831Z","fill","white"],["id","clip0_1_11310"],["width","22","height","22","fill","white","transform","translate(0.625 0.173828)"],["type","text","formControlName","youtube","name","youtube_link","placeholder","Enter URL",1,"w-full","outline-none"],["width","25","height","20","viewBox","0 0 25 20","fill","none","xmlns","http://www.w3.org/2000/svg",1,"mx-auto"],["d","M24.625 2.73233C23.7325 3.12383 22.7815 3.38333 21.79 3.50933C22.81 2.90033 23.5885 1.94333 23.9545 0.789828C23.0035 1.35683 21.9535 1.75733 20.8345 1.98083C19.9315 1.01933 18.6445 0.423828 17.2405 0.423828C14.5165 0.423828 12.3235 2.63483 12.3235 5.34533C12.3235 5.73533 12.3565 6.11033 12.4375 6.46733C8.347 6.26783 4.7275 4.30733 2.296 1.32083C1.8715 2.05733 1.6225 2.90033 1.6225 3.80783C1.6225 5.51183 2.5 7.02233 3.808 7.89683C3.0175 7.88183 2.242 7.65233 1.585 7.29083C1.585 7.30583 1.585 7.32533 1.585 7.34483C1.585 9.73583 3.2905 11.7218 5.527 12.1793C5.1265 12.2888 4.69 12.3413 4.237 12.3413C3.922 12.3413 3.604 12.3233 3.3055 12.2573C3.943 14.2058 5.752 15.6383 7.903 15.6848C6.229 16.9943 4.1035 17.7833 1.8025 17.7833C1.399 17.7833 1.012 17.7653 0.625 17.7158C2.8045 19.1213 5.3875 19.9238 8.173 19.9238C17.227 19.9238 22.177 12.4238 22.177 5.92283C22.177 5.70533 22.1695 5.49533 22.159 5.28683C23.1355 4.59383 23.956 3.72833 24.625 2.73233Z","fill","#03A9F4"],["type","text","formControlName","twitter","name","twitter_link","placeholder","Enter URL",1,"w-full","outline-none"],["width","19","height","23","viewBox","0 0 19 23","fill","none","xmlns","http://www.w3.org/2000/svg",1,"mx-auto"],["d","M9.92379 0.173828C3.89414 0.173828 0.6875 4.03775 0.6875 8.25094C0.6875 10.2049 1.7793 12.6415 3.527 13.4143C3.79239 13.5339 3.93677 13.4831 3.9959 13.2369C4.04815 13.0499 4.27779 12.1492 4.38917 11.7243C4.42354 11.5882 4.40567 11.47 4.29566 11.3421C3.71539 10.6711 3.25474 9.44862 3.25474 8.30182C3.25474 5.36331 5.59097 2.51006 9.56627 2.51006C13.0039 2.51006 15.4089 4.74316 15.4089 7.93743C15.4089 11.547 13.499 14.0441 11.017 14.0441C9.64328 14.0441 8.62023 12.966 8.94475 11.6322C9.33664 10.044 10.1053 8.3362 10.1053 7.19077C10.1053 6.1636 9.52502 5.31381 8.33972 5.31381C6.94128 5.31381 5.80686 6.6985 5.80686 8.55758C5.80686 9.73876 6.22487 10.5363 6.22487 10.5363C6.22487 10.5363 4.84156 16.1245 4.58443 17.1682C4.14991 18.9352 4.64355 21.7967 4.68618 22.0428C4.71231 22.1789 4.86494 22.2216 4.95019 22.1102C5.08632 21.9314 6.7584 19.5457 7.22729 17.8214C7.3978 17.193 8.09771 14.645 8.09771 14.645C8.55835 15.4769 9.88804 16.174 11.3044 16.174C15.5175 16.174 18.5619 12.471 18.5619 7.87555C18.5468 3.46985 14.7764 0.173828 9.92379 0.173828Z","fill","#D32F2F"],["type","text","formControlName","pinterest","name","pinterest_link","placeholder","Enter URL",1,"w-full","outline-none"],["width","21","height","21","viewBox","0 0 21 21","fill","none","xmlns","http://www.w3.org/2000/svg",1,"mx-auto"],["clip-path","url(#clip0_1_11326)"],["d","M1.87476 1.53539C0.303093 3.16789 0.624759 4.90206 0.624759 10.1704C0.624759 14.5454 -0.138574 18.9312 3.85643 19.9637C5.10393 20.2846 16.1573 20.2846 17.4031 19.9621C19.0664 19.5329 20.4198 18.1837 20.6048 15.8312C20.6306 15.5029 20.6306 4.84372 20.6039 4.50872C20.4073 2.00289 18.8648 0.558725 16.8323 0.266225C16.3664 0.198725 16.2731 0.178725 13.8831 0.174559C5.40559 0.178725 3.54726 -0.198775 1.87476 1.53539Z","fill","url(#paint0_linear_1_11326)"],["d","M10.6233 2.79033C7.59751 2.79033 4.72417 2.52116 3.62667 5.33783C3.17334 6.50116 3.23917 8.012 3.23917 10.1753C3.23917 12.0737 3.17834 13.8578 3.62667 15.012C4.72167 17.8303 7.61834 17.5603 10.6217 17.5603C13.5192 17.5603 16.5067 17.862 17.6175 15.012C18.0717 13.837 18.005 12.3487 18.005 10.1753C18.005 7.29033 18.1642 5.42783 16.765 4.0295C15.3483 2.61283 13.4325 2.79033 10.62 2.79033H10.6233ZM9.96167 4.12116C16.2733 4.11116 17.0767 3.4095 16.6333 13.157C16.4758 16.6045 13.8508 16.2262 10.6242 16.2262C4.74084 16.2262 4.57167 16.0578 4.57167 10.172C4.57167 4.21783 5.03834 4.1245 9.96167 4.1195V4.12116ZM14.565 5.347C14.0758 5.347 13.6792 5.74366 13.6792 6.23283C13.6792 6.722 14.0758 7.11866 14.565 7.11866C15.0542 7.11866 15.4508 6.722 15.4508 6.23283C15.4508 5.74366 15.0542 5.347 14.565 5.347ZM10.6233 6.38283C8.52917 6.38283 6.83167 8.08116 6.83167 10.1753C6.83167 12.2695 8.52917 13.967 10.6233 13.967C12.7175 13.967 14.4142 12.2695 14.4142 10.1753C14.4142 8.08116 12.7175 6.38283 10.6233 6.38283ZM10.6233 7.71366C13.8775 7.71366 13.8817 12.637 10.6233 12.637C7.37001 12.637 7.36501 7.71366 10.6233 7.71366Z","fill","white"],["id","paint0_linear_1_11326","x1","1.91311","y1","18.8971","x2","20.501","y2","2.80954","gradientUnits","userSpaceOnUse"],["stop-color","#FFDD55"],["offset","0.5","stop-color","#FF543E"],["offset","1","stop-color","#C837AB"],["id","clip0_1_11326"],["width","20","height","20","fill","white","transform","translate(0.625 0.173828)"],["type","text","formControlName","instagram","name","instagram_link","placeholder","Enter URL",1,"w-full","outline-none"],["width","15","height","14","viewBox","0 0 15 14","fill","none","xmlns","http://www.w3.org/2000/svg",1,"mx-auto"],["d","M3.14795 1.55625C3.14775 1.96878 2.98172 2.36434 2.68639 2.6559C2.39107 2.94746 1.99063 3.11115 1.57319 3.11094C1.15575 3.11073 0.755481 2.94666 0.460451 2.6548C0.16542 2.36295 -0.000208525 1.96723 1.97032e-07 1.55469C0.000208919 1.14216 0.166238 0.746598 0.461564 0.455036C0.756889 0.163475 1.15732 -0.000206073 1.57476 1.94715e-07C1.99221 0.000206463 2.39247 0.164284 2.6875 0.456136C2.98253 0.747989 3.14816 1.14371 3.14795 1.55625ZM3.19517 4.26276H0.0472195V14H3.19517V4.26276ZM8.16894 4.26276H5.03673V14H8.13746V8.89028C8.13746 6.04378 11.8914 5.77935 11.8914 8.89028V14H15V7.83256C15 3.03394 9.44386 3.21282 8.13746 5.56936L8.16894 4.26276Z","fill","#007AB5"],["type","text","formControlName","linkedin","name","linkedin_link","placeholder","Enter URL",1,"w-full","outline-none"],[1,"flex","justify-end","pt-5"],[1,"relative"],[1,"secondary","py-3","px-5","uppercase","text-lg","font-bold",3,"disabled","click"],["class","absolute inset-0 text-white flex items-center",4,"ngIf"],["id","delete-image-pop","title","Are you sure?",1,"popup","table","fixed","w-full","inset-0","z-40","bg-black","bg-opacity-75","h-screen","hidden",3,"isCloseHidden","isTitleHidden"],[1,"flex","flex-wrap","relative"],[1,"w-full","pb-8"],[1,"w-full","pb-2","normal-case"],[1,"flex","items-center","justify-end","space-x-5","w-full"],["type","button",1,"primary","py-2","px-14","anim","uppercase",3,"click"],["type","submit",1,"secondary","py-2","px-14","anim","uppercase",3,"click"],[3,"ngClass"],[1,"absolute","top-full","text-red-500","text-xs"],[4,"ngIf"],[1,"block","cursor-pointer"],["type","radio",1,"hidden",3,"name","formControlName","value"],[1,"text-sm","text-quicksilver","py-2","px-3","bg-white","shadow-lg","whitespace-nowrap","font-bold","rounded","block"],[1,"upload-box","mr-2.5","mb-2.5"],[1,"rounded","relative","overflow-hidden","h-full","w-full"],[1,"object-cover","w-full","h-full",3,"alt","src"],[3,"click"],[1,"upload-holder","relative"],["animationDuration",".5s","strokeWidth","4","class","absolute bg-white bg-opacity-25 backdrop-blur-sm inset-0 z-20","styleClass","custom-spinner absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",3,"style",4,"ngIf"],[1,"upload-photo"],["accept","image/png, image/jpeg, image/gif","id","create-photo-upload","name","images","type","file",1,"appearance-none","hidden",3,"change"],[1,"icon-img_upload","text-base","text-quicksilver"],[1,"mt-1","flex","items-baseline","justify-center"],[1,"input-titel","pt-1"],["animationDuration",".5s","strokeWidth","4","styleClass","custom-spinner absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",1,"absolute","bg-white","bg-opacity-25","backdrop-blur-sm","inset-0","z-20"],[1,"flex","items-center","-mx-2",3,"formGroupName"],[1,"w-full","lg:w-1/2","px-2","inputHolder","relative"],["bindLabel","name","bindValue","_id","formControlName","platform",1,"selectBox",3,"items"],["ng-header-tmp",""],[1,"w-full","lg:w-1/2","px-2","relative"],[1,"w-full","flex","items-center","space-x-5"],[1,"w-full","inputHolder"],["type","text","formControlName","product_link",1,"bgquicksilver","bg-white"],["class","border-2 border-magicPotion w-7 h-7 rounded-full flex justify-center items-center",3,"click",4,"ngIf"],["class","border-2 border-japaneseIndigo w-7 h-7 rounded-full flex justify-center items-center",3,"click",4,"ngIf"],[1,"flex","relative"],[1,"pr-2.5"],[1,"w-10","h-10","flex","items-center","justify-center","border","border-gray-300","rounded","cursor-pointer",3,"click"],["width","20","height","16","viewBox","0 0 20 16","fill","none","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["class","w-full h-full object-cover",3,"src","alt",4,"ngIf"],["type","file","id","platform-image","name","platform-image","accept","image/png, image/jpeg, image/jpg, image/x-icon",1,"appearance-none","hidden",3,"change"],["platformImage",""],["type","text","placeholder","Add Manually Platform",1,"small-input","border","border-gray-300","rounded",3,"ngModel","ngModelOptions","ngModelChange"],["type","button",1,"text-xs","font-bold","text-green-400","absolute","right-3","top-3",3,"disabled","click"],["width","20","height","16","viewBox","0 0 20 16","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M18.7073 0.222656H1.26831C0.567898 0.222656 0 0.791211 0 1.49248V14.5084C0 15.2096 0.567898 15.7782 1.26831 15.7782H18.7073C19.4078 15.7782 19.9757 15.2096 19.9757 14.5084V1.49248C19.9757 0.791211 19.4078 0.222656 18.7073 0.222656ZM18.7073 1.49248V10.7277L16.2078 8.45247C15.8321 8.11057 15.2544 8.12422 14.8955 8.48392L12.3658 11.0163L7.378 5.0512C7.00097 4.6004 6.31038 4.59597 5.9277 5.04136L1.26831 10.463V1.49248H18.7073ZM13.3171 4.82582C13.3171 3.86137 14.0977 3.07978 15.061 3.07978C16.0243 3.07978 16.8049 3.86137 16.8049 4.82582C16.8049 5.79027 16.0243 6.57183 15.061 6.57183C14.0977 6.57186 13.3171 5.79027 13.3171 4.82582Z","fill","#A6A6A6"],[1,"w-full","h-full","object-cover",3,"src","alt"],[1,"border-2","border-magicPotion","w-7","h-7","rounded-full","flex","justify-center","items-center",3,"click"],[1,"border","border-magicPotion","flex","border-x-8","border-y-5","bg-magicPotion","rounded"],[1,"border-2","border-japaneseIndigo","w-7","h-7","rounded-full","flex","justify-center","items-center",3,"click"],[1,"icon-plus_round","leading-0"],["animationDuration",".5s","strokeWidth","4","styleClass","custom-spinner absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",1,"absolute","bg-white","bg-opacity-25","backdrop-blur-sm","inset-x-1","bottom-0","top-10","z-20"],["target","_blank","title","View File",1,"absolute","right-4","bottom-3","py-0.5","px-2","normal-case","text-gray-400","anim","hover:text-magicPotion","text-sm","font-semibold","hidden","border","border-current","group-hover:inline-block",3,"href"],[1,"responsive-img",3,"src"],[1,"absolute","top-full","text-red-500","text-xs","ml-0"],[1,"absolute","top-full","text-red-500","text-xs","ml-0","left-0"],[1,"absolute","inset-0","text-white","flex","items-center"],[1,"mx-auto",3,"diameter","mode"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),e._UZ(4,"i",4),e.TgZ(5,"h2"),e._uU(6),e.qZA()(),e.TgZ(7,"button",5),e.NdJ("click",function(){return n.saveAndContinue()}),e._uU(8,"Save and Continue"),e.qZA()(),e.TgZ(9,"form",6)(10,"div",7)(11,"div",8)(12,"span",9),e._uU(13,"Online shop Name"),e.TgZ(14,"span"),e._uU(15,"*"),e.qZA()(),e._UZ(16,"input",10),e.YNc(17,Ze,2,1,"span",11),e.qZA(),e.TgZ(18,"div",8)(19,"span",9),e._uU(20,"Offer"),e.TgZ(21,"span"),e._uU(22,"*"),e.qZA()(),e.TgZ(23,"div",12)(24,"div",13),e._UZ(25,"input",14),e.qZA(),e.TgZ(26,"div",15),e.YNc(27,ye,4,4,"label",16),e.qZA()(),e.YNc(28,Ie,4,3,"span",11),e.qZA(),e.TgZ(29,"div",17)(30,"div",18)(31,"span",9),e._uU(32,"Offer Start Date"),e.TgZ(33,"span"),e._uU(34,"*"),e.qZA()(),e.TgZ(35,"label",19),e._UZ(36,"i",20)(37,"p-calendar",21),e.qZA(),e.YNc(38,Ue,2,1,"span",11),e.qZA(),e.TgZ(39,"div",18)(40,"span",9),e._uU(41,"Offer End Date"),e.TgZ(42,"span"),e._uU(43,"*"),e.qZA()(),e.TgZ(44,"label",19),e._UZ(45,"i",20)(46,"p-calendar",22),e.qZA(),e.YNc(47,Le,2,1,"span",11),e.qZA()(),e.TgZ(48,"div",8)(49,"span",9),e._uU(50,"Product Name"),e.TgZ(51,"span"),e._uU(52,"*"),e.qZA()(),e._UZ(53,"input",23),e.YNc(54,Fe,2,1,"span",11),e.qZA(),e.TgZ(55,"div",24)(56,"div",25)(57,"span",26),e._uU(58,"Add Poster "),e.TgZ(59,"span",27),e._uU(60,"(Max size 10MB)"),e.qZA()(),e.TgZ(61,"label",28)(62,"input",29),e.NdJ("change",function(l){return n.onPosterChange(l)}),e.qZA()(),e.YNc(63,Je,2,1,"span",11),e.qZA()(),e.TgZ(64,"div",24)(65,"span",9),e._uU(66,"Offer Product Image"),e.TgZ(67,"span"),e._uU(68,"*"),e.qZA()(),e.TgZ(69,"div",30),e.YNc(70,Se,5,2,"div",31),e.YNc(71,He,8,1,"div",32),e.YNc(72,Me,2,1,"span",11),e.qZA()(),e.TgZ(73,"div",33)(74,"span",9),e._uU(75,"Product Description"),e.qZA(),e.TgZ(76,"div",34)(77,"ckeditor",35),e.NdJ("ready",function(l){return n.onTextEditorReady(l,"description")}),e.qZA()()(),e.TgZ(78,"div",33)(79,"div",36),e.YNc(80,We,17,6,"div",37),e.qZA()(),e.TgZ(81,"div",8)(82,"span",9),e._uU(83,"Company name"),e.TgZ(84,"span"),e._uU(85,"*"),e.qZA()(),e._UZ(86,"input",38),e.YNc(87,et,2,1,"span",11),e.qZA(),e.TgZ(88,"div",39)(89,"span",9),e._uU(90,"Company GST (Optional)"),e.qZA(),e.YNc(91,tt,1,3,"p-progressSpinner",40),e.TgZ(92,"label",41)(93,"input",42),e.NdJ("change",function(l){return n.onChangePDF(l)}),e.qZA(),e.TgZ(94,"span",43),e._UZ(95,"i",44),e.TgZ(96,"span",45),e._uU(97),e.qZA()()(),e.YNc(98,nt,2,1,"a",46),e.YNc(99,it,2,0,"span",11),e.qZA(),e.TgZ(100,"div",8)(101,"span",9),e._uU(102,"Company Contact No"),e.TgZ(103,"span"),e._uU(104,"*"),e.qZA()(),e._UZ(105,"input",47),e.YNc(106,lt,3,2,"span",11),e.qZA(),e.TgZ(107,"div",8)(108,"span",9),e._uU(109,"Company Email"),e.TgZ(110,"span"),e._uU(111,"*"),e.qZA()(),e._UZ(112,"input",48),e.YNc(113,ft,3,2,"span",11),e.qZA(),e.TgZ(114,"div",33)(115,"span",9),e._uU(116,"About Our Company"),e.qZA(),e.TgZ(117,"div",34)(118,"ckeditor",49),e.NdJ("ready",function(l){return n.onTextEditorReady(l,"about_company")}),e.qZA()()()()()()(),e.TgZ(119,"modal",50)(120,"div",51)(121,"span",52),e.NdJ("click",function(){return n.popClose("imgCropper")}),e._UZ(122,"i",53),e.qZA(),e.TgZ(123,"div",54)(124,"image-cropper",55),e.NdJ("imageCropped",function(l){return n.cropImg(l)})("imageLoaded",function(){return n.imageLoaded()}),e.qZA()(),e.TgZ(125,"div",54)(126,"h6",56),e._uU(127),e.qZA(),e.YNc(128,pt,1,1,"img",57),e.qZA()(),e.TgZ(129,"button",58),e.NdJ("click",function(){return n.savePoster(n.cropImgPreview)}),e._uU(130),e.qZA()(),e.TgZ(131,"modal",59)(132,"form",60)(133,"div",61)(134,"div",62)(135,"ckeditor",63),e.NdJ("ready",function(l){return n.onTextEditorReady(l,"t_and_c")}),e.qZA(),e.YNc(136,ct,2,1,"span",64),e.qZA(),e.TgZ(137,"div",65)(138,"label",66)(139,"div",67),e._UZ(140,"input",68)(141,"i",69),e.qZA(),e.TgZ(142,"span",70),e._uU(143,"Accept Your Terms and Conditions"),e.qZA()(),e.YNc(144,mt,2,1,"span",71),e.qZA()(),e.TgZ(145,"div",72)(146,"h5"),e._uU(147,"Social Media"),e.qZA(),e.TgZ(148,"div",73)(149,"div",74)(150,"div",75)(151,"div",76)(152,"div",77)(153,"div",78),e.O4$(),e.TgZ(154,"svg",79),e._UZ(155,"path",80),e.qZA()()(),e.kcU(),e._UZ(156,"input",81),e.qZA()(),e.TgZ(157,"div",75)(158,"div",76)(159,"div",77)(160,"div",78),e.O4$(),e.TgZ(161,"svg",82)(162,"g",83),e._UZ(163,"path",84)(164,"path",85),e.qZA(),e.TgZ(165,"defs")(166,"clipPath",86),e._UZ(167,"rect",87),e.qZA()()()()(),e.kcU(),e._UZ(168,"input",88),e.qZA()(),e.TgZ(169,"div",75)(170,"div",76)(171,"div",77)(172,"div",78),e.O4$(),e.TgZ(173,"svg",89),e._UZ(174,"path",90),e.qZA()()(),e.kcU(),e._UZ(175,"input",91),e.qZA()(),e.TgZ(176,"div",75)(177,"div",76)(178,"div",77)(179,"div",78),e.O4$(),e.TgZ(180,"svg",92),e._UZ(181,"path",93),e.qZA()()(),e.kcU(),e._UZ(182,"input",94),e.qZA()(),e.TgZ(183,"div",75)(184,"div",76)(185,"div",77)(186,"div",78),e.O4$(),e.TgZ(187,"svg",95)(188,"g",96),e._UZ(189,"path",97)(190,"path",98),e.qZA(),e.TgZ(191,"defs")(192,"linearGradient",99),e._UZ(193,"stop",100)(194,"stop",101)(195,"stop",102),e.qZA(),e.TgZ(196,"clipPath",103),e._UZ(197,"rect",104),e.qZA()()()()(),e.kcU(),e._UZ(198,"input",105),e.qZA()(),e.TgZ(199,"div",75)(200,"div",76)(201,"div",77)(202,"div",78),e.O4$(),e.TgZ(203,"svg",106),e._UZ(204,"path",107),e.qZA()()(),e.kcU(),e._UZ(205,"input",108),e.qZA()()()()(),e.TgZ(206,"div",109)(207,"div",110)(208,"button",111),e.NdJ("click",function(){return n.addEditOnlineShopOffer()}),e._uU(209,"Save"),e.qZA(),e.YNc(210,gt,2,2,"div",112),e.qZA()()()(),e.TgZ(211,"modal",113)(212,"div",114)(213,"div",115)(214,"h3",116),e._uU(215,"Delete Product Image"),e.qZA(),e.TgZ(216,"p",45),e._uU(217,"Are you sure you want to delete Product Image"),e.qZA()(),e.TgZ(218,"div",117)(219,"button",118),e.NdJ("click",function(){return n.close()}),e._uU(220,"Cancel"),e.qZA(),e.TgZ(221,"div",110)(222,"button",119),e.NdJ("click",function(){return n.deleteImage()}),e.TgZ(223,"span",120),e._uU(224,"Delete"),e.qZA()(),e.YNc(225,_t,2,2,"div",112),e.qZA()()()()),2&t){let o,l,a,p,m,g,_,v,b,C;e.xp6(6),e.hij("",n.offerId&&""!=n.offerId?"Edit":"Create"," Offer"),e.xp6(3),e.Q6J("formGroup",n.addEditOfferForm),e.xp6(8),e.Q6J("ngIf",(null==(o=n.addEditOfferForm.get("shop_name"))?null:o.invalid)&&(null==(o=n.addEditOfferForm.get("shop_name"))?null:o.dirty)&&(null==(o=n.addEditOfferForm.get("shop_name"))?null:o.touched)),e.xp6(8),e.Q6J("formControlName","offer_amount")("placeholder",n.addEditOfferForm&&n.addEditOfferForm.value&&n.addEditOfferForm.value.offer_type)("min",0)("max",(null==n.addEditOfferForm||null==n.addEditOfferForm.value?null:n.addEditOfferForm.value.offer_type)==n.constants.discountTypeArr[n.constants.discountTypeObj.percentage].value?100:n.positiveMaxNumber),e.xp6(2),e.Q6J("ngForOf",n.constants.discountTypeArr),e.xp6(1),e.Q6J("ngIf",(null==(l=n.addEditOfferForm.get("offer_amount"))?null:l.invalid)&&(null==(l=n.addEditOfferForm.get("offer_amount"))?null:l.dirty)&&(null==(l=n.addEditOfferForm.get("offer_amount"))?null:l.touched)),e.xp6(9),e.Q6J("touchUI",!0)("minDate",n.minDateValue),e.xp6(1),e.Q6J("ngIf",(null==(a=n.addEditOfferForm.get("start_date"))?null:a.invalid)&&(null==(a=n.addEditOfferForm.get("start_date"))?null:a.dirty)&&(null==(a=n.addEditOfferForm.get("start_date"))?null:a.touched)),e.xp6(8),e.Q6J("touchUI",!0)("minDate",n.addEditOfferForm.get("end_date").value?n.addEditOfferForm.get("end_date").value:n.minDateValue),e.xp6(1),e.Q6J("ngIf",(null==(p=n.addEditOfferForm.get("end_date"))?null:p.invalid)&&(null==(p=n.addEditOfferForm.get("end_date"))?null:p.dirty)&&(null==(p=n.addEditOfferForm.get("end_date"))?null:p.touched)),e.xp6(7),e.Q6J("ngIf",(null==(m=n.addEditOfferForm.get("product_name"))?null:m.invalid)&&(null==(m=n.addEditOfferForm.get("product_name"))?null:m.dirty)&&(null==(m=n.addEditOfferForm.get("product_name"))?null:m.touched)),e.xp6(9),e.Q6J("ngIf",(null==n.poster?null:n.poster.invalid)&&(null==n.poster?null:n.poster.dirty)&&(null==n.poster?null:n.poster.touched)),e.xp6(7),e.Q6J("ngForOf",n.images.value),e.xp6(1),e.Q6J("ngIf",(null==n.images||null==n.images.value?null:n.images.value.length)<2),e.xp6(1),e.Q6J("ngIf",(null==n.images?null:n.images.invalid)&&(null==n.images?null:n.images.dirty)&&(null==n.images?null:n.images.touched)),e.xp6(5),e.Q6J("config",n.editorConfig)("editor",n.detailEditor)("formControlName","description"),e.xp6(3),e.Q6J("ngForOf",n.productLinks.controls),e.xp6(7),e.Q6J("ngIf",(null==(g=n.addEditOfferForm.get("company_name"))?null:g.invalid)&&(null==(g=n.addEditOfferForm.get("company_name"))?null:g.dirty)&&(null==(g=n.addEditOfferForm.get("company_name"))?null:g.touched)),e.xp6(4),e.Q6J("ngIf",n.isPdfLoading),e.xp6(6),e.Oqu(n.inputText?n.inputText:"Upload PDF"),e.xp6(1),e.Q6J("ngIf",n.inputText),e.xp6(1),e.Q6J("ngIf",n.isInValidPDF),e.xp6(7),e.Q6J("ngIf",(null==(_=n.addEditOfferForm.get("company_contact_no"))?null:_.invalid)&&(null==(_=n.addEditOfferForm.get("company_contact_no"))?null:_.dirty)&&(null==(_=n.addEditOfferForm.get("company_contact_no"))?null:_.touched)),e.xp6(7),e.Q6J("ngIf",(null==(v=n.addEditOfferForm.get("company_email"))?null:v.invalid)&&(null==(v=n.addEditOfferForm.get("company_email"))?null:v.dirty)&&(null==(v=n.addEditOfferForm.get("company_email"))?null:v.touched)),e.xp6(5),e.Q6J("config",n.editorConfig)("editor",n.detailEditor)("formControlName","about_company"),e.xp6(6),e.Q6J("aspectRatio",2)("imageChangedEvent",n.imgChangeEvt)("maintainAspectRatio",!0),e.xp6(3),e.Oqu("Image Preview"),e.xp6(1),e.Q6J("ngIf",!n.isCropperLoading),e.xp6(1),e.Q6J("disabled",n.isPosterLoading),e.xp6(1),e.Oqu(n.isPosterLoading?"Please wait...":"Save Poster"),e.xp6(2),e.Q6J("formGroup",n.tandcForm),e.xp6(3),e.Q6J("config",n.editorConfig)("editor",n.detailEditor)("formControlName","t_and_c"),e.xp6(1),e.Q6J("ngIf",(null==(b=n.tandcForm.get("t_and_c"))?null:b.invalid)&&(null==(b=n.tandcForm.get("t_and_c"))?null:b.dirty)&&(null==(b=n.tandcForm.get("t_and_c"))?null:b.touched)),e.xp6(4),e.Q6J("formControlName","status"),e.xp6(4),e.Q6J("ngIf",(null==(C=n.tandcForm.get("status"))?null:C.invalid)&&(null==(C=n.tandcForm.get("status"))?null:C.dirty)&&(null==(C=n.tandcForm.get("status"))?null:C.touched)),e.xp6(64),e.Q6J("disabled",n.isLoading||n.isImgLoading||n.isPdfLoading||n.isInValidPDF||n.isSaveLoading),e.xp6(2),e.Q6J("ngIf",n.isSaveLoading),e.xp6(1),e.Q6J("isCloseHidden",!0)("isTitleHidden",!0),e.xp6(12),e.Q6J("ngClass",e.VKq(54,ht,n.isDeleteLoading)),e.xp6(2),e.Q6J("ngIf",n.isDeleteLoading)}},dependencies:[h.yS,c.mk,c.sg,c.O5,J.f,s._Y,s.Fj,s.wV,s.Wl,s._,s.JJ,s.JL,s.qQ,s.Fd,s.sg,s.u,s.x0,s.CE,s.On,A.G,xe.I,I.z,Z.Ou,S.ap,P.u,y.w9,y.Cm],styles:[".p-ngCss[_ngcontent-%COMP%]     .p-inputtext{border:0!important}.p-ngCss[_ngcontent-%COMP%]     .p-inputtext:enabled:focus{border:0!important;box-shadow:none!important}.p-ngCss[_ngcontent-%COMP%]     .dropify-wrapper{height:108px}  .ck-editor__editable_inline{min-height:350px!important}  .ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:none;box-shadow:none}  .ck-reset_all :not(.ck-reset_all-excluded *),   .ck.ck-reset_all{margin:4px 0}  .ck.ck-toolbar{border:0 none;border-bottom:1px solid #EEEEEE}  .ck.ck-toolbar .ck.ck-toolbar__separator{background:#EEEEEE}  input.small-input{width:100%;--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity));padding-top:0;padding-bottom:0;padding-left:.75rem;padding-right:3rem}.ng-select.selectBox[_ngcontent-%COMP%]     .ng-select-container{border:0px!important;background-color:#eee;padding:.75rem .875rem;display:flex;align-items:center;width:100%;border-radius:.375rem;min-height:48px;overflow:hidden}.ng-select.selectBox[_ngcontent-%COMP%]     .ng-select-container .ng-input input{padding-left:14px}.ng-select.selectBox[_ngcontent-%COMP%]     .ng-select-container .ng-input input, .ng-select.selectBox[_ngcontent-%COMP%]     .ng-select-container .ng-value-container{min-height:48px;outline:2px solid transparent;outline-offset:2px}.ng-select.ng-select-single[_ngcontent-%COMP%]     .ng-select-container .ng-value-container .ng-input{top:0!important}"]}),i})();var bt=f(4466),Ct=f(3474);const xt=[{path:"",component:W},{path:"create-offer",component:vt},{path:":id",component:_e}];let Ot=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[h.Bz.forChild(xt),c.ez,J._8,s.UX,bt.m,Ct.z,Z.Cq,k.U,S.QG,P.d,y.A0,L.kW,F.$,q.Xt]}),i})()}}]);