<p-progressSpinner *ngIf="isLoading" [style]="{width: '50px', height: '50px'}" animationDuration=".5s" strokeWidth="8"
  class="absolute bg-white bg-opacity-25 backdrop-blur-sm inset-x-0 top-0 h-full w-full z-40"
  styleClass="custom-spinner absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"></p-progressSpinner>
<div class="-mt-12 relative -z-10">
  <img [src]="!!(offerObj?.poster) ? constants.baseImageURL + offerObj.poster : constants.defaultImage"
    [alt]="offerObj?.shop_name" class="w-full object-cover max-h-80" />
</div>
<div class="wrapper -mt-14 z-10" *ngIf="!isLoading">
  <div class="lg:flex items-end justify-between bg-white py-5 px-7 rounded-md">
    <div>
      
      <div class="flex items-center pb-2 lg:pb-5">
        <i routerLink=".." class="icon-left_arrow cursor-pointer mr-4 text-xl"></i>
        <h2 class="">{{offerObj?.shop_name}}</h2>
      </div>
      <div class="w-full flex flex-wrap space-y-2 xl:space-y-0">
        <div class="pr-2.5 lg:pr-5">
          <span class="text-xs font-bold text-quicksilver"><i class="icon-rating pr-1"></i>{{'Ratings' | translate }}</span>
          <div class="flex flex-wrap items-center">
            <p-rating [(ngModel)]="offerObj.ratings" [readonly]="true" [cancel]="false"></p-rating>
            <span class="text-quicksilver text-xs font-bold pl-2"> {{offerObj?.totalreviews}} {{'Ratings' | translate }}</span>
          </div>
        </div>
        <div class="border-l-2 border-brightGray px-2.5 lg:px-5">
          <div class="text-sm font-semibold text-quicksilver">
            <i class="icon-calendar mr-1.5"></i>{{'Offer Date' | translate }}
          </div>
          <span class="text-japaneseIndigo text-sm font-bold">{{offerObj?.start_date | date:'dd MMM, yyyy'}} -
            {{offerObj?.end_date | date:'dd MMM, yyyy'}}</span>
        </div>
        <div class="border-l-2 border-brightGray px-2 lg:px-4">
          <div class="text-sm font-semibold text-quicksilver">
            <i class="icon-online_offer mr-1.5"></i>{{'Offer Status' | translate }}
          </div>
          <div class="flex items-center">
            <input type="checkbox" id="on" class="switch mx-3 order-2" (click)="offerLive($event, offerObj)"
              [checked]="offerObj?.is_live" [disabled]="!offerObj?.is_approved" />
            <span class="off text-base font-bold anim order-1 text-caribbeanGreen">{{'On' | translate }}</span>
            <span class="on text-base font-bold anim order-3">{{'Off' | translate }}</span>
          </div>
        </div>
      </div>
    </div>
    <div class="flex justify-end space-x-2 mt-2.5">
      <div *ngIf="offerObj.is_approved == true" class="group flex items-center justify-center p-1.5 transition-all rounded bg-[#EEEEEE]">
        <svg class="translate-x-1 group-hover:translate-x-0" width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M15.8903 7.50531C15.6467 7.3637 15.4279 7.18334 15.2423 6.97131C15.2611 6.67612 15.3314 6.3865 15.4501 6.11556C15.6683 5.49981 15.9151 4.80231 15.5191 4.26006C15.1231 3.71781 14.3753 3.73506 13.7191 3.75006C13.4291 3.7799 13.1361 3.76011 12.8528 3.69156C12.7018 3.44594 12.594 3.1763 12.5341 2.89431C12.3481 2.26056 12.1358 1.54431 11.4841 1.32981C10.8556 1.12731 10.2736 1.57281 9.75905 1.96431C9.53705 2.16705 9.27981 2.32744 9.00005 2.43756C8.71737 2.32834 8.45727 2.1679 8.2328 1.96431C7.7198 1.57506 7.14005 1.12506 6.50855 1.33056C5.8583 1.54206 5.64605 2.26056 5.45855 2.89431C5.39865 3.17538 5.29191 3.44438 5.1428 3.69006C4.85894 3.75843 4.56562 3.77871 4.27505 3.75006C3.61655 3.73206 2.8748 3.71256 2.47505 4.26006C2.0753 4.80756 2.32505 5.49981 2.54405 6.11481C2.66438 6.38534 2.73574 6.67509 2.7548 6.97056C2.56961 7.18287 2.35098 7.3635 2.10755 7.50531C1.55855 7.88031 0.935303 8.30706 0.935303 9.00006C0.935303 9.69306 1.55855 10.1183 2.10755 10.4948C2.35093 10.6364 2.56955 10.8168 2.7548 11.0288C2.73774 11.3242 2.66842 11.6142 2.55005 11.8853C2.33255 12.5003 2.08655 13.1978 2.4818 13.7401C2.87705 14.2823 3.62255 14.2651 4.2818 14.2501C4.57203 14.2202 4.86522 14.24 5.1488 14.3086C5.29909 14.5544 5.40661 14.824 5.4668 15.1058C5.6528 15.7396 5.86505 16.4558 6.5168 16.6703C6.62129 16.7038 6.73032 16.721 6.84005 16.7213C7.36746 16.6456 7.85764 16.4058 8.24105 16.0358C8.46306 15.8331 8.7203 15.6727 9.00005 15.5626C9.28273 15.6718 9.54284 15.8322 9.7673 16.0358C10.2811 16.4281 10.8631 16.8758 11.4923 16.6696C12.1426 16.4581 12.3548 15.7396 12.5423 15.1066C12.6024 14.825 12.7099 14.5556 12.8603 14.3101C13.1431 14.2412 13.4355 14.2209 13.7251 14.2501C14.3836 14.2658 15.1253 14.2876 15.5251 13.7401C15.9248 13.1926 15.6751 12.5003 15.4561 11.8846C15.3365 11.6143 15.2652 11.3252 15.2453 11.0303C15.4306 10.8178 15.6495 10.6372 15.8933 10.4956C16.4423 10.1206 17.0656 9.69306 17.0656 9.00006C17.0656 8.30706 16.4401 7.88106 15.8903 7.50531Z" fill="#46CC8D"/>
          <path d="M12.6059 6.75L10.2539 9.57238C9.32191 10.6908 8.8559 11.25 8.24284 11.25C7.62977 11.25 7.16377 10.6908 6.23176 9.57238L5.625 8.84427" stroke="white" stroke-linecap="round"/>
        </svg>
        <span class="inline-block w-0 invisible pl-1.5 group-hover:visible group-hover:w-auto text-xs font-bold text-black/70 whitespace-nowrap">{{'Verified' | translate }}</span>
      </div>
      <div *ngIf="offerObj.is_approved == false" class="group flex items-center justify-center p-1.5 transition-all rounded bg-[#EEEEEE]">
        <svg class="translate-x-1 group-hover:translate-x-0" width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M15.8903 7.50531C15.6467 7.3637 15.4279 7.18334 15.2423 6.97131C15.2611 6.67612 15.3314 6.3865 15.4501 6.11556C15.6683 5.49981 15.9151 4.80231 15.5191 4.26006C15.1231 3.71781 14.3753 3.73506 13.7191 3.75006C13.4291 3.7799 13.1361 3.76011 12.8528 3.69156C12.7018 3.44594 12.594 3.1763 12.5341 2.89431C12.3481 2.26056 12.1358 1.54431 11.4841 1.32981C10.8556 1.12731 10.2736 1.57281 9.75905 1.96431C9.53705 2.16705 9.27981 2.32744 9.00005 2.43756C8.71737 2.32834 8.45727 2.1679 8.2328 1.96431C7.7198 1.57506 7.14005 1.12506 6.50855 1.33056C5.8583 1.54206 5.64605 2.26056 5.45855 2.89431C5.39865 3.17538 5.29191 3.44438 5.1428 3.69006C4.85894 3.75843 4.56562 3.77871 4.27505 3.75006C3.61655 3.73206 2.8748 3.71256 2.47505 4.26006C2.0753 4.80756 2.32505 5.49981 2.54405 6.11481C2.66438 6.38534 2.73574 6.67509 2.7548 6.97056C2.56961 7.18287 2.35098 7.3635 2.10755 7.50531C1.55855 7.88031 0.935303 8.30706 0.935303 9.00006C0.935303 9.69306 1.55855 10.1183 2.10755 10.4948C2.35093 10.6364 2.56955 10.8168 2.7548 11.0288C2.73774 11.3242 2.66842 11.6142 2.55005 11.8853C2.33255 12.5003 2.08655 13.1978 2.4818 13.7401C2.87705 14.2823 3.62255 14.2651 4.2818 14.2501C4.57203 14.2202 4.86522 14.24 5.1488 14.3086C5.29909 14.5544 5.40661 14.824 5.4668 15.1058C5.6528 15.7396 5.86505 16.4558 6.5168 16.6703C6.62129 16.7038 6.73032 16.721 6.84005 16.7213C7.36746 16.6456 7.85764 16.4058 8.24105 16.0358C8.46306 15.8331 8.7203 15.6727 9.00005 15.5626C9.28273 15.6718 9.54284 15.8322 9.7673 16.0358C10.2811 16.4281 10.8631 16.8758 11.4923 16.6696C12.1426 16.4581 12.3548 15.7396 12.5423 15.1066C12.6024 14.825 12.7099 14.5556 12.8603 14.3101C13.1431 14.2412 13.4355 14.2209 13.7251 14.2501C14.3836 14.2658 15.1253 14.2876 15.5251 13.7401C15.9248 13.1926 15.6751 12.5003 15.4561 11.8846C15.3365 11.6143 15.2652 11.3252 15.2453 11.0303C15.4306 10.8178 15.6495 10.6372 15.8933 10.4956C16.4423 10.1206 17.0656 9.69306 17.0656 9.00006C17.0656 8.30706 16.4401 7.88106 15.8903 7.50531Z" fill="#FE4D5F"/>
          <path d="M7.5 7.5L10.5 10.5M7.50001 10.5L9 9L10.5 7.5" stroke="white" stroke-width="1.5" stroke-linecap="round"/>
        </svg>
        <span class="inline-block w-0 invisible pl-1.5 group-hover:visible group-hover:w-auto text-xs font-bold text-black/70 whitespace-nowrap">{{'Unverified' | translate }}</span>
      </div>
        <a class="bg-brightGray flex items-center justify-center w-[30px] h-[30px] text-center rounded" (click)="editOffer($event, offerObj._id)" href="javascript:void(0);"><i class="icon-edit text-sm leading-0 text-japaneseIndigo"></i></a>
        <a class="bg-brightGray flex items-center justify-center w-[30px] h-[30px] text-center rounded" (click)="gotoPromotion($event, offerObj._id)"><i class="icon-fill_megaphone text-sm leading-0 text-japaneseIndigo"></i></a>
        <a class="bg-brightGray flex items-center justify-center w-[30px] h-[30px] text-center rounded" (click)="openSocialMediaDailog($event,offerObj?._id)"><i class="icon-share text-sm leading-0 text-japaneseIndigo"></i></a>
    </div>
  </div>
      <!-- tab-holder  -->
  <div class="">
    <div class="teb-holder teb-box flex justify-between w-full">
      <div class="teb-holder">
        <button [class]="overview ? 'active' : ''" (click)="onTabChange('overview')" type="button">{{'Overview' | translate }}</button>
        <button [class]="reviews ? 'active' : ''" (click)="onTabChange('reviews')" type="button" *ngIf="offerObj && offerObj.offerreviews && offerObj.offerreviews.length">{{'Reviews' | translate }}</button>
      </div>
      <form id="review-form" action="" class="review-form hidden">
        <div class="w-full inputHolder">
          <span class="text-sm font-bold text-[#A6A6A6] pb-2">Select Offer</span>
          <select name="All Category" class="arrow bg-white text-japaneseIndigo font-bold rounded-md tracking-wider appearance-none focus-visible:outline-none">
            <option value="">All</option>
            <option value="">Select Category</option>
            <option value="">Select Category</option>
            <option value="">Select Category</option>
          </select>
        </div>
      </form>
    </div>
  </div>
  <div class="pt-3.5 lg:pt-7">
    <div class="relative tab-main active" id="overview" [class]="!reviews ? 'active' : ''" *ngIf="!reviews">
      <div class="flex flex-wrap">
        <div class="w-full lg:w-8/12 lg:pr-3 xl:pr-5 space-y-7">
          <div class="bg-white p-7 space-y-5 rounded-md">
            <div class="space-y-2.5">
              <p class="text-lg text-japaneseIndigo font-bold">{{'Product Image' | translate }}</p>
              <div class="flex space-x-5 items-center">
                <span *ngFor="let prod_imgs of offerObj?.images; let i = index" class="block w-40 h-40">
                  <p-image [src]="!!(prod_imgs?.url) ? constants.baseImageURL + prod_imgs.url : constants.defaultImage"
                    [alt]="'product-'+i" imageClass="w-full h-full object-cover rounded" styleClass="w-full h-full"
                    [preview]="true"></p-image>
                </span>
              </div>
            </div>
            <div class="space-y-2.5">
              <p class="text-lg text-japaneseIndigo font-bold">{{'Product Name' | translate }}</p>
              <span class="text-sm text-quicksilver">{{offerObj?.product_name}}</span>
            </div>
            <div class="space-y-2.5">
              <p class="text-lg text-japaneseIndigo font-bold">{{'Product Description' | translate }}</p>
              <div [innerHtml]="(tAndc2) ? offerObj?.description : offerObj?.description |slice:0:180"></div>
              <a href="javascript:;" *ngIf="!tAndc2 && offerObj?.description.length > 180" (click)="tAndc2=true"class="text-magicPotion text-sm font-semibold ml-auto">...{{'readMore' | translate }}</a>
              <a href="javascript:;" *ngIf="tAndc2 && offerObj?.description.length > 180" (click)="tAndc2=false"class="text-magicPotion text-sm font-semibold ml-auto">...{{'readLess' | translate }}</a>
              <!-- <span class="text-sm text-quicksilver">{{offerObj?.description}}</span> -->
            </div>
          </div>
           <div class="space-y-3">
            <h5>{{'Platform & Product Link' | translate }}</h5>
            <div class="bg-white p-7 space-y-2.5 rounded-md">
              <div class="flex items-center justify-between bg-brightGray py-3 px-4 rounded-md"
                *ngFor="let platform of offerObj?.product_links; let i = index">
                <div class="flex items-center space-x-2.5 w-full max-w-[calc(100%-148px)]">
                  <img
                    [src]="!!(platform?.platform?.platformimage) ? constants.baseImageURL + platform.platform.platformimage : constants.defaultImage"
                    [alt]="platform.platform.name" class="w-7 h-7 object-contain" />
                  <!-- <input type="text" class="w-full outline-none bg-transparent" [value]="platform.product_link" readonly /> -->
                  <div class="w-full block">
                    <a [href]="platform.product_link" target="_blank" class="w-full block text-sm normal-case whitespace-nowrap overflow-hidden overflow-ellipsis">{{platform?.clicks}}</a>
                    <span class="text-xs text-quicksilver">{{platform?.short_link_id?.clicks}} {{'User Click' | translate }}</span>
                  </div>
                </div>
                <div class="text-xl leading-0">
                  <a href="javascript:void(0);" class="px-3" title="Copy" (click)="copyLink(platform.product_link)"><i class="icon-copy"></i></a>
                  <a [href]="'//'+platform.product_link" class="px-3 border-l border-quicksilver" target="_blank" title="View This Link"><i class="icon-big_screen"></i></a>
                  <a href="javascript:void(0);" class="px-3 border-l border-quicksilver" title="Share">
                    <i class="icon-share_border"></i>
                  </a>
                </div>
              </div>
            </div>
          </div>
          <div class="w-full mt-5 addsBox">
            <img src="/assets/images/banner-ads.png" alt="ring-ad" class="w-full object-cover" />
          </div>
          <div class="space-y-4" *ngIf="offerObj?.company_name || offerObj?.about_company">
            <h5>{{'companyDetails' | translate }}</h5>
            <div class="p-7 bg-white rounded-md space-y-1">
              <h3 class="text-lg">{{offerObj?.company_name}}</h3>
              <div [innerHtml]="(tAndc1) ? offerObj?.about_company : offerObj?.about_company |slice:0:180"></div>
              <a href="javascript:;" *ngIf="!tAndc1 && offerObj?.about_company.length > 180" (click)="tAndc1=true"class="text-magicPotion text-sm font-semibold ml-auto">...{{'readMore' | translate }}</a>
              <a href="javascript:;" *ngIf="tAndc1 && offerObj?.about_company.length > 180" (click)="tAndc1=false"class="text-magicPotion text-sm font-semibold ml-auto">...{{'readLess' | translate }}</a>
              <!-- <p class="text-quicksilver text-sm font-normal">{{offerObj?.about_company}}</p> -->
            </div>
          </div>
          <div class="space-y-4" *ngIf="offerObj?.tandc" id="tAndC">
            <h5>{{'termsConditions' | translate}}</h5>
            <div class="p-7 bg-white rounded-md space-y-1" *ngIf="offerObj?.tandc">
            <div class="bg-white rounded-md space-y-1" [innerHtml]="(tAndc) ? offerObj?.tandc?.t_and_c : offerObj?.tandc?.t_and_c | slice:0:150"></div>
            <a href="javascript:;" *ngIf="!tAndc && offerObj?.tandc?.t_and_c.length > 180" (click)="tAndc=true"class="text-magicPotion text-sm font-semibold ml-auto">...{{'readMore' | translate }}</a>
            <a href="javascript:;" *ngIf="tAndc && offerObj?.tandc?.t_and_c.length > 180" (click)="tAndc=false"class="text-magicPotion text-sm font-semibold ml-auto">...{{'readLess' | translate }}</a>
            </div>
          </div>
          <!-- Social-Media -->
          <div class="w-full  space-y-3" *ngIf="offerObj?.tandc?.facebook && offerObj?.tandc?.facebook != '' ||
                offerObj?.tandc?.twitter && offerObj?.tandc?.twitter != '' ||
                offerObj?.tandc?.youtube && offerObj?.tandc?.youtube != '' ||
                offerObj?.tandc?.pinterest && offerObj?.tandc?.pinterest != '' ||
                offerObj?.tandc?.instagram && offerObj?.tandc?.instagram != '' ||
                offerObj?.tandc?.linkedin && offerObj?.tandc?.linkedin != ''">
            <span class="block text-base lg:text-xl font-bold">{{'socialMedia' | translate }}</span>
            <div class="flex items-center space-x-5 p-5 lg:p-7  rounded-lg">
              <a *ngIf="offerObj?.tandc?.facebook != ''" [href]="offerObj?.tandc?.facebook" target="_blank">
                <img class="w-10 h-10 object-cover" alt="facebook" src="../assets/images/facebook.png" />
              </a>
              <a *ngIf="offerObj?.tandc?.twitter != ''" [href]="offerObj?.tandc?.twitter" target="_blank">
                <img class="w-10 h-10 object-cover" alt="twiiter" src="../assets/images/twiiter.png" />
              </a>
              <a *ngIf="offerObj?.tandc?.youtube != ''" [href]="offerObj?.tandc?.youtube" target="_blank">
                <img class="w-10 h-10 object-cover" alt="youtube" src="../assets/images/youtube.png" />
              </a>
              <a *ngIf="offerObj?.tandc?.pinterest != ''" [href]="offerObj?.tandc?.pinterest" target="_blank">
                <img class="w-10 h-10 object-cover" alt="pinterest" src="../assets/images/pinterest.png" />
              </a>
              <a *ngIf="offerObj?.tandc?.instagram != ''" [href]="offerObj?.tandc?.instagram" target="_blank">
                <img class="w-10 h-10 object-cover" alt="instagram" src="../assets/images/instagram.png" />
              </a>
              <a *ngIf="offerObj?.tandc?.linkedin != ''" [href]="offerObj?.tandc?.linkedin" target="_blank">
                <img class="w-10 h-10 object-cover" alt="linkdin" src="../assets/images/linked.png" />
              </a>
            </div>
          </div>
        </div>
        <div class="w-full lg:w-4/12 lg:pl-3 xl:pl-5 space-y-3 sticky top-0 mt-7 lg:mt-0">
          <div class="bg-gradient-to-r from-[#13e1b094] to-[#13E1B0] space-y-3.5 rounded-md p-5 relative">
            <h3 class="text-white font-normal">Discount On Products</h3>
            <h1>{{offerObj?.offer_amount}}{{(offerObj?.offer_type == 'percentage') ? '%' : 'â‚¹'}} Discount </h1>
            <span class="text-white flex" title="Scroll Down Terms & Conditions">T&C Apply*</span>
            <img src="../assets/images/event-subscription.png" alt="event" class="absolute bottom-7 -right-1" />
          </div>
          <!-- <div class="bg-white p-7 rounded-md space-y-3">
            <p class="text-lg text-japaneseIndigo font-bold">user click on platform</p>
            <div class="flex items-center space-x-2.5 cursor-pointer"
              *ngFor="let click of offerObj?.product_links;let i = index;"
              (click)="userClick(click?.short_link_id?.short_url)">
              <img
                [src]="!!(click?.platform?.platformimage) ? constants.baseImageURL + click.platform.platformimage : constants.defaultImage"
                [alt]="click?.platform?.name" class="w-10 h-10" />
              <div class="flex flex-col justify-center">
                <p class="text-base text-japaneseIndigo font-bold mb-0">{{click?.platform?.name}}</p>
                <span class="text-xs text-quicksilver">{{click?.short_link_id?.clicks}} User Click</span>
              </div>
            </div>
          </div> -->
          <!-- <div class="w-full mt-5 addsBox">
            <img src="/assets/images/ad.png" alt="ring-ad" class="w-full object-cover" />
          </div> -->
        </div>
      </div>
    </div>
    <div class="w-full tab-main space-y-2.5" [class]="reviews ? 'active' : ''">
      <div *ngFor="let reviews of offerObj.offerreviews" class="w-full lg:w-8/12">
        <div class="bg-white rounded-lg p-5 lg:flex">
          <div>
            <div class="w-14 h-14 border-2 border-brightGray rounded-full overflow-hidden bg-white">
              <img alt="cutting-board" class="w-full h-full object-cover" [src]="!!(reviews?.userid?.profilepic) ? constants.baseImageURL + reviews?.userid?.profilepic : constants.userDefaultImage"/>
            </div>
          </div>
          <div class="w-full lg:px-5 py-5 lg:py-0">
            <div class="flex justify-between">
              <h3>{{ reviews?.userid?.name }}</h3>
              <div class="flex items-center space-x-1">
                <p-rating [(ngModel)]="reviews.ratings" [readonly]="true" [cancel]="false"></p-rating>
                <span class="text-xs font-bold text-quicksilver">{{ reviews?.createdAt | date:'dd MMM, yyyy' }}</span>
              </div>
            </div>
            <span class="text-base text-[#9BA0A8] pb-2.5">{{ reviews?.offer_title }}</span>
            <p class="text-sm text-japaneseIndigo">{{ reviews?.review }}</p>
          </div>
          <!-- <div>
            <div class="w-14 h-14 border-2 border-brightGray rounded-md overflow-hidden bg-white">
              <img [src]="!!(reviews?.offerid?.poster) ? constants.baseImageURL + reviews?.offerid.poster : constants.defaultImage" [alt]="reviews?.offer?.offer_title" />
            </div>
          </div> -->
        </div>
      </div>
      <!-- ad banner -->
      <div class="w-full mt-5 addsBox">
        <img src="/assets/images/banner-ads.png" alt="ring-ad" class="w-full object-cover" />
      </div>
      <!-- ad banner end -->
    </div>     

  </div>
</div>

<!-- Delete Online Offer -->
<modal class="popup table fixed w-full inset-0 z-40 bg-black bg-opacity-75 h-screen hidden" id="delete-offer-pop"
  title="Are you sure?" [isCloseHidden]="true" [isTitleHidden]="true">
  <div class="flex flex-wrap relative">
    <div class="w-full pb-8">
      <h3 class="w-full pb-2 normal-case">Delete Offer</h3>
      <p class="normal-case">Are you sure you want to delete {{offerObj?.shop_name}}</p>
    </div>
    <div class="flex items-center justify-end space-x-5 w-full">
      <button type="button" class="primary py-2 px-14 anim uppercase" (click)="close()">Cancel</button>
      <div class="relative">
        <button class="secondary py-2 px-14 anim uppercase" type="submit" (click)="deleteEvent()">
          <span [ngClass]="{'opacity-0': isDeleteLoading}">Delete</span>
        </button>
        <div class="absolute inset-0 text-white flex items-center" *ngIf="isDeleteLoading">
          <mat-progress-spinner [diameter]="22" [mode]="'indeterminate'" class="mx-auto"></mat-progress-spinner>
        </div>
      </div>
    </div>
  </div>
</modal>

<!-- Delete Online Offer -->
<modal class="popup table fixed w-full inset-0 z-40 bg-black bg-opacity-75 h-screen hidden" id="clickUserList" [isCloseHidden]="true" [isTitleHidden]="true">
  <div class="flex flex-wrap relative">
    <div class="w-full pb-8">
      <h3 class="w-full pb-2 normal-case">Clicked User List</h3>
      <p-table [value]="clickUsersObj" dataKey="id">
        <ng-template pTemplate="header">
          <tr>
            <th class="w-1/2">User Name</th>
            <th class="w-1/2">Clicked Time</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-user>
          <tr class="p-selectable-row">
            <td>{{user?.userid?.name}}</td>
            <td>{{user?.timestamp | date:'dd MMM, yyyy hh:mm a'}}</td>
          </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
          <tr>
            <td colspan="8">No clicks found.</td>
          </tr>
        </ng-template>
      </p-table>
    </div>
    <div class="flex items-center justify-end space-x-5 w-full">
      <button type="button" class="secondary py-2 px-14 anim uppercase" (click)="clickPopClose()">Cancel</button>
    </div>
  </div>
</modal>

<div id="Social_media" class="fixed inset-0 w-full h-screen flex items-center justify-center backdrop-blur-sm z-50" title="Social-Media" *ngIf="openPopUp">
  <div class="max-w-lg w-full bg-white shadow-3xl rounded p-10">
    <div class="flex items-center justify-between">
      <h2>
        Social Media
      </h2>
      <span (click)="openSocialMediaDailog($event)" class="cursor-pointer hover:opacity-60">
                    <svg fill="none" height="21" viewBox="0 0 21 21" width="21" xmlns="http://www.w3.org/2000/svg"> <path d="M20.2902 4.13628L13.9273 10.4999L20.2902 16.8631C21.2366 17.8099 21.2366 19.3437 20.2902 20.2905C19.8173 20.7634 19.1973 21 18.5776 21C17.9569 21 17.3368 20.7637 16.8643 20.2905L10.5 13.9265L4.13625 20.2904C3.66342 20.7633 3.04337 20.9999 2.42313 20.9999C1.80308 20.9999 1.18345 20.7637 0.710197 20.2904C-0.23625 19.344 -0.23625 17.8103 0.710197 16.8631L7.07289 10.4998L0.709835 4.13628C-0.236612 3.18982 -0.236612 1.65575 0.709835 0.709297C1.6561 -0.236432 3.18926 -0.236432 4.13589 0.709297L10.5 7.07288L16.8636 0.709297C17.8104 -0.236432 19.3437 -0.236432 20.2898 0.709297C21.2366 1.65575 21.2366 3.18982 20.2902 4.13628Z" fill="#2E363F"></path> </svg>
               </span>
    </div>
    <div class="flex items-center space-x-5 pt-5 md:pt-7 lg:pt-10 rounded-lg">
      <a href="https://www.facebook.com/sharer/sharer.php?u={{fullShareLink}}" target="_blank">
        <img class="w-10 h-10 object-cover" alt="facebook" src="../assets/images/facebook.png" />
      </a>
      <a href="https://twitter.com/intent/tweet?url={{fullShareLink}}" target="_blank">
        <img class="w-10 h-10 object-cover" alt="twiiter" src="../assets/images/twiiter.png" />
      </a>
      <a  href="https://api.whatsapp.com/send?text={{fullShareLink}}">
        <img class="w-10 h-10 object-cover" alt="facebook" src="../assets/images/whatapp.png" />
      </a>
      <a  href="https://www.instagram.com" target="_blank">
        <img class="w-10 h-10 object-cover" alt="instagram" src="../assets/images/instagram.png" />
      </a>
      <a  href="https://www.linkedin.com/" target="_blank">
        <img class="w-10 h-10 object-cover" alt="linkdin" src="../assets/images/linked.png" />
      </a>
      <a href="https://www.youtube.com/" target="_blank">
        <img class="w-10 h-10 object-cover" alt="youtube" src="../assets/images/youtube.png" />
      </a>
      <a  href="https://www.pinterest.com/" target="_blank">
        <img class="w-10 h-10 object-cover" alt="pinterest" src="../assets/images/pinterest.png" />
      </a>

    </div>
    <p class="text-sm pt-3">Or copy link</p>
    <!--BOX LINK-->
    <div class="border-2 border-gray-200 flex justify-between items-center mt-4 py-2">
      <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              class="fill-gray-500 ml-2"
      >
        <path
                d="M8.465 11.293c1.133-1.133 3.109-1.133 4.242 0l.707.707 1.414-1.414-.707-.707c-.943-.944-2.199-1.465-3.535-1.465s-2.592.521-3.535 1.465L4.929 12a5.008 5.008 0 0 0 0 7.071 4.983 4.983 0 0 0 3.535 1.462A4.982 4.982 0 0 0 12 19.071l.707-.707-1.414-1.414-.707.707a3.007 3.007 0 0 1-4.243 0 3.005 3.005 0 0 1 0-4.243l2.122-2.121z"
        ></path>
        <path
                d="m12 4.929-.707.707 1.414 1.414.707-.707a3.007 3.007 0 0 1 4.243 0 3.005 3.005 0 0 1 0 4.243l-2.122 2.121c-1.133 1.133-3.109 1.133-4.242 0L10.586 12l-1.414 1.414.707.707c.943.944 2.199 1.465 3.535 1.465s2.592-.521 3.535-1.465L19.071 12a5.008 5.008 0 0 0 0-7.071 5.006 5.006 0 0 0-7.071 0z"
        ></path>
      </svg>

      <input class="w-full outline-none bg-transparent" type="text" placeholder="link" value="{{shareLink}}/#/online-offers/{{selectedEventId}}">

      <button class="bg-indigo-500 text-white rounded text-sm py-2 px-5 mr-2 hover:bg-indigo-600" (click)="copyShareLink()">
        Copy
      </button>
    </div>
  </div>
</div>

